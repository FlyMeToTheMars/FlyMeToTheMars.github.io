<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/xingqiushangcheng.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/xingqiushangcheng.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-mac-osx.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="keywords" content="Basic Knowledge">
<meta property="og:type" content="article">
<meta property="og:title" content="Dawn Dew-light Collected at Dusk 4 Basic Knowledge">
<meta property="og:url" content="http://yoursite.com/2021/06/22/Dawn-Dew-light-Collected-at-Dusk-4-Basic-Knowledge/index.html">
<meta property="og:site_name" content="Mars">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622101011.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622170319.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622181145.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622181044.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622181222.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622181253.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622181321.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082138.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082207.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082232.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082618.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082709.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082802.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623084951.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623085008.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623085105.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623085438.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623085453.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623085618.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623092917.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623093020.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623094007.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623095415.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623112258.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623112408.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623112429.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623112440.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623113721.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623114108.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623114328.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623163858.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623164748.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623164924.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623164950.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623165424.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623165523.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623165554.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623165746.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623181121.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623181158.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623184936.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623185115.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623185149.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623185353.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623185407.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192452.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192516.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192542.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192608.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192721.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192734.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192758.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192836.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192908.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192934.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623193000.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623193037.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163206.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163234.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163245.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163304.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163328.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163351.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163445.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163604.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164203.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164220.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164338.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164356.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164423.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164445.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164508.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164532.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164558.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164612.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175451.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175512.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175634.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175755.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175807.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175820.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175954.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625083225.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625095958.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100100.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100117.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100241.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100254.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100315.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100334.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625112735.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625112814.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155406.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155440.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155533.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155618.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155651.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155721.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155915.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625161610.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625161838.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625161919.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625161932.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162004.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162028.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162217.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162350.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162413.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162620.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162748.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162857.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625163156.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625163419.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625163747.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625163858.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625164318.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625164501.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625170256.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625170318.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625170357.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625170428.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625171945.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625172114.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625172558.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625172807.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625184430.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231718.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231734.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231804.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231821.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231849.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231932.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625232027.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625232119.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625234904.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625234920.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625234931.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625234944.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625234955.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625235008.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210627232933.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628093200.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628095938.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628100030.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628101849.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628103020.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628103053.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628103553.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628103822.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628162006.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628164745.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628170950.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628171637.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628171759.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628171907.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628172018.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628174552.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628174702.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628174718.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628204545.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628204612.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628210820.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629101758.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629102827.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103056.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103155.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103532.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103643.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103850.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103924.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629104016.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629142514.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629142927.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629142948.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629143035.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629144737.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629144754.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629145239.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629145400.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629145457.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629145715.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629153904.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629161923.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629163221.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629164711.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629164820.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629164948.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629165508.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629165525.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629165616.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170014.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170109.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170301.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170357.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170534.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170619.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629172322.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629172756.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629172811.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629172930.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629172919.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629173135.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629174119.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630074809.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630074921.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630074952.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630075950.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080008.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080027.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080043.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080147.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080417.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080512.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080549.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080610.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080742.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080849.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082207.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082256.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082432.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082520.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082535.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082642.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082707.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630084651.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630084827.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630084959.png">
<meta property="og:image" content="c:/Users/flyho/AppData/Roaming/Typora/typora-user-images/image-20210630090802588.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630090928.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630091007.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630114725.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630114822.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115010.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115403.gif">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115722.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115733.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115747.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115757.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115809.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115820.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115834.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115846.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115857.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630120634.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122049.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122159.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122235.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122328.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122411.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122600.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122821.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630123321.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630123348.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630123725.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630132054.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630132147.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630132331.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630133938.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630134225.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630143310.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630143358.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630143425.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630151654.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630152655.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630164233.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630164829.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630164854.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630164918.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630170647.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630173215.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630173421.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630173726.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630184343.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630184512.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630184649.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630184722.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185319.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185409.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185657.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185709.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185721.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185800.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630191158.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702155902.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702160902.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702161329.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702162042.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702162145.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702163612.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702163639.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702163658.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702163712.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702163732.png">
<meta property="og:image" content="https://s0.lgstatic.com/i/image6/M00/38/82/Cgp9HWB5WbqAVlGaAHeNbdcL7hg030.gif">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703190417.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703190820.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703190919.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703191322.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703191719.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703191730.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703191833.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703192001.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703192457.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703211701.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210705220326.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210705220350.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104250.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104304.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104409.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104440.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104531.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104544.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104643.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104659.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802114305.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802115634.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802115717.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802121021.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802121620.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802121802.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802141337.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802141549.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802162709.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802162809.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802162837.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802171040.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174247.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174259.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174313.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174554.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174617.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174930.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802183750.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802183809.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802183828.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802183916.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802183939.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802184039.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802200225.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802200313.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803112824.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803112917.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803113019.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803113046.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803113103.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803113115.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803144303.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803145544.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803152908.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803153001.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803153240.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803153251.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805093142.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805093848.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805093929.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805112609.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805112645.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805112658.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808194717.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808195425.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808195528.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808195704.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808202324.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808205656.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808205853.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808205946.png">
<meta property="og:updated_time" content="2021-08-08T15:54:45.519Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dawn Dew-light Collected at Dusk 4 Basic Knowledge">
<meta name="twitter:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622101011.png">

<link rel="canonical" href="http://yoursite.com/2021/06/22/Dawn-Dew-light-Collected-at-Dusk-4-Basic-Knowledge/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Dawn Dew-light Collected at Dusk 4 Basic Knowledge | Mars</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Mars" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Mars</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i></a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i></a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/06/22/Dawn-Dew-light-Collected-at-Dusk-4-Basic-Knowledge/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fly Hugh">
      <meta itemprop="description" content="WE CHOOSE TO  GO TO THE MARS">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mars">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Dawn Dew-light Collected at Dusk 4 Basic Knowledge
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text"></span>

              <time title="2021-06-22 07:45:56" itemprop="dateCreated datePublished" datetime="2021-06-22T07:45:56+08:00">2021-06-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text"></span>
                <time title="2021-08-08 23:54:45" itemprop="dateModified" datetime="2021-08-08T23:54:45+08:00">2021-08-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622101011.png"></p>
<a id="more"></a> 

<h1 id=""><a href="#" class="headerlink" title=""></a></h1><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622170319.png" alt="image-20210622170319444"></p>
<p></p>
<p>1.</p>
<p>2.</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>1115+  3 1115 +) 11 </p>
<p> 11 </p>
<p> 15 11  15</p>
<p>+</p>
<p> +  </p>
<p> +  </p>
<p> +  + </p>
<p> 1115  26 </p>
<p></p>
<p></p>
<p> 26 </p>
<p> 11+15 </p>
<p></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> 1945  101  5 </p>
<p>    </p>
<p>    </p>
<p>    </p>
<p>    </p>
<p>    </p>
<p> 5 </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> bit 8  byte 0  1  0 2  1  1</p>
<p></p>
<h4 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h4><p> CPU CPU </p>
<p> CPU  4  byte 32  CPU</p>
<p> CPU  8  byte 64  CPU</p>
<p> 32  64 CPU </p>
<p> CPU   byte  0~255 20000*50byte CPU  byte CPU  32  CPU  4294967295</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>CPU  CPU </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>CPU  CPU  CPU </p>
<p></p>
<p> CPU </p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>CPU  3 </p>
<p> CPU </p>
<p></p>
<p> CPU </p>
<p>CPU </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> CPU  CPU </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h5 id="1-"><a href="#1-" class="headerlink" title="1."></a>1.</h5><p> 0 1</p>
<p> 1  0,1  1100 10  4 </p>
<p> bit  bit </p>
<p> 1  0-1  2  10  210  1024  4G  32  232  4G</p>
<p></p>
<h5 id="2-64--32-"><a href="#2-64--32-" class="headerlink" title="2. 64  32 "></a>2. 64  32 </h5><p>CPU </p>
<p> 32  CPU 64 </p>
<p>32  CPU  40   32  CPU  32 </p>
<p> 64  2  32  32  32 </p>
<p> 64  CPU  64  64  CPU  64  64  CPU  32 </p>
<p> 32  10  32  20  32  64 </p>
<p>32  CPU  32  40  40 32  CPU  40  32  32  CPU  232  4G </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> CPU </p>
<p>1.CPU  PC  3 </p>
<p> 1CPU  PC </p>
<p> 2CPU  CPU</p>
<p> 3CPU </p>
<p> 3 CPU  PC </p>
<p>2.CPU <br>3.<br>4.PC </p>
<blockquote>
<p> 32  32  4  4  PC  4</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622181145.png" alt="image-20210622181145576"></p>
</blockquote>
<p></p>
<p></p>
<p>64  CPU  64 64  64  CPU  40  1T 240</p>
<p> PC CPU </p>
<h3 id="-a-11-15-"><a href="#-a-11-15-" class="headerlink" title=" a = 11 + 15 "></a> a = 11 + 15 </h3><p>a=11+15</p>
<p> Review a=11+15CPU </p>
<p> CPU </p>
<p> a=11+15 </p>
<p>1. 11  15 </p>
<p>11  0x100</p>
<p>15  0x104</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622181044.png" alt="image-20210622181044065"></p>
<p>2.a=11+15 4  4  0x200-0x20c </p>
<p>0x200  load  0x100  11  R0</p>
<p>0x204  load  0x104  15  R1</p>
<p>0x208  add  R0  R1  R2</p>
<p>0x20c  store  R2  0x1108 </p>
<p>3.PC  0x200  4 </p>
<p></p>
<p> a a </p>
<p> 0x200  0x8c000100</p>
<p> 4  32  32  CPU  32  CPU  32  32  8 </p>
<p></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<p>load  16 0x8c000100</p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622181222.png" alt="image-20210622181222780"></p>
<p> 6  OpCode100011  load </p>
<p> 4  0000 R0</p>
<p> 22  0x100</p>
<p> 32 </p>
<p> add 16  0x08048000</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622181253.png" alt="image-20210622181253269"></p>
<p> 6  add</p>
<p> 4  0000  R0</p>
<p> 4  0001  R1</p>
<p> 4  0010  R2</p>
<p> 14 </p>
<p> CPU  CPU </p>
<p> CPU  PC  Fetch</p>
<p>CPU  Decode</p>
<p>CPU  Execution</p>
<p>CPU  Store</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210622181321.png" alt="image-20210622181321836"></p>
<p> 4  CPU CPU </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> OpCode</p>
<ol>
<li><p></p>
</li>
<li><p></p>
</li>
<li><p></p>
</li>
</ol>
<p></p>
<p> 5 </p>
<ol>
<li><p>I/O  store/load  mov </p>
</li>
<li><p></p>
</li>
<li><p> PC + if-elseswtich-case</p>
</li>
<li><p> trap</p>
</li>
<li><p> CPU  nop CPU  CPU </p>
</li>
</ol>
<p> 2 </p>
<ol>
<li><p> add </p>
</li>
<li><p> addi </p>
</li>
</ol>
<p> load </p>
<ol>
<li><p>la</p>
</li>
<li><p>li</p>
</li>
<li><p>lw</p>
</li>
</ol>
<p></p>
<p></p>
<ol>
<li><p></p>
</li>
<li><p> CPU </p>
</li>
<li><p> CPU  PC </p>
</li>
</ol>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> CPU CPU  1GHz  CPU 1G</p>
<p> 2 4 6 </p>
<h3 id="64--32-"><a href="#64--32-" class="headerlink" title="64  32 "></a>64  32 </h3><p> 164  CPU </p>
<p> 264  CPU </p>
<p> 32 /64  64  32 32  64   64  32  32  64  64  32 32 </p>
<p> 64  64  32 </p>
<h3 id="for-"><a href="#for-" class="headerlink" title="for "></a>for </h3><p> for </p>
<p> 1  100  Java </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">1</span>, s = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">  s+=i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> for  1  100W  <code>jump</code> :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">loop:</span><br><span class="line">  jump loop</span><br></pre></td></tr></table></figure>

<p> <code>jumploop</code>  <code>loop</code> </p>
<p> <code>for</code> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"># var i = 1, s = 0</span><br><span class="line"></span><br><span class="line">#  Java  1  0 </span><br><span class="line">#  $i  $s </span><br><span class="line">store #1 -&gt; $i //  1 i</span><br><span class="line">store #0 -&gt; $s //  0  s </span><br><span class="line"></span><br><span class="line">#  loop </span><br><span class="line"># loop </span><br><span class="line">#  jump </span><br><span class="line">loop: # </span><br><span class="line"></span><br><span class="line"># for ... i &lt;= 100</span><br><span class="line"># </span><br><span class="line">#  i &lt;= 100</span><br><span class="line"></span><br><span class="line">#  i  $i  R0</span><br><span class="line">load $i -&gt; R0</span><br><span class="line"></span><br><span class="line">#  cmp  R0  100</span><br><span class="line">cmp R0 #100 //  R0  100</span><br><span class="line"></span><br><span class="line"># </span><br><span class="line"># </span><br><span class="line">#  jajump above,  R0  100 </span><br><span class="line">#  end </span><br><span class="line">ja end </span><br><span class="line">nop</span><br><span class="line"></span><br><span class="line">#  R0&lt;=100ja end  s+=i</span><br><span class="line">#  s  R1</span><br><span class="line">load $s -&gt; R1</span><br><span class="line"></span><br><span class="line"># R0R1 R2</span><br><span class="line">add R0 R1 R2 </span><br><span class="line"></span><br><span class="line">#  R2  s </span><br><span class="line">store R2 -&gt; $s</span><br><span class="line"></span><br><span class="line"># </span><br><span class="line">#  i </span><br><span class="line">#  i  R0  1  R0 </span><br><span class="line">add R0 #1 R0</span><br><span class="line"></span><br><span class="line">#  R0 i</span><br><span class="line">store R0 -&gt; $i</span><br><span class="line"></span><br><span class="line">#  loop </span><br><span class="line"># </span><br><span class="line">jump loop</span><br><span class="line">nop</span><br><span class="line">end:</span><br></pre></td></tr></table></figure>

<p>Tips:</p>
<ol>
<li>jump  PC  CPU  jump  nop  CPU  jump <strong></strong></li>
<li> add/store </li>
<li></li>
<li> CPU  RISC CISCInte  AMD  CISC ARM  MIPS RISC </li>
</ol>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> <code>if-else</code>  <code>switch-case</code>   <code>if-else</code> </p>
<p><code>if-else</code>  <code>switch-case</code> 1000  case <code>if-else</code>  <code>999</code>  <code>switch-case</code> <code>case</code> </p>
<p><code>if-else</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(week == <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(week == <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <code>switch-case</code> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=PC + 4*(week * 2 - 1)</span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<p> C </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p></p>
<ol>
<li> a,b </li>
<li></li>
<li> <code>jump</code> </li>
</ol>
<p><code>a+b</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># add</span><br><span class="line">add:</span><br><span class="line"></span><br><span class="line"># ab</span><br><span class="line">load $a -&gt; R0</span><br><span class="line">load $b -&gt; R1</span><br><span class="line"></span><br><span class="line"># </span><br><span class="line">add R0 R1 R2</span><br><span class="line">store R2 -&gt; $r</span><br></pre></td></tr></table></figure>

<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jump add</span><br></pre></td></tr></table></figure>

<p> 2 </p>
<ol>
<li></li>
<li></li>
</ol>
<p> 2  Stack</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082138.png" alt="image-20210623082138584"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082207.png" alt="image-20210623082207315"></p>
<p> Stack </p>
<p></p>
<p> 11  15 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082232.png" alt="image-20210623082232407"></p>
<p>Stack Pointer SP SP </p>
<p> Stack PointerSP  0x100  0x100 </p>
<ul>
<li><strong>11</strong></li>
</ul>
<p> 11  Push) 11 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">store #11 -&gt; $SP // 11SP0x100</span><br><span class="line"></span><br><span class="line">add SP, 4, SP  // 432</span><br></pre></td></tr></table></figure>

<p> store  SP  11</p>
<p> 4</p>
<p> 11  SP  1  4 32  CPU  64  CPU 8</p>
<p>11  0x104 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082618.png" alt="image-20210623082618231"></p>
<ul>
<li><strong>15</strong></li>
</ul>
<p> 15 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082709.png" alt="image-20210623082709576"></p>
<p>11  15  0x108</p>
<ul>
<li><strong></strong></li>
</ul>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623082802.png" alt="image-20210623082802255"></p>
<ul>
<li><strong></strong></li>
</ul>
<p> jump </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jump add</span><br></pre></td></tr></table></figure>

<p> 11  15 SP 11  SP  3 15  SP  2  + </p>
<p> 11  15 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">load $(SP - 12) -&gt; R0</span><br><span class="line">load $(SP - 8) -&gt; R1</span><br></pre></td></tr></table></figure>

<p> R2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">load R0 R1 R2</span><br></pre></td></tr></table></figure>

<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">store R2 -&gt; $(SP-4)</span><br></pre></td></tr></table></figure>

<p> SP </p>
<p> 26 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623084951.png" alt="image-20210623084951620"></p>
<ul>
<li><strong>-</strong></li>
</ul>
<p></p>
<ol>
<li> PC  PC </li>
<li>11 15  26 26</li>
</ol>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623085008.png" alt="image-20210623085008446"></p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## </span><br><span class="line">add SP, 4  -&gt; SP </span><br><span class="line"></span><br><span class="line"># </span><br><span class="line"># 16</span><br><span class="line">MOV PC+4*(*2+1) -&gt; SP</span><br><span class="line"></span><br><span class="line"># </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># </span><br><span class="line">call function</span><br><span class="line"></span><br><span class="line"># </span><br><span class="line">add SP, -(+1)*4 SP</span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int sum(int n)&#123;</span><br><span class="line">  if(n == 1) &#123;return 1;&#125;</span><br><span class="line">  return n + sum(n-1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623085105.png" alt="image-20210623085105798"></p>
<p> sum(100) n = 100 n = 99</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623085438.png" alt="image-20210623085438298"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623085453.png" alt="image-20210623085453807"></p>
<p> 100 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if(n == 1) &#123;return 1;&#125;</span><br></pre></td></tr></table></figure>

<p> 99 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return 2 + sum(1) // sum(1) = 1</span><br></pre></td></tr></table></figure>

<p><code>return 3</code> 98  97 </p>
<p></p>
<h3 id="class"><a href="#class" class="headerlink" title="class"></a>class</h3><p></p>
<ul>
<li></li>
<li></li>
<li> <code>switch-case</code> </li>
<li></li>
</ul>
<p> class  class  class </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623085618.png" alt="image-20210623085618557"></p>
<p>class  class </p>
<ul>
<li></li>
<li></li>
</ul>
<p> class </p>
<ol>
<li></li>
<li></li>
<li></li>
</ol>
<p> class <code>this</code>  <code>this</code> class  <code>this</code> </p>
<p></p>
<ol>
<li></li>
<li> HTML SQL </li>
<li></li>
</ol>
<p><strong></strong></p>
<ul>
<li></li>
<li> Java</li>
<li></li>
</ul>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<ul>
<li></li>
<li> CPU</li>
<li> CPU </li>
</ul>
<p> 1GHz  CPU1G  10  1/10  310  8  3  30 </p>
<p> CPU </p>
<p> CPU </p>
<p> CPU  CPU</p>
<p></p>
<p></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<p> CPU  CPU </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623092917.png" alt="image-20210623092917007"></p>
<p></p>
<ol>
<li></li>
<li>L1-Cache</li>
<li>L2-Cache</li>
<li>L3-Cahce</li>
<li></li>
<li>/SSD</li>
</ol>
<h4 id="Register"><a href="#Register" class="headerlink" title="Register"></a>Register</h4><p> CPU </p>
<p>byte</p>
<ul>
<li>32  CPU  4 </li>
<li>64  CPU  8 </li>
</ul>
<p> CPU  4  4 </p>
<h4 id="L1-Cache"><a href="#L1-Cache" class="headerlink" title="L1-Cache"></a>L1-Cache</h4><p>L1-  CPU  CPU  L1-Cache  Kb  Kb  2~4  CPU </p>
<h4 id="L2-Cache"><a href="#L2-Cache" class="headerlink" title="L2-Cache"></a>L2-Cache</h4><p>L2-  CPU  L1-  CPU  L1-Cache  CPU  2M  10~20  CPU </p>
<h4 id="L3-Cache"><a href="#L3-Cache" class="headerlink" title="L3-Cache"></a>L3-Cache</h4><p>L3-  CPU  L2-  CPU  L2-Cache  20~60  CPU L3  i9 CPU  512KB L1 Cache 2MB L2 Cache 16MB L3 Cache</p>
<h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><p> CPU  CPU  16G T 200~300  CPU </p>
<h4 id="SSD-"><a href="#SSD-" class="headerlink" title="SSD "></a>SSD </h4><p>SSD  SSD  10~1000  100W  SSD </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623093020.png" alt="image-20210623093020389"></p>
<p> CPU  L1 L1  L2 L2  L3 L3 </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> CPU  L1- </p>
<p> 1 </p>
<h4 id="-1"><a href="#-1" class="headerlink" title=" 1"></a> 1</h4><p> Key-Value  Key  2 </p>
<ol>
<li></li>
<li></li>
</ol>
<p>CPU  L1- </p>
<p></p>
<h4 id="-2"><a href="#-2" class="headerlink" title=" 2"></a> 2</h4><p></p>
<p> 1000  10  0123999 0~9 701 701  10 1</p>
<p></p>
<p><code> % 10</code></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<p>CPU CPU  2<del>6  CPU  200</del>300 </p>
<p>CPU  200~300 </p>
<p></p>
<p> RPC </p>
<p> CPU  L1-  L1-  2~4  CPU </p>
<p> L1- L1- </p>
<p>L1-  L2/L3  L2  L3</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> L1/L2/L3 </p>
<p> miss</p>
<p>L1  80% L1/L2/L3  95% CPU  5% 95%  </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> L1-  CPU  L1-  21 | </p>
<p><strong>SSD L1 Cache </strong></p>
<p><strong></strong>  SSD  10<del>1000 L1 Cache  100  L1 Cache  SSD  1000</del>100000  SSD  SSD </p>
<p></p>
<p><strong></strong></p>
<p>willStop, funcwillStopfunc</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623094007.png" alt="image-20210623094007708"></p>
<p></p>
<p><strong>1M</strong><br></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623095415.png" alt="image-20210623095414990"></p>
<p></p>
<p>CPUCPU</p>
<p>Java</p>
<script src="https://gist.github.com/FlyMeToTheMars/6a3559806787435bfe6ae64a73a2aeb1.js"></script>

<h3 id="-Shell--Bash"><a href="#-Shell--Bash" class="headerlink" title=" Shell  Bash"></a> Shell  Bash</h3><p> Linux  ShellShell  Shell </p>
<p> Shell Shell</p>
<p>bashBourne Again Shell Shell  Bourne Steve Bourne  bash </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>Linux  7 :</p>
<ol>
<li></li>
<li><code>/</code></li>
<li><code>rm</code></li>
<li> 07 </li>
<li>Socket  Socket </li>
<li></li>
<li></li>
</ol>
<p><code>ls -F</code></p>
<ol>
<li>* </li>
<li>=  Socket </li>
<li>@ </li>
<li>| </li>
<li></li>
<li>/ </li>
</ol>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623112258.png" alt="image-20210623112257938"></p>
<p><strong>more</strong></p>
<p><code>more</code><code>more</code><code>more</code></p>
<p><strong>less</strong></p>
<p><code>less</code><code>more</code><code>man</code><code>less</code><code>more</code>opposite of more<code>linux</code><code>less</code><code>more</code><code>less</code></p>
<p><strong>head/tail</strong></p>
<p><code>head</code><code>tail</code> N  N  bug<code>tail -n 1000</code> 1000 </p>
<p><code>nginx</code><code>tail -f </code><code>man</code><code>-f</code> follow </p>
<p><strong>grep</strong></p>
<p><code>ip</code>nginx<code>nginx</code><code>less</code><code>more</code><code>grep</code>Linux  5 </p>
<p>grep  g|re|p</p>
<ul>
<li>g  global</li>
<li>re  regular expression</li>
<li>p  pattern</li>
</ul>
<p>grep</p>
<p> grep </p>
<ul>
<li> 1 ip </li>
</ul>
<p><code>grep</code><code>ip</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623112408.png" alt="image-20210623112408158"></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623112429.png" alt="image-20210623112429600"></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623112440.png" alt="image-20210623112440021"></p>
<p><strong>man </strong></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><strong><em></em></strong></p>
<p>*<strong>**</strong>*</p>
<h4 id="ps"><a href="#ps" class="headerlink" title="ps"></a><strong>ps</strong></h4><p><code>ps</code>p  processess  snapshot</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623113721.png" alt="image-20210623113721850"></p>
<p><strong>TTY</strong>TTY </p>
<p> TTY  bash<code>ps</code> TTY </p>
<p><code>ps -e</code><code>-e</code><code>-A</code><code>ps -e</code><code>ps -ef</code><code>-f</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623114108.png" alt="image-20210623114107889"></p>
<ul>
<li>UID </li>
<li>PID </li>
<li>PPID  ID</li>
<li>C  CPU  CPU </li>
<li>STIME </li>
<li>TTY  TTY TTY  </li>
<li>TIME</li>
<li>CMD  Shell </li>
</ul>
<p><code>ps aux</code><code>ps -ef</code> BSD  Unix </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623114328.png" alt="image-20210623114328257"></p>
<p> BSD </p>
<h4 id="top"><a href="#top" class="headerlink" title="top"></a>top</h4><p><code>ps</code><code>top</code><code>top</code> <code>htop</code></p>
<h3 id="Pipeline"><a href="#Pipeline" class="headerlink" title="Pipeline"></a>Pipeline</h3><p>Pipeline</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p></p>
<ul>
<li> 0 </li>
<li> 1 </li>
<li> 2 </li>
</ul>
<p><strong></strong></p>
<p><code>ls -l</code><code>ls -l &gt; out</code><code>out</code><code>ls -l</code><code>ls -l</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623163858.png" alt="image-20210623163857940"></p>
<p><code>&gt;</code><code>&gt;&gt;</code><code>&gt;</code><code>&gt;&gt;</code></p>
<p>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls1 &gt; out</span><br></pre></td></tr></table></figure>

<p><code>out</code><code>ls1</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls1 &amp;&gt; out</span><br></pre></td></tr></table></figure>

<p></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls1 &gt; out 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Pipeline X X </p>
<p><strong></strong></p>
<p>Linux </p>
<ol>
<li>Unnamed Pipeline</li>
<li>Named Pipeline</li>
</ol>
<h4 id="FIFO"><a href="#FIFO" class="headerlink" title="FIFO"></a>FIFO</h4><p> FIFO<strong>First In First Out</strong>FIFO </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>ls</code><code>ls</code><code>sort</code><code>ls</code></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Apple</span><br><span class="line">Banana</span><br><span class="line">Apple</span><br><span class="line">Banana</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>uniq</code><code>uniq</code><code>uniq</code><code>sort</code><code>sort</code><code>uniq</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623164748.png" alt="image-20210623164748417"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>Spring</code><code>grep</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ./ | grep Spring</span><br></pre></td></tr></table></figure>

<p><code>find ./</code><code>grep</code><code>find</code><code>Spring</code></p>
<p><code>Spring</code><code>MyBatis</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ./ | grep Spring | grep -v MyBatis</span><br></pre></td></tr></table></figure>

<p><code>grep -v</code> MyBatis </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Java <code>wc -l</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623164924.png" alt="image-20210623164923942"></p>
<p><code>ls | wc -l</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623164950.png" alt="image-20210623164950862"></p>
<p><strong></strong><code>java</code><strong></strong></p>
<p></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -i <span class="string">".java"</span> ./ | wc -l</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>tee</code><code>tee</code></p>
<p><code>tee</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ./ -i <span class="string">"*.java"</span> | tee JavaList | grep Spring</span><br></pre></td></tr></table></figure>

<p> Spring  Java tee  tee  find  JavaList </p>
<p><code>tee</code> T </p>
<h4 id="xargs"><a href="#xargs" class="headerlink" title="xargs"></a>xargs</h4><p><code>xargs</code><code>xargs</code></p>
<p> .a <code>prefix_</code><code>x.a</code><code>prefix_x.a</code><code>xargs</code></p>
<p><code>x.a``y.a``z.a</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623165424.png" alt="image-20210623165424707"></p>
<ul>
<li><code>ls</code></li>
<li><code>-I</code><code>GG</code><code>ls</code><code>-I GG</code> GG <code>x.a``x.b</code><code>x.z</code></li>
<li><code>echo</code><code>echo</code></li>
</ul>
<p><code>xargs</code> 3 <code>xargs</code><code>mv</code></p>
<p> echo</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623165523.png" alt="image-20210623165523353"></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><code>|</code><code>inode</code></p>
<p>Named Pipeline<code>mkfifo</code><code>pipe1</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623165554.png" alt="image-20210623165554555"></p>
<p> First In First Out</p>
<p><code>cat pipe1</code><code>cat pipe1</code><code>pipe1</code></p>
<p><code>pipe</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"XXX"</span> &gt; pipe1</span><br></pre></td></tr></table></figure>

<p><code>cat pipe1</code><code>xxx</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623165746.png" alt="image-20210623165745970"></p>
<p><code>cat pipe1</code><code>&amp;</code><code>&amp;</code><code>echo</code><code>pipe1</code><code>xxx</code></p>
<p><strong>xargs </strong></p>
<p>xargs  Linux </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><strong></strong>Linux Linux  + </p>
<p>Linux  <strong>Group</strong></p>
<p> 10 </p>
<p><strong>Root </strong></p>
<p>Linux <strong></strong><strong></strong>Linux  3 </p>
<ol>
<li>r</li>
<li>w</li>
<li>x</li>
</ol>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623181121.png" alt="image-20210623181121589"></p>
<p> 3  3 </p>
<ol>
<li> 1  rwx </li>
<li> 1  rwx </li>
<li></li>
</ol>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623181158.png" alt="image-20210623181158847"></p>
<p> Linux  9 3 <code>rwx</code><code>-</code><code>rwxrwxrwx</code><code>rw--wxr-x</code></p>
<p><code>ls -l</code> 10  06 <code>-</code><code>d</code><code>p</code></p>
<h4 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h4><p></p>
<p> Linux </p>
<p><code>zhang</code><code>zhang</code><code>zhang</code><code>zhang</code><code>zhang</code><code>newgrp</code></p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rw-rw-r--</span><br></pre></td></tr></table></figure>

<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h4><p><code>which</code><code>ls</code><code>/usr/bin</code><code>ls -l</code><code>ls</code></p>
<ul>
<li><code>-</code> rwx </li>
<li><code>r-x</code></li>
<li><code>r-x</code></li>
<li><code>root</code></li>
</ul>
<p><strong></strong></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h4><p> Linux Linux </p>
<p>Linux <code>echo $PATH</code> Linux <code>PATH</code> Linux </p>
<h4 id="-root"><a href="#-root" class="headerlink" title=" root"></a><strong> root</strong></h4><p></p>
<p> root </p>
<p> MySQL  root MySQL  MySQL  SQL </p>
<p> MySQL  Copy From Prgram  MySQL  MySQL </p>
<hr>
<p><strong></strong></p>
<p><code>shell</code>Linux  C  API </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<p>Least Privilege</p>
<p></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>Linux  Linux  NginxWeb </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> CPU</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623184936.png" alt="image-20210623184936622"></p>
<p> Ring 0  Ring 3 Ring 1  Ring 2 Ring Ring  Ring Ring  Ring </p>
<p> Ring3 </p>
<p><strong>Privilege Bracking</strong></p>
<p> MySQL  root  MySQLl  root <code>/usr/bin</code></p>
<p>Linux  root </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> Linux </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>groups</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623185115.png" alt="image-20210623185115808"></p>
<p><code>adm</code></p>
<p></p>
<ul>
<li>adm <code>/var/log</code> adm </li>
<li>sudo  sudo </li>
</ul>
<p><code>id</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623185149.png" alt="image-20210623185149343"></p>
<ul>
<li>uid  id</li>
<li>gid  id</li>
<li>groups  id</li>
</ul>
<p><code>/etc/passwd</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623185353.png" alt="image-20210623185352703"></p>
<p><code>/etc/passwd</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623185407.png" alt="image-20210623185407518"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>useradd</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd foo</span><br></pre></td></tr></table></figure>

<p>sudo  superuser do sudo  useradd </p>
<h4 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h4><p><code>groupadd</code><code>hello</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo groupadd hello</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Primary GroupSecondary Group 1 <code>usermod</code><code>foo</code><code>sudo</code><code>foo</code><code>sudo</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -a -G sudo foo</span><br></pre></td></tr></table></figure>

<p><code>-a</code>append<code>-G</code> <code>foo</code></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>usermod</code><code>-g</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -g somegroup foo</span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><p><code>ls -l</code></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>chmod</code><code>chmod</code> change file mode bits rwx rwx  Linux </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># foo</span></span><br><span class="line">chmod +x ./foo</span><br><span class="line"></span><br><span class="line"><span class="comment"># foo</span></span><br><span class="line">chmod -x ./foo</span><br><span class="line"></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">chmod +rwx ./foo</span><br></pre></td></tr></table></figure>

<p><code>rwx</code> Linux  3 <code>111</code><code>rwx</code><code>101</code><code>r-x</code><code>rwx</code><code>111111111</code> 9  1 <code>rwxrwxrwx</code><code>111</code>10  7</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rwxrwxrwx (111111111 -&gt; 777)</span></span><br><span class="line">chmod 777 ./foo</span><br><span class="line"></span><br><span class="line"><span class="comment"># rw-rw-rw-(110110110 -&gt; 666)</span></span><br><span class="line">chmod 666 ./foo</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>chown</code> <code>foo</code><code>bar</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown bar ./foo</span><br></pre></td></tr></table></figure>

<p><code>foo</code><code>g</code><code>u</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown g.u ./foo</span><br></pre></td></tr></table></figure>

<p><strong> Linux </strong></p>
<p></p>
<p><strong></strong> Linux </p>
<ol>
<li></li>
<li> Docker Docker </li>
<li><code>root</code><code>root</code> sudo</li>
<li> Ring Ring  Ring  Ring </li>
</ol>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><code>ssh</code><code>ssh</code><code>scp</code><code>scp</code></p>
<h4 id="sshSecure-Shell"><a href="#sshSecure-Shell" class="headerlink" title="sshSecure Shell"></a>sshSecure Shell</h4><p> Linux <code>ssh</code><code>ssh user@ip</code></p>
<h4 id="scp"><a href="#scp" class="headerlink" title="scp"></a>scp</h4><p><code>scp</code><code>scp</code> ubuntu </p>
<p><code>u1</code><code>a.txt</code><code>u2</code><code>~</code></p>
<p> scp </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><code>ifconfig</code><code>netstat</code></p>
<h4 id="ifconfig"><a href="#ifconfig" class="headerlink" title="ifconfig"></a>ifconfig</h4><p><code>ip</code><code>ifconfig</code></p>
<p>VMware </p>
<p> ubuntu  ifconfig </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192452.png" alt="image-20210623192452089"></p>
<p> ubuntu  2 ens33  lo<code>lo</code>local lookback<code>lo</code><code>ens33</code></p>
<h4 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h4><p><code>netstat</code></p>
<p><strong></strong></p>
<p><code>netstat</code> socket<code>netstat | less</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192516.png" alt="image-20210623192516557"></p>
<p> socket socket  socket <code>wc -l</code><code>socket</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192542.png" alt="image-20210623192541989"></p>
<p><code>tcp</code><code>u2</code>ssh <code>u1</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192608.png" alt="image-20210623192608861"></p>
<p> TCP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192721.png" alt="image-20210623192721531"></p>
<p><strong></strong></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192734.png" alt="image-20210623192734416"></p>
<p> 22  sshd<code>-n</code><code>-t</code> TCP <code>-l</code><code>-p</code></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><code>ping</code><code>telnet</code></p>
<h4 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h4><p><code>ping</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192758.png" alt="image-20210623192757989"></p>
<p><code>ping</code> ICMP  icmp  <code>time</code><code>ttl</code> time to live 128ms</p>
<p><code>ping</code> IP   IP  DNS LookupDNS <code>ping</code> DNS  DNS </p>
<h4 id="telnet"><a href="#telnet" class="headerlink" title="telnet"></a>telnet</h4><p> IP + <code>telnet</code> </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192836.png" alt="image-20210623192836203"></p>
<p> 5 <code>GET</code>  6 <code>HOST</code>  301 <code>http</code><code>https</code></p>
<h3 id="DNS-"><a href="#DNS-" class="headerlink" title="DNS "></a>DNS </h3><p> DNS Lookup DNS </p>
<h4 id="host"><a href="#host" class="headerlink" title="host"></a>host</h4><p>host  DNS  DNS</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192908.png" alt="image-20210623192908805"></p>
<p> <a href="http://www.lagou.comw/" target="_blank" rel="noopener">www.lagou.com</a>  lgmain  CDN  CDN</p>
<p> 3  IP </p>
<p><code>host -t</code> AAAA  IPv6</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623192934.png" alt="image-20210623192934697"></p>
<h4 id="dig"><a href="#dig" class="headerlink" title="dig"></a>dig</h4><p><code>dig</code> DNS <code>dig</code><code>dig</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623193000.png" alt="image-20210623193000544"></p>
<p><a href="http://www.lagou.c/" target="_blank" rel="noopener">www.lagou.com</a>  CNAME  lgmain  3  A </p>
<h3 id="HTTP-"><a href="#HTTP-" class="headerlink" title="HTTP "></a>HTTP </h3><p><code>http</code></p>
<h4 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h4><p><code>curl</code><code>curl</code> LDAPSMTPFTPHTTP </p>
<p> curl  curl </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210623193037.png" alt="image-20210623193037525"></p>
<p> HTTP <code>curl -I</code></p>
<p><code>curl</code> POST </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -d <span class="string">'&#123;"x" : 1&#125;'</span> -H <span class="string">"Content-Type: application/json"</span> -X POST http://localhost:3000/api</span><br></pre></td></tr></table></figure>

<p>curl<code>localhost:3000</code> POST <code>-d</code> -<code>X</code> HTTP <code>-H</code></p>
<h3 id="-NS-"><a href="#-NS-" class="headerlink" title=" NS "></a><strong> NS </strong></h3><p><strong></strong> host <code>-t</code><code>host -t ns {}</code> dig <code>man</code></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> Linux  2 </p>
<ol>
<li></li>
<li></li>
</ol>
<p>Linux  Linux <code>nginx</code></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>Linux <code>dpkg</code><code>rpm</code></p>
<p> Linux <code>rpm</code><code>dpkg</code></p>
<p><code>dpkg</code>debian package<code>linux</code> github<code>debian</code> Linux <code>dpkg</code><code>ubuntu</code></p>
<p><code>rpm</code>redhatpackage manager RedHat </p>
<p>RedHat  Linux   Linux  Bug</p>
<p>RedHat JBoss JBoss  WildFly  WildFly RedHat  Linux RedHatRedHat  Linux  RedHat/Fedora </p>
<p><code>dpkg</code><code>rpm</code><code>.dpkg</code><code>.rpm</code></p>
<p><code>dpkg</code><code>rpm</code></p>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
<p><code>dpkg</code><code>rpm</code><code>man</code><code>yum</code><code>apt</code></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Linux <code>dpkg</code><code>rpm</code> <code>dpkg</code><code>rpm</code><code>yum</code><code>apt</code></p>
<p><strong>yum</strong></p>
<p><code>yum</code><code>apt</code><code>docker</code> 666<code>docker</code><code>yum</code><code>apt</code></p>
<p><code>yum</code> Yellodog UpdatorModified <code>Yellodog Updator</code><code>yum</code> Python <code>rpm</code><code>redhat</code> Linux FedoraCentos <code>yum</code><code>yum</code></p>
<p> Linux <code>vim</code><code>sudo yum install vim</code><code>yum</code><code>linux</code><code>yum</code><code>vim</code></p>
<p><code>yum</code> 10 <code>yum</code> 11 </p>
<p><code>yum</code>man</p>
<p><strong>apt</strong></p>
<p><code>apt</code><code>ubuntu</code>Linux  apt yum  man </p>
<p><code>apt</code> Advanced Packaging Tools<code>debian</code> Linux <code>advanced</code><code>dpkg</code><code>yum</code><code>vim</code><code>vim</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163206.png" alt="image-20210624163206691"></p>
<p><code>dpkg</code> vim <code>ii</code><code>i</code><code>i</code></p>
<p><code>vim</code><code>dpkg</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163234.png" alt="image-20210624163234275"></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163245.png" alt="image-20210624163245181"></p>
<p> vim <code>ii</code><code>rc</code><code>r</code><code>c</code> <code>apt purge</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163304.png" alt="image-20210624163304544"></p>
<p><code>dpkg -l</code><code>vim</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163328.png" alt="image-20210624163328213"></p>
<p><code>u</code> unkonw<code>n</code> not-installed</p>
<p><code>mysql</code><code>apt serach mysql</code><code>mysql</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163351.png" alt="image-20210624163351037"></p>
<p><code>mysql-server</code><code>apt list</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163445.png" alt="image-20210624163445128"></p>
<p><code>mysql-server</code></p>
<p><code>apt</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line">----</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure>

<p><code>/etc/apt/sources.list</code><code>focal</code><code>ubuntu</code><code>sudo lsb_release</code> Ubuntu <code>sources.list</code><code>ubuntu</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624163604.png" alt="image-20210624163604579"></p>
<p><code>centos</code><code>fedora</code><code>man</code><code>yum</code></p>
<h3 id="-Nginx"><a href="#-Nginx" class="headerlink" title=" Nginx"></a> Nginx</h3><p> Nginx engine X Web   2002  Nginx QPS QPS </p>
<p> Nginx  2018  4.3  Web  Nginx Tengine</p>
<p> Linux <code>nginx</code> <a href="http://nginx.org/en/docs/" target="_blank" rel="noopener">Nginx </a></p>
<p> nginx-1.18.0 <a href="http://nginx.org/download/nginx-1.19.2.tar.gz%E3%80%82%E7%84%B6%E5%90%8E%E6%88%91%E4%BB%AC%E7%94%A8" target="_blank" rel="noopener">http://nginx.org/download/nginx-1.19.2.tar.gz</a> wget  wget  GNU GNU <code>unix</code><code>linux</code><code>unix</code><code>windows</code><code>linux</code><code>linux</code> <code>linux</code></p>
<p><code>wget</code><code>apt</code></p>
<ul>
<li><code>wget</code><code>nginx</code></li>
</ul>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164203.png" alt="image-20210624164203352"></p>
<p><code>cd</code></p>
<ul>
<li><code>nginx</code></li>
</ul>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164220.png" alt="image-20210624164219798"></p>
<p><code>ls</code><code>tar</code></p>
<p><code>tar</code><code>tar</code><code>t</code><code>tape</code><code>ar</code> archive<code>unix</code><code>tar</code><code>linux</code><code>tar</code></p>
<p><code>-x</code> extract-z<code>gzip</code><code>gz</code><code>-v</code> verbose<code>-v</code><code>-f</code> file <code>tar</code><code>x</code><code>f</code><code>c</code> create </p>
<ul>
<li><code>nginx</code> </li>
</ul>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164338.png" alt="image-20210624164338269"></p>
<p><code>configure</code> configure <code>autoconf</code> GNU <code>bash</code>Bourne Shell<code>./configure --help</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164356.png" alt="image-20210624164356170"></p>
<p><code>prefix</code><code>prefix</code><code>sbin-path</code><code>nginx</code><code>conf-path</code><code>nginx</code><code>./configure</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164423.png" alt="image-20210624164423509"></p>
<p><code>autoconf</code>cc <code>gcc</code>gcc  GNU Compiler Collection c/c++ </p>
<p><code>gcc</code><code>gcc</code><code>build-essential</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164445.png" alt="image-20210624164445155"></p>
<p><code>./configure</code></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164508.png" alt="image-20210624164508442"></p>
<p><code>nginx</code><code>HTTP rewrite</code><code>PCRE</code> PCRE <code>perl</code><code>perl</code> IBM <code>perl</code><code>wget</code><code>PCRE</code></p>
<p><code>pcre-dev</code><code>libpcre</code><code>apt</code><code>grep</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164532.png" alt="image-20210624164532229"></p>
<p><code>pcre2</code><code>pcre3</code><code>pcre3</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164558.png" alt="image-20210624164557771"></p>
<p><code>./configure</code><code>zlib</code><code>zlib</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624164612.png" alt="image-20210624164611872"></p>
<p><code>zlib</code><code>zlib1g</code></p>
<p></p>
<ul>
<li></li>
</ul>
<p><code>make &amp;&amp; sudo make install</code><code>make</code><code>linux</code><code>autoconf</code><code>./configure</code> MakeFile <code>make</code><code>MakeFile</code> CPU <code>make install</code><code>&amp;&amp;</code><code>make</code><code>make installl</code></p>
<p> 1 <code>nginx</code><code>/usr/local/nginx</code><code>nginx</code><code>/usr/local/bin</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -sf /usr/<span class="built_in">local</span>/nginx/sbin/nginx /usr/<span class="built_in">local</span>/sbin/nginx</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Ngnix </p>
<p> C/C++  CPU  RedHat <code>apt</code><code>apt</code></p>
<p> Linux </p>
<p><strong></strong></p>
<p></p>
<p><strong></strong> </p>
<p></p>
<p><code>configure</code></p>
<h3 id="-Linux--Web-"><a href="#-Linux--Web-" class="headerlink" title=" Linux  Web "></a><strong> Linux  Web </strong></h3><h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> <code>htop</code><code>htop</code><code>yum</code><code>apt</code></p>
<p><code>ls</code> 7M <code>scp</code><code>--block-size</code><code>ls</code><code>M</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175451.png" alt="image-20210624175451215"></p>
<h4 id="LESS-"><a href="#LESS-" class="headerlink" title="LESS "></a>LESS </h4><p><code>less</code><code>less</code><code>cat</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175512.png" alt="image-20210624175512545"></p>
<p><code>nginx</code><code>access_log</code></p>
<ul>
<li>IP </li>
<li></li>
<li>HTTP </li>
<li>User Agent</li>
</ul>
<h4 id="PV-"><a href="#PV-" class="headerlink" title="PV "></a>PV </h4><p>PVPage View<code>Page View</code><code>nginx</code><code>acess_log</code> PV <code>wc -l</code><code>PV</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175634.png" alt="image-20210624175634864"></p>
<p> 51462  PV</p>
<h4 id="PV-"><a href="#PV-" class="headerlink" title="PV "></a>PV </h4><p> PV</p>
<p><code>awk &#39;{print $4}&#39; access.log | less</code><code>awk</code>Domain Specific LanguageawkDSLhtmlDSLSQLDSLDSL</p>
<p><code>$4</code> 4 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175755.png" alt="image-20210624175754952"></p>
<p> <code>awk</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175807.png" alt="image-20210624175807734"></p>
<p><code>awk</code><code>substr</code><code>2</code> 2 <code>11</code> 11 </p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175820.png" alt="image-20210624175820453"></p>
<p><code>sort</code><code>uniq -c</code> 2015  5  17  6  4  PV  2000~3000 </p>
<h4 id="-UV"><a href="#-UV" class="headerlink" title=" UV"></a> UV</h4><p> UVUVUniq Visitor IP  UV</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210624175954.png" alt="image-20210624175954237"></p>
<p> awk <code>$1</code><code>sort</code><code>uniq</code><code>wc -l</code> <code>2660</code> IP<code>2660</code> UV</p>
<h4 id="-UV"><a href="#-UV" class="headerlink" title=" UV"></a> UV</h4><p> UV <code>sum.sh</code><code>bash</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/bash</span></span><br><span class="line">awk <span class="string">'&#123;print substr($4, 2, 11) " " $1&#125;'</span> access.log |\</span><br><span class="line">	sort | uniq |\</span><br><span class="line">	awk <span class="string">'&#123;uv[$1]++;next&#125;END&#123;for (ip in uv) print ip, uv[ip]&#125;'</span></span><br></pre></td></tr></table></figure>

<p></p>
<ul>
<li><code>#!</code><code>/usr/bin/bash</code></li>
<li><code>awk</code> 4  1 <code>ip</code></li>
<li><code>sort</code> IP </li>
<li><code>uniq</code> +IP </li>
<li><code>awk</code> 1  2  IP </li>
</ul>
<p><code>awk</code></p>
<p><code>awk</code><code>next</code><code>awk</code> <code>awk</code> 1 <code>END</code> END  {} <code>uv</code><code>foreach</code><code>uv</code><code>key</code><code>ip</code><code>ip</code></p>
<p><code>chmod +x ./sum.sh</code><code>sum.sh</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625083225.png" alt="image-20210625083225035"></p>
<h3 id="-Java-"><a href="#-Java-" class="headerlink" title=" Java "></a> Java </h3><h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>ubuntu</code><code>ubuntu</code></p>
<p><code>ubuntu</code><code>u1</code><code>ubuntu</code><code>v1</code><code>v2</code></p>
<p><code>ubuntu</code><code>ubuntu mono</code><code>ubuntu</code></p>
<p> 3 </p>
<h4 id="-IP-"><a href="#-IP-" class="headerlink" title=" IP "></a> IP </h4><p><code>u1</code><code>v1</code><code>v2</code></p>
<p><code>ip</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625095958.png" alt="image-20210625095958770"></p>
<p><code>iplist</code><code>shell</code><code>ip</code></p>
<p><code>iplist</code><code>ip</code><code>for</code><code>ip</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/bash</span></span><br><span class="line"><span class="built_in">readarray</span> -t ips &lt; iplist</span><br><span class="line"><span class="keyword">for</span> ip <span class="keyword">in</span> <span class="variable">$&#123;ips[@]&#125;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$ip</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p><code>#!</code> ShebangLinux  Shebang <code>bash</code> readarray <code>bash 4.0</code></p>
<p><code>readarray</code> iplist <code>ips</code><code>ips</code><code>echo ${ips[@]}</code><code>@</code><code>$</code><code>$</code><code>ips[@]</code></p>
<p><code>for</code><code>ip</code><code>echo</code></p>
<p><code>shell</code><code>readarray</code><code>bash 4.0</code><code>chomd</code><code>foreach.sh</code><code>shebang</code><code>bash</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100100.png" alt="image-20210625100100006"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>lagou</code></p>
<p><code>lagou</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100117.png" alt="image-20210625100117108"></p>
<p><code>lagou</code><code>lagou</code><code>sudo</code><code>lagou</code><code>sudo</code><code>root</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100241.png" alt="image-20210625100241632"></p>
<p><code>lagou</code><code>shell</code><code>bash</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100254.png" alt="image-20210625100254044"></p>
<p><code>su lagou</code><code>lagou</code><code>.bashrc</code><code>/home/lagou</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100315.png" alt="image-20210625100315812"></p>
<p><code>.bashrc</code><code>bash</code></p>
<p><code>/etc/sudoers</code><code>lagou ALL=(ALL) NOPASSWD:ALL</code><code>lagou</code> sudo </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625100334.png" alt="image-20210625100333873"></p>
<p><code>create_lagou.sh</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd -m -d /home/lagou lagou</span><br><span class="line">sudo passwd lagou</span><br><span class="line">sudo usermod -G sudo lagou</span><br><span class="line">sudo usermod --shell /bin/bash lagou</span><br><span class="line">sudo cp ~/.bashrc /home/lagou/</span><br><span class="line">sudo chown lagou.lagou /home/lagou/.bashrc</span><br><span class="line">sduo sh -c <span class="string">'echo "lagou ALL=(ALL) NOPASSWD:ALL"&gt;&gt;/etc/sudoers'</span></span><br></pre></td></tr></table></figure>

<p><code>lagou</code><code>/etc/sudoers</code><code>userdel lagou</code><code>create_lagou.sh</code><code>lagou</code><code>create_lagou.sh</code></p>
<p><code>v1``v2</code><code>create_logou.sh</code><code>create_lagou.sh</code></p>
<p><code>foreach.sh</code><code>create_lagou.sh</code></p>
<p><code>Step 4</code><code>sshpass</code></p>
<h4 id="-"><a href="#-" class="headerlink" title=" "></a> </h4><p><code>v1</code><code>v2</code><code>ssh</code> </p>
<p></p>
<p><code>u1</code><code>ssh-keygen</code><code>authorized_keys</code><code>ssh-keygen</code><code>u1</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625112735.png" alt="image-20210625112735298"></p>
<p><code>mkdir -p</code><code>~/.ssh</code><code>-p</code><code>~</code> <code>.</code><code>ls</code><code>~/.ssh</code><code>ssh</code></p>
<p><code>cd</code><code>.ssh</code><code>ssh-keygen</code><code>~/.ssh</code><code>id_rsa.pub</code><code>is_rsa</code> </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625112814.png" alt="image-20210625112814620"></p>
<p>id_rsa.pub~/.ssh/authorized_keysssh shelltransfer_key.sh</p>
<p>foreach.shtransfer_key.shforeach.shtransfer_key.sh</p>
<p><em>foreach.sh</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/bash</span></span><br><span class="line"><span class="built_in">readarray</span> -t ips &lt; iplist</span><br><span class="line"><span class="keyword">for</span> ip <span class="keyword">in</span> <span class="variable">$&#123;ips[@]&#125;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  sh ./transfer_key.sh <span class="variable">$ip</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p><em>tranfer_key.sh</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ip=<span class="variable">$1</span></span><br><span class="line">pubkey=$(cat ~/.ssh/id_rsa.pub)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"execute on .. <span class="variable">$ip</span>"</span></span><br><span class="line">ssh lagou@<span class="variable">$ip</span> <span class="string">"</span></span><br><span class="line"><span class="string">mkdir -p ~/.ssh</span></span><br><span class="line"><span class="string">echo <span class="variable">$pubkey</span> &gt;&gt; ~/.ssh/authorized_keys</span></span><br><span class="line"><span class="string">chmod 700 ~/ssh</span></span><br><span class="line"><span class="string">chmod 600 ~/.ssh/authorized_keys</span></span><br><span class="line"><span class="string">"</span></span><br></pre></td></tr></table></figure>

<p><code>foreach.sh</code> transfer_key.sh IP  transfer_key.sh <code>$1</code> IP  <code>pubkey</code><code>mkdir</code><code>.ssh</code><code>~/.ssh/authorized_keys</code></p>
<p><code>chmod 700</code><code>chmod 600</code><code>linux</code><code>.ssh</code><code>authorized_keys</code></p>
<p><code>foreach.sh</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155406.png" alt="image-20210625155359241"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155440.png" alt="image-20210625155440560"></p>
<h4 id="-Java-"><a href="#-Java-" class="headerlink" title=" Java "></a> Java </h4><p> Java  Java </p>
<p><code>ubuntu</code><code>java</code><code>apt</code></p>
<p> Java </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install openjdk-11-jdk</span><br></pre></td></tr></table></figure>

<p><code>java</code><code>java</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> java</span><br><span class="line">java --version</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155533.png" alt="image-20210625155533445"></p>
<p> Java <code>ujava</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd -m -d /opt/ujava ujava</span><br><span class="line">sudo usermod --shell /bin/bash lagou</span><br></pre></td></tr></table></figure>

<p> Java </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155618.png" alt="image-20210625155618741"></p>
<p> ls <code>java</code><code>/etc/alternatives/java</code><code>/usr/lib/jvm/java-11-openjdk-amd64</code></p>
<p> JAVA_HOME </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/</span><br></pre></td></tr></table></figure>

<p>Linux  export <code>JAVA_HOME</code><code>env</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155651.png" alt="image-20210625155651643"></p>
<p><code>PATH</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155721.png" alt="image-20210625155721103"></p>
<p><code>shell</code><code>PATH</code><code>PATH</code><code>:</code><code>linux</code>Linux <code>PATH</code></p>
<p><code>JAVA_HOME</code><code>ujava</code><code>profile</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sh -c <span class="string">'echo "export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/" &gt;&gt; /opt/ujava/.bash_profile'</span></span><br></pre></td></tr></table></figure>

<p><code>JAVA_HOME</code><code>bash_profile</code><code>java</code><code>JAVA_HOME</code></p>
<p><code>install_java.sh</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt -y install openjdk-11-jdk</span><br><span class="line"></span><br><span class="line">sudo useradd -m -d /opt/ujava ujava</span><br><span class="line"></span><br><span class="line">sudo usermod --shell /bin/bash ujava</span><br><span class="line"></span><br><span class="line">sudo sh -c <span class="string">'echo "export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/" &gt;&gt; /opt/ujava/.bash_profile'</span></span><br></pre></td></tr></table></figure>

<p><code>apt</code><code>-y</code></p>
<h4 id="-Java-"><a href="#-Java-" class="headerlink" title=" Java "></a> Java </h4><p> Java <code>foreach.sh</code><code>foreach.sh</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/bash</span></span><br><span class="line"><span class="built_in">readarray</span> -t ips &lt; iplist</span><br><span class="line"></span><br><span class="line">script=<span class="variable">$1</span></span><br><span class="line"><span class="keyword">for</span> ip <span class="keyword">in</span> <span class="variable">$&#123;ips[@]&#125;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  ssh <span class="variable">$ip</span> <span class="string">'bash -s'</span> &lt; <span class="variable">$script</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p><code>foreach</code> <code>bash -s</code><code>&lt; $script</code><code>bash</code></p>
<p><code>foreach.sh install_java.sh</code> 1 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo -u ujava -i /bin/bash -c <span class="string">'echo $JAVA_HOME'</span></span><br><span class="line"></span><br><span class="line">sudo -u ujava -i java --version</span><br></pre></td></tr></table></figure>

<p><code>check.sh</code><code>ujava</code><code>JAVA_HOME</code> Java </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625155915.png" alt="image-20210625155915600"></p>
<h3 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h3><h4 id="-std-h"><a href="#-std-h" class="headerlink" title=" std.h"></a> <code>std</code><code>.h</code></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo find / -name &quot;*std*.h&quot;</span><br></pre></td></tr></table></figure>

<h4 id="-Shell-"><a href="#-Shell-" class="headerlink" title=" Shell "></a> Shell </h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkfifo pipe1</span><br><span class="line">mkfifo pipe2</span><br><span class="line">echo -n run | cat - pipe1 &gt; pipe2 &amp;</span><br><span class="line">cat &lt; pipe2 &gt; pipe1</span><br></pre></td></tr></table></figure>

<p> 2 </p>
<p> 3 <code>echo -n run</code><code>run</code><code>-n</code><code>cat</code><code>cat</code> concatenate </p>
<ul>
<li><code>cat</code><code>&gt;</code><code>cat</code></li>
<li><code>cat</code><code>&lt;</code></li>
</ul>
<p> 3 </p>
<ul>
<li><code>-</code><code>pipe1</code><code>pipe2</code></li>
<li><code>pipe2</code><code>cat</code></li>
<li><code>cat</code><code>pipe1</code></li>
</ul>
<p><code>pipe1</code>-&gt;<code>pipe2</code>-&gt;<code>pipe1</code> <code>pipe1</code><code>pipe2</code><code>htop</code> CPU  CPU </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625161610.png" alt="image-20210625161610424"></p>
<p>foo <code>foo/bar</code> <code>foo/bar</code></p>
<p> Linux </p>
<h4 id="-TIME-WAIT-"><a href="#-TIME-WAIT-" class="headerlink" title=" TIME_WAIT "></a> TIME_WAIT </h4><p> netstat  tail <code>tail -n +3</code> tail  3 <code>-a</code> socket</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -a | tail -n +3 | wc -l</span><br></pre></td></tr></table></figure>

<h4 id="-MySQL-libcrypt-so-"><a href="#-MySQL-libcrypt-so-" class="headerlink" title=" MySQL libcrypt.so "></a> MySQL libcrypt.so </h4><p>  StackOverflowlibcrypt.so not found<code>ubuntu</code> Stackoverflow </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625161838.png" alt="image-20210625161837849"></p>
<h4 id="-access-log-"><a href="#-access-log-" class="headerlink" title=" access_log "></a> access_log </h4><p><code>access_log</code><code>Debian</code><code>Ubuntu</code> 12 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625161919.png" alt="image-20210625161919389"></p>
<p><code>sort</code><code>uniq</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625161932.png" alt="image-20210625161932754"></p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat nginx_logs.txt |\</span><br><span class="line">awk &apos;&#123;tms[$12]++;next&#125;END&#123;for (t in tms) print t, tms[t]&#125;&apos;</span><br></pre></td></tr></table></figure>

<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162004.png" alt="image-20210625162004295"></p>
<h4 id="-access-log--Top-"><a href="#-access-log--Top-" class="headerlink" title=" access_log  Top "></a> access_log  Top </h4><p> Substring <code>sort</code><code>uniq</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162028.png" alt="image-20210625162027902"></p>
<h4 id="bashrc-bash-profile-profile--etc-profile-"><a href="#bashrc-bash-profile-profile--etc-profile-" class="headerlink" title="~/.bashrc ~/.bash_profile, ~/.profile  /etc/profile "></a>~/.bashrc ~/.bash_profile, ~/.profile  /etc/profile </h4><p> shell <strong>login shell</strong><strong>non-login shell</strong><code>sudo``su</code> shell<code>login shell</code> ssh  login shell<code>login shell</code> </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162217.png" alt="image-20210625162217545"></p>
<p> shell<code>./a.sh</code><code>non-login</code> </p>
<p>shell<code>interactive</code><code>non-interactive</code>interactive <code>interactive shell</code></p>
<p><code>baserc</code><code>interactive</code><code>~/.bashrc</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162350.png" alt="image-20210625162349945"></p>
<p><code>$-</code><code>shell</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162413.png" alt="image-20210625162413103"></p>
<p> i <code>interactive</code>i</p>
<p>  ssh  shell  interactive bashrc login shell  profile </p>
<h3 id="Linux--Windows-"><a href="#Linux--Windows-" class="headerlink" title="Linux  Windows "></a><strong>Linux  Windows </strong></h3><p>Windows  Linux Windows Linux </p>
<p><strong> Linux  Windows </strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 4 </p>
<ul>
<li> CPU</li>
<li></li>
<li></li>
<li></li>
</ul>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162620.png" alt="image-20210625162620146"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 4  3 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162748.png" alt="image-20210625162748240"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong></p>
<p></p>
<p>/</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625162857.png" alt="image-20210625162857681"></p>
<p> CPU</p>
<ul>
<li> 4  CPU CPU CPU</li>
<li> 100M  100M  </li>
</ul>
<p> CPU  CPU  CPU </p>
<h4 id="Linux-"><a href="#Linux-" class="headerlink" title="Linux "></a>Linux </h4><p>Linux 1991  22  C   Linux  3  1994  Version 1.0</p>
<p> Linux </p>
<ul>
<li><strong>Multitask and SMPSymmetric multiprocessing</strong></li>
</ul>
<p><strong>MultiTask </strong>Linux  Linux </p>
<p><strong>SMP </strong> Linux   Linux </p>
<ul>
<li><strong>ELFExecutable and Linkable Format</strong></li>
</ul>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625163156.png" alt="image-20210625163156664"></p>
<p> Unix  ELF Segment</p>
<ul>
<li><strong>Monolithic Kernel</strong></li>
</ul>
<p> Microkernel Linux  Linux  Linux </p>
<p><strong></strong></p>
<p><strong></strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625163419.png" alt="image-20210625163418940"></p>
<p></p>
<p> </p>
<p></p>
<p> Linux  </p>
<p> </p>
<p></p>
<h4 id="Window-"><a href="#Window-" class="headerlink" title="Window "></a>Window </h4><p> Windows Windows  Linux Windows C/C++ Windows Windows 9x  Win95, Win98  Windows 7, Windows 10  Windows NTNT  New Technology NT </p>
<p> Windows </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625163747.png" alt="image-20210625163747124"></p>
<p>Windows  Multitask  SMPWindows  Microkernel </p>
<p>Windows  Portable ExecutablePE<code>.exe</code><code>.dll</code><code>.sys</code></p>
<p>PE  ELF  </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625163858.png" alt="image-20210625163858613"></p>
<p>Windows  Hyper-V </p>
<h4 id="Linux--Windows--1"><a href="#Linux--Windows--1" class="headerlink" title="Linux  Windows "></a><strong>Linux  Windows </strong></h4><p>Windows  NT  Windows  NT NT  Linux </p>
<p>Linux NT </p>
<p> NT  Linux </p>
<ul>
<li>Linux </li>
<li></li>
<li></li>
</ul>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Kernel Supervisor Mode</p>
<ul>
<li>Kernal Space</li>
<li>User Space</li>
</ul>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong>User Mode</strong> <strong>Kernal Mode</strong> </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625164318.png" alt="image-20210625164318025"></p>
<p>Kernal ModeUser Mode TrapTrap </p>
<p> CPU  Trap</p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong>Linux  Monolithic Kernel</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625164501.png" alt="image-20210625164501467"></p>
<p></p>
<p><strong></strong></p>
<p>Light Weighted ProcessThread</p>
<p></p>
<p></p>
<p> API </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>User Level Thread</p>
<p></p>
<ul>
<li><strong></strong></li>
<li><strong></strong></li>
</ul>
<p></p>
<ul>
<li><strong></strong> I/O </li>
<li><strong></strong> I/OI/O </li>
<li><strong></strong></li>
<li><strong></strong>Block</li>
</ul>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Kernel Level Thread</p>
<p></p>
<ul>
<li><strong> CPU </strong> CPU </li>
<li><strong></strong> I/O </li>
</ul>
<p></p>
<ul>
<li><strong></strong></li>
<li><strong></strong></li>
<li><strong></strong></li>
</ul>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong></p>
<p> CPU </p>
<p></p>
<p></p>
<p><strong></strong> 4 </p>
<h4 id="Many-to-One"><a href="#Many-to-One" class="headerlink" title="Many to One"></a>Many to One</h4><p></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625170256.png" alt="image-20210625170256011"></p>
<h4 id="One-to-One"><a href="#One-to-One" class="headerlink" title="One to One"></a>One to One</h4><p> Windows NT </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625170318.png" alt="image-20210625170318451"></p>
<h4 id="Many-To-Many"><a href="#Many-To-Many" class="headerlink" title="Many To Many"></a>Many To Many</h4><p> n  m m  n m Linux </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625170357.png" alt="image-20210625170357628"></p>
<h4 id="Two-Level"><a href="#Two-Level" class="headerlink" title="Two Level"></a>Two Level</h4><p> n  m  1  1 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625170428.png" alt="image-20210625170428222"></p>
<p></p>
<p>I/O </p>
<h4 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h4><p></p>
<p></p>
<p></p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><strong> 1?</strong></p>
<p> Java/JS  Switch-Case </p>
<p><strong> 2</strong></p>
<p> 100  Byte  8  1  7 0~127/</p>
<p><strong> 3</strong></p>
<p></p>
<ul>
<li><code>Enter</code></li>
<li></li>
</ul>
<p><code>Ctrl + C</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> Ctrl</span><br><span class="line"> C</span><br><span class="line"> Ctrl</span><br><span class="line"> C</span><br></pre></td></tr></table></figure>

<p><strong> 4</strong></p>
<p> Java  JS <code>while</code> </p>
<p><strong> 5</strong></p>
<p> Ctrl+C  Esc </p>
<p> </p>
<p><strong> 6</strong></p>
<p> 5 </p>
<p></p>
<p>  </p>
<p> CPU  CPU  CPU  CPU CPU </p>
<p> CPU CPU CPU</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625171945.png" alt="image-20210625171945006"></p>
<p> CPU CPU  PC CPU CPU  PC </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625172114.png" alt="image-20210625172114377"></p>
<p>CPU  PC  CPU </p>
<p></p>
<p> CPU  CPU CPU  PC  0 PC  0  0  PC </p>
<p>CPU  PC  PC  0 PC </p>
<p></p>
<p><strong> 7?</strong></p>
<p> CPU</p>
<p> A A  Byte CPU</p>
<p> CPU CPU </p>
<p> 7 </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 3 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625172558.png" alt="image-20210625172558167"></p>
<p> CPUCPU  PC <strong></strong><strong>interrupt</strong></p>
<p>PC PC <strong>14 </strong></p>
<p>PC PC .</p>
<p><strong></strong> 16 16 CPU  PC <strong>Interupt Vector</strong></p>
<p> 16 32  PC  16*4  255  0~255 1K  1K <strong></strong></p>
<p> CPU CPU  PC <code>Jump</code> PC </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625172807.png" alt="image-20210625172807759"></p>
<p></p>
<ol>
<li></li>
<li></li>
<li></li>
<li> API </li>
<li></li>
</ol>
<p> Java/Node.js  API </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<ul>
<li><strong></strong></li>
<li><strong></strong></li>
</ul>
<p> CPU <strong></strong></p>
<ul>
<li><strong></strong>Trap</li>
<li>Fault</li>
<li> Trap </li>
</ul>
<p> CPU <strong></strong></p>
<p>CPU  1  CPU  CPU <strong></strong></p>
<p></p>
<h4 id="Java-Js-"><a href="#Java-Js-" class="headerlink" title="Java/Js "></a><strong>Java/Js </strong></h4><p> CPU CPU  API Java/Node.js  API </p>
<p><strong>Unix  Mac OS </strong></p>
<p>Unix  Linux Mac OS  XNU  XNU  Mac OS   XNU XNU  X is not Unix   Unix </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625184430.png" alt="image-20210625184430161"></p>
<p><strong>JVM </strong></p>
<p>JVM  JDK 1.1 JVM </p>
<p> Java  Windows  1  1  Linux  n  m Linux PThreadAPI  Linux KThreadAPI</p>
<p><strong></strong></p>
<p> ROM  BIOSBasic Input/Ouput System OS  BIOS  OS  OS  BIOS  OS  BIOS </p>
<p><strong> 21  Linux</strong></p>
<p> 21  Linux  Minix  Linux  1991 </p>
<p></p>
<p> Android  Linux </p>
<h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><p>Process</p>
<p>Light Weighted Process</p>
<p></p>
<p>Job</p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 3 CPU OS 3 </p>
<p> CPU </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>CPU</p>
<p>Linux  PThread API KThread API </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> CPU &amp;</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 1  2  2  1  3  3  1  2  2  3  3  1  1 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231718.png" alt="image-20210625231711276"></p>
<p> P1  P2   P3 P4</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231734.png" alt="image-20210625231734470"></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 3 </p>
<p>Ready</p>
<p>Running</p>
<p>Ready</p>
<p>(</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231804.png" alt="image-20210625231804573"></p>
<p>Block</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231821.png" alt="image-20210625231821657"></p>
<p> CPU CPU Ready</p>
<p>Block</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231849.png" alt="image-20210625231849282"></p>
<p>ReadyReady</p>
<p>BlockRunning</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625231932.png" alt="image-20210625231932849"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p></p>
<p></p>
<p></p>
<p> CPU </p>
<p>4</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p>PID </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625232027.png" alt="image-20210625232027197"></p>
<p></p>
<p> PID</p>
<p> I/O  I/O </p>
<p> </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625232119.png" alt="image-20210625232118993"></p>
<p> ID  ThreadID CPU PC </p>
<p></p>
<p> n-m </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> A  10  808  B  10  808 21 </p>
<p> A  B  A  B 21 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625234904.png" alt="image-20210625234904626"></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>  PC </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625234920.png" alt="image-20210625234920411"></p>
<p> 5 </p>
<p> PC  CPU</p>
<p> CPU </p>
<p></p>
<p></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625234931.png" alt="image-20210625234931667"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625234944.png" alt="image-20210625234944395"></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>CPU  concurrent parallel</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625234955.png" alt="image-20210625234955314"></p>
<p> 4  CPU  4  4 19 </p>
<h4 id="-API"><a href="#-API" class="headerlink" title=" API"></a> API</h4><p></p>
<p> API  fork </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210625235008.png" alt="image-20210625235008770"></p>
<p> fork  2  fork </p>
<p></p>
<p> API</p>
<p></p>
<p></p>
<p> API Java  Thread go  go-routine</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Linux  PC </p>
<h3 id="-2-"><a href="#-2-" class="headerlink" title=" 2 "></a> 2 </h3><p> SemaphoreMonitor </p>
<p></p>
<p> 2 </p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p></p>
<p><code>i++</code> 3 </p>
<p> <code>i</code> </p>
<p> <code>i+1</code></p>
<p></p>
<p> + </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><code>i++</code><code>i=0</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210627232933.png" alt="image-20210627232933788"></p>
<p><code>i++</code><code>i</code> 1</p>
<p><code>i++</code><code>i</code><em></em></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> ThreadLocal cas  19 </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>i ThreadLocal</p>
<h4 id="cas-"><a href="#cas-" class="headerlink" title="cas "></a>cas </h4><p> CPU <code>i++</code>  CPU  Compare And Swap <code>i</code><code>i+1</code><code>i</code>100101<code>i</code> 100</p>
<p>cas </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cas(&amp;oldValue, expectedValue, targetValue)</span><br></pre></td></tr></table></figure>

<p>&amp; cas  CPU </p>
<p> cas ii 100101</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cas(&amp;i, 100, 101)</span><br></pre></td></tr></table></figure>

<p>i101 false true</p>
<p>i++</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cas(&amp;i, i, i+1)</span><br></pre></td></tr></table></figure>

<p> 3 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">i </span><br><span class="line">i+1</span><br><span class="line">casii</span><br></pre></td></tr></table></figure>

<p>i=0</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628093200.png" alt="image-20210628093200450"></p>
<p>cas  false cas </p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">while(!cas(&amp;i, i, i+1))&#123;</span><br><span class="line">  // </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> cas  false i  cas </p>
<h4 id="tas-"><a href="#tas-" class="headerlink" title="tas "></a>tas </h4><p> tas  CPU  cas Test-And-Set tastas  1 cas  1  0 1 1</p>
<p> tas cas</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tas(&amp;lock) &#123;</span><br><span class="line">  return cas(&amp;lock, 0, 1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>lockpreempttascas</p>
<p>i++</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">enter();</span><br><span class="line">i++;</span><br><span class="line">leave();</span><br></pre></td></tr></table></figure>

<p>casenterleave</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">int lock = 0;</span><br><span class="line">enter()&#123;</span><br><span class="line">  while( !cas(&amp;lock, 0, 1) ) &#123;</span><br><span class="line">    // </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">leave()&#123;</span><br><span class="line">  lock = 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> lock 0 1 cas cas  lock  1cas</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>  cascas  cas  lock unlock </p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int lock = 0;</span><br><span class="line">enter(&amp;lock);</span><br><span class="line">//</span><br><span class="line">leave(&amp;lock);</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">enter()&#123;</span><br><span class="line">  while( !cas(&amp;lock, 0, 1) ) &#123;</span><br><span class="line">    // </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> CPU  Context Switch CPU </p>
<h4 id="wait-"><a href="#wait-" class="headerlink" title="wait "></a>wait </h4><p> wait  Context Switch CPU  Context Switch </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">enter()&#123;</span><br><span class="line">  while( !cas(&amp;lock, 0, 1) ) &#123;</span><br><span class="line">    // sleep(1000ms);</span><br><span class="line">    wait();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> cas sleep</p>
<p>waitnotifywait  notify </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> wait notify </p>
<p><code>enter</code><code>leave</code><code>enter</code> <code>leave</code> <code>wait</code> <code>notify</code></p>
<p> Java Java  Object Header bit 32  bit  synchronized </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">synchronized(obj)&#123;// enter</span><br><span class="line">  // </span><br><span class="line">&#125; // leave</span><br></pre></td></tr></table></figure>

<p>synchronized Monitor  Java  Monitor Monitor  enterleave  Java  synchronized </p>
<p>Monitor </p>
<ul>
<li></li>
<li>Montior  wait </li>
<li>Monitor  notify </li>
</ul>
<p>Monitor </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> N </p>
<p><code>lock</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">int lock = 0;</span><br><span class="line">enter()&#123;</span><br><span class="line">  while(lock++ &gt; 2) &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line">leave()&#123;</span><br><span class="line">  lock--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong></strong>2</p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">up(&amp;lock)&#123;</span><br><span class="line">  while(!cas(&amp;lock, lock, lock+1)) &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line">down(&amp;lock)&#123;</span><br><span class="line">  while(!cas(&amp;lock, lock, lock - 1) || lock == 0)&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>up</code><code>down</code><code>up</code><code>lock</code> 1<code>down</code><code>lock</code> 1 lock  0 <code>down</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int lock = 2;</span><br><span class="line">down(&amp;lock);</span><br><span class="line">// </span><br><span class="line">up(&amp;lock);</span><br></pre></td></tr></table></figure>

<p><code>lock</code> 1 2   3 <code>down</code></p>
<p><code>lock</code> 1 <strong>mutex</strong> lock  1<strong>semaphore</strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">int empty = N; // </span><br><span class="line"></span><br><span class="line">int mutex = 1; // </span><br><span class="line"></span><br><span class="line">int full = 0; // </span><br><span class="line"></span><br><span class="line">wait()&#123;</span><br><span class="line"></span><br><span class="line">  down(&amp;empty);</span><br><span class="line"></span><br><span class="line">  down(&amp;mutex);</span><br><span class="line"></span><br><span class="line">  insert(); </span><br><span class="line"></span><br><span class="line">  up(&amp;mutex);</span><br><span class="line"></span><br><span class="line">  up(&amp;full);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">notify()&#123;</span><br><span class="line"></span><br><span class="line">  down(&amp;full);</span><br><span class="line"></span><br><span class="line">  down(&amp;mutex);</span><br><span class="line"></span><br><span class="line">  remove(); </span><br><span class="line"></span><br><span class="line">  up(&amp;mutex);</span><br><span class="line"></span><br><span class="line">  up(&amp;empty)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">insert()&#123;</span><br><span class="line"></span><br><span class="line">  wait_queue.add(currentThread);</span><br><span class="line"></span><br><span class="line">  yield();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">remove()&#123;</span><br><span class="line"></span><br><span class="line">  thread = wait_queue.dequeue();</span><br><span class="line"></span><br><span class="line">  thread.resume();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> wait notify  <code>wait</code>empty-1full+1<code>notify</code>empty+1full-1</p>
<p><code>insert</code><code>remove</code> mutex <code>insert</code> yield <code>remove</code><code>resume</code> </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">int lock1 = 0;</span><br><span class="line"></span><br><span class="line">int lock2 = 0;</span><br><span class="line"></span><br><span class="line">// 1</span><br><span class="line"></span><br><span class="line">enter(&amp;lock1);</span><br><span class="line"></span><br><span class="line">enter(&amp;lock2);</span><br><span class="line"></span><br><span class="line">leave(&amp;lock1);</span><br><span class="line"></span><br><span class="line">leave(&amp;lock2);</span><br><span class="line"></span><br><span class="line">// 2</span><br><span class="line"></span><br><span class="line">enter(&amp;lock2);</span><br><span class="line"></span><br><span class="line">enter(&amp;lock1);</span><br><span class="line"></span><br><span class="line">leave(&amp;lock1);</span><br><span class="line"></span><br><span class="line">leave(&amp;lock2)</span><br></pre></td></tr></table></figure>

<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1 enter(&amp;lock1);</span><br><span class="line"></span><br><span class="line">2 enter(&amp;lock2);</span><br><span class="line"></span><br><span class="line">1 enter(&amp;lock2)</span><br><span class="line"></span><br><span class="line">2:  enter(&amp;lock1)</span><br><span class="line"></span><br><span class="line">// 12</span><br></pre></td></tr></table></figure>

<p> 1 <code>lock1</code> 2 <code>lock2</code> 1 <code>lock2</code> 2 <code>lock1</code><strong></strong></p>
<p><strong>21 | </strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 100 <strong></strong></p>
<p> Redis  Redis Redis</p>
<p> 3 </p>
<ol>
<li> Redis </li>
<li> -1</li>
<li> Redis </li>
</ol>
<p><code>i++</code> <strong></strong></p>
<p> CPU  <code>cas</code>  <code>tas</code> ``</p>
<p> <code>Redis</code>  <code>setnx</code> Zookeeper </p>
<h4 id="-2--1"><a href="#-2--1" class="headerlink" title=" 2 "></a> 2 </h4><p>semaphore</p>
<p> <code>ThreadPool</code> </p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><p></p>
<p></p>
<p></p>
<h4 id="-"><a href="#-" class="headerlink" title="/"></a>/</h4><p>Synchronized</p>
<p><strong></strong> <strong>Pressimistic Lock</strong></p>
<p> MySQL Java mutex</p>
<p><strong>PressimisticLock</strong><strong>Optimistic Lock</strong> GitGit </p>
<h4 id="Git-"><a href="#Git-" class="headerlink" title="Git "></a>Git </h4><p> 100Bob  Alice  100 Bob  106 Alice  108  Alice  108 Bob  100  fetch  110</p>
<p><code>cas</code> Git <code>cas</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cas(&amp;version, 100, 108); // </span><br><span class="line"></span><br><span class="line">cas(&amp;version, 100, 106); // version108</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>PC </p>
<p> PC   A PC  B C</p>
<p> PC   MySQL </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> DNS  DNS  DNS </p>
<p> 11 </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> </p>
<p>AliceA B  iPhone C </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from=A, to=B, price=10000, signature=alice</span><br><span class="line">from=B, to=A, object=iphone, signature=</span><br></pre></td></tr></table></figure>

<p> 1  A  B  10000  2 B  A  iPhone A  iPhone  B B  A A  Alice  Alice iPhoneAlice  Alice </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Alice  iPhone iPhone</p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">account=alice, money=10000</span><br><span class="line"></span><br><span class="line">account=bob, iphone=100</span><br><span class="line"></span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p> Alice </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628095938.png" alt="image-20210628095938526"></p>
<p> Block  Block  Block  Block 10  Block 11  Block 11  Block 10  Block 11  Block 10  Block 10 </p>
<p>Alice  iPhone  Block </p>
<h4 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h4><p>Alice  iPhone</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628100030.png" alt="image-20210628100030658"></p>
<p>Alice  Alice  Alice </p>
<p> Block</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Alice 1  iPhone 2  iPhone Alice   Alice  20000  3  iPhone</p>
<p> Alice </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from=A, to=B, price=10000, signature=alice</span><br><span class="line"></span><br><span class="line">from=B, to=A, object=iphone, signature=</span><br><span class="line"></span><br><span class="line">from=A, to=B1, price=20000, signature=alice</span><br><span class="line"></span><br><span class="line">from=B1, to=A, object=iphonex2, signature=</span><br></pre></td></tr></table></figure>

<p> Alice  20000  </p>
<p> Alice  Alice </p>
<p>Alice  999999 Alice  Block  Alice  Alice  </p>
<p> Alice  Block 9  BobBob  Alice  Alice  Block 9  BlockBob  Alice </p>
<p> Bob  Bob  Bob </p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Block Block</p>
<p> </p>
<p> </p>
<p> Block-Chain </p>
<p> 1000  100  10W  10000   10s</p>
<p></p>
<p></p>
<h4 id="-1"><a href="#-1" class="headerlink" title=""></a><strong></strong></h4><p> Lock-Free  Lock-Free  cas  ThreadLocal</p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><p><strong></strong></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>JobJob<strong>First Come First ServiceFCFS</strong></p>
<p><strong>First In First OutFIFO</strong><strong></strong><strong></strong></p>
<p> 1   10  10   1  10 <strong>Shortest Job FirstSJF</strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628101849.png" alt="image-20210628101849835"></p>
<p> 3  </p>
<h4 id="--"><a href="#--" class="headerlink" title=" = /"></a><strong> = /</strong></h4><p> 3,3,10 (0 + 3 + 6) / 3 = 3   10,3,3 ( 0+10+13 )/ 3 = 7.66 </p>
<p><strong></strong></p>
<p> FCFS  SJF </p>
<ol>
<li></li>
<li></li>
<li> 1  1 </li>
</ol>
<p> <strong>PriorityQueue</strong><strong>Preemption</strong></p>
<h4 id="PriorityQueue"><a href="#PriorityQueue" class="headerlink" title="PriorityQueue"></a>PriorityQueue</h4><p></p>
<p>HeapHeap O(1) <br> <strong>W</strong> <strong>P</strong>  = W/PW  P  </p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong>Preemption</strong></p>
<p> </p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628103020.png" alt="image-20210628103020152"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628103053.png" alt="image-20210628103053438"></p>
<p></p>
<p></p>
<ol>
<li></li>
<li></li>
</ol>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628103553.png" alt="image-20210628103552965"></p>
<p></p>
<ul>
<li> + </li>
<li>+ </li>
</ul>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628103822.png" alt="image-20210628103822066"></p>
<p></p>
<p> n   CPU </p>
<p><strong></strong></p>
<p></p>
<p></p>
<p></p>
<p> </p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><p><strong></strong></p>
<p><strong></strong></p>
<p>1965  Dijkstra </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> 5  5  5  2  2 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628162006.png" alt="image-20210628162006422"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 0~4 Java </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Philosopher</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Philosopher[] philosophers;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">       philosophers = <span class="keyword">new</span> Philosopher[<span class="number">5</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 0~4</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Integer[] forks;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Philosopher[] philosophers;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    philosophers[i] = <span class="keyword">new</span> Philosopher(i);</span><br><span class="line">    forks[i] = -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>forks[i]</code> x<code>i</code> x <code>-1</code></p>
<p> 1 helper functions</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">LEFT</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> i == <span class="number">0</span> ? <span class="number">4</span> : i-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>id</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(forks[LEFT(id)] == id &amp;&amp; forks[id] == id) &#123;</span><br><span class="line">  <span class="comment">// </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>_take</code><code>i</code>; <code>_put</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">_take</span><span class="params">(<span class="keyword">int</span> i)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">  Thread.sleep(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">  forks[i] = id;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">_put</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(forks[i] == id)</span><br><span class="line"></span><br><span class="line">    forks[i] = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>forks[i]</code> x<code>i</code> x <code>-1</code></p>
<p> 1 helper functions</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> private static int LEFT(int i) &#123;</span><br><span class="line">      return i == 0 ? 4 : i-1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>id</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(forks[LEFT(id)] == id &amp;&amp; forks[id] == id) &#123;</span><br><span class="line">  <span class="comment">// </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>_take</code><code>i</code>; <code>_put</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">_take</span><span class="params">(<span class="keyword">int</span> i)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    Thread.sleep(<span class="number">10</span>);</span><br><span class="line">    forks[i] = id;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">_put</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(forks[i] == id)</span><br><span class="line">    forks[i] = -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>_take</code> 10ms<strong> I/O </strong></p>
<p><code>think</code><code>eat</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> PHIS &#123;</span><br><span class="line"></span><br><span class="line">  THINKING,</span><br><span class="line"></span><br><span class="line">  HUNGRY,</span><br><span class="line"></span><br><span class="line">  EATING</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>think</code><code>think</code><code>Thread.sleep</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">think</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">      System.out.println(String.format(<span class="string">"Philosopher %d thinking..."</span>, id));</span><br><span class="line"></span><br><span class="line">      Thread.sleep((<span class="keyword">long</span>) Math.floor(Math.random()*<span class="number">1000</span>));</span><br><span class="line"></span><br><span class="line">      <span class="keyword">this</span>.state = PHIS.HUNGRY;</span><br></pre></td></tr></table></figure>

<p><code>eat</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">synchronized</span> (forks) &#123;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span>(forks[LEFT(id)] == id &amp;&amp; forks[id] == id) &#123;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">this</span>.state = PHIS.EATING;</span><br><span class="line"></span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> Thread.sleep((<span class="keyword">long</span>) Math.floor(Math.random()*<span class="number">1000</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>eat</code><code>forks</code><code>eat</code><code>Thread.sleep</code><code>eat</code><code>sleep</code><code>synchronized</code><strong></strong></p>
<p></p>
<h4 id="DeadLockLiveLock"><a href="#DeadLockLiveLock" class="headerlink" title="DeadLockLiveLock"></a>DeadLockLiveLock</h4><p><code>while</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"></span><br><span class="line">  think();</span><br><span class="line"></span><br><span class="line">  _take(LEFT(id)); </span><br><span class="line"></span><br><span class="line">  _take(id);</span><br><span class="line"></span><br><span class="line">  eat();</span><br><span class="line"></span><br><span class="line">  _put(LEFT(id));</span><br><span class="line"></span><br><span class="line">  _put(id); </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">_take</span><span class="params">(id)</span></span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(forks[id] != -<span class="number">1</span>) &#123;  Thread.yield();  &#125;</span><br><span class="line">  Thread.sleep(<span class="number">10</span>); <span class="comment">// I/O</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>_take</code> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"></span><br><span class="line">  think();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">synchronized</span>(fork[LEFT(id)]) &#123;</span><br><span class="line">    _take(LEFT(id)); </span><br><span class="line">    <span class="keyword">synchronized</span>(fork[id]) &#123;</span><br><span class="line">      _take(id);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  eat();</span><br><span class="line"> <span class="keyword">synchronized</span>(fork[LEFT(id)]) &#123;</span><br><span class="line">    _put(LEFT(id));</span><br><span class="line">    <span class="keyword">synchronized</span>(fork[id]) &#123;</span><br><span class="line">     _put(id);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 5 <code>synchronized(fork[LEFT(id)])</code></p>
<ul>
<li> 0  4 0</li>
<li> 1  0 1</li>
<li> 2  1 2</li>
<li> 3  2 3</li>
<li> 4  3 4</li>
</ul>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628164745.png" alt="image-20210628164745775"></p>
<p></p>
<p><strong>Deadlock</strong><strong>Starvation</strong> </p>
<p> 4 </p>
<ol>
<li><strong></strong></li>
<li><strong></strong></li>
<li><strong></strong></li>
<li><strong></strong></li>
</ol>
<p>Starvation</p>
<p> 1  Java  Lock Interface <code>tryLock</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">lock.tryLock(<span class="number">5</span>, TimeUnit.SECONDS);</span><br></pre></td></tr></table></figure>

<p>Java </p>
<p>LiveLockLiveLock </p>
<p>LiveLock </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">synchronized</span>(someLock) &#123;</span><br><span class="line"></span><br><span class="line">      think();</span><br><span class="line"></span><br><span class="line">      _take(LEFT(id)); </span><br><span class="line"></span><br><span class="line">      _take(id);</span><br><span class="line"></span><br><span class="line">      eat();</span><br><span class="line"></span><br><span class="line">      _put(LEFT(id));</span><br><span class="line"></span><br><span class="line">     _put(id);</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>synchronized</code>  1 </p>
<p></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">    think();</span><br><span class="line">  <span class="keyword">synchronized</span>(someLock) &#123;</span><br><span class="line">      _takeForks(); </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    eat();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">synchronized</span>(someLock) &#123;</span><br><span class="line"></span><br><span class="line">      _puts();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">_takeForks</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>( forks[LEFT(id)] == -<span class="number">1</span> &amp;&amp; forks[id] == -<span class="number">1</span> ) &#123;</span><br><span class="line"></span><br><span class="line">    forks[LEFT(id)] = id;</span><br><span class="line"></span><br><span class="line">    forks[id] = id;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">_puts</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(forks[LEFT(id)] == id)</span><br><span class="line"></span><br><span class="line">      forks[LEFT(id)] = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(forks[id] == id)</span><br><span class="line"></span><br><span class="line">      forks[id] = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>think</code> 2</p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 5 </p>
<p> <strong></strong>  5 </p>
<p> I/O </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">_transfer</span><span class="params">(<span class="keyword">int</span> fork, <span class="keyword">int</span> philosopher)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   forks[fork] = philosopher;</span><br><span class="line"></span><br><span class="line">dirty[fork] = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> dirty</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">take</span><span class="params">(<span class="keyword">int</span> i)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">synchronized</span> (forks[i]) &#123;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span>(forks[i] == -<span class="number">1</span>) &#123;</span><br><span class="line"></span><br><span class="line">       _take(id); </span><br><span class="line"></span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">       Philosopher other = philosophers[forks[i]];</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(other.state != PHIS.EATING &amp;&amp; dirty[i]) &#123;</span><br><span class="line"></span><br><span class="line">         other._transfer(i, forks[i]);</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">_take</span><span class="params">(<span class="keyword">int</span> i)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">  Thread.sleep(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">  forks[i] = id;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 5  5 <code>EATING</code></p>
<p> LiveLock <code>dirty</code><code>dirty</code><code>true</code><code>dirty</code></p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br></pre></td><td class="code"><pre><span class="line">package test;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import java.util.Arrays;</span><br><span class="line"></span><br><span class="line">import java.util.concurrent.ExecutorService;</span><br><span class="line"></span><br><span class="line">import java.util.concurrent.Executors;</span><br><span class="line"></span><br><span class="line">import java.util.concurrent.ThreadPoolExecutor;</span><br><span class="line"></span><br><span class="line">import java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line">import java.util.concurrent.atomic.AtomicInteger;</span><br><span class="line"></span><br><span class="line">import java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line">import java.util.concurrent.locks.StampedLock;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class DiningPhilosophers &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  enum PHIS &#123;</span><br><span class="line"></span><br><span class="line">    THINKING,</span><br><span class="line"></span><br><span class="line">    HUNGRY,</span><br><span class="line"></span><br><span class="line">    EATING</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static class Philosopher implements Runnable &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    private static Philosopher[] philosophers;</span><br><span class="line"></span><br><span class="line">    private static Integer[] forks;</span><br><span class="line"></span><br><span class="line">    private static boolean[] dirty;</span><br><span class="line"></span><br><span class="line">    private PHIS state = PHIS.THINKING;</span><br><span class="line"></span><br><span class="line">    static &#123;</span><br><span class="line"></span><br><span class="line">      philosophers = new Philosopher[5];</span><br><span class="line"></span><br><span class="line">      forks = new Integer[5];</span><br><span class="line"></span><br><span class="line">      dirty = new boolean[5];</span><br><span class="line"></span><br><span class="line">      for(int i = 0; i &lt; 5; i++) &#123;</span><br><span class="line"></span><br><span class="line">        philosophers[i] = new Philosopher(i);</span><br><span class="line"></span><br><span class="line">        forks[i] = -1;</span><br><span class="line"></span><br><span class="line">        dirty[i] = true;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    private static int LEFT(int i) &#123;</span><br><span class="line"></span><br><span class="line">      return i == 0 ? 4 : i-1;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public Philosopher(int id) &#123;</span><br><span class="line"></span><br><span class="line">      this.id = id;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    private int id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    void think() throws InterruptedException &#123;</span><br><span class="line"></span><br><span class="line">      System.out.println(String.format(&quot;Philosopher %d thinking...&quot;, id));</span><br><span class="line"></span><br><span class="line">      Thread.sleep((long) Math.floor(Math.random()*1000));</span><br><span class="line"></span><br><span class="line">      this.state = PHIS.HUNGRY;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">       System.out.println(Arrays.toString(forks));</span><br><span class="line"></span><br><span class="line">          //System.out.println(Arrays.toString(dirty));</span><br><span class="line"></span><br><span class="line">          if(forks[LEFT(id)] == id &amp;&amp; forks[id] == id) &#123;</span><br><span class="line"></span><br><span class="line">            this.state = PHIS.EATING;</span><br><span class="line"></span><br><span class="line">          &#125; else &#123;</span><br><span class="line"></span><br><span class="line">            return;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      System.out.println(String.format(&quot;Philosopher %d eating...&quot;, id));</span><br><span class="line"></span><br><span class="line">      Thread.sleep((long) Math.floor(Math.random()*1000));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      synchronized (forks) &#123;</span><br><span class="line"></span><br><span class="line">        dirty[LEFT(id)] = true;</span><br><span class="line"></span><br><span class="line">        dirty[id] = true;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      var lock = new ReentrantLock();</span><br><span class="line"></span><br><span class="line">      lock.tryLock(5, TimeUnit.SECONDS);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      state = PHIS.THINKING;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    void _take(int i) throws InterruptedException &#123;</span><br><span class="line"></span><br><span class="line">      Thread.sleep(10);</span><br><span class="line"></span><br><span class="line">      forks[i] = id;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    void _transfer(int fork, int philosopher) &#123;</span><br><span class="line"></span><br><span class="line">      forks[fork] = philosopher;</span><br><span class="line"></span><br><span class="line">      dirty[fork] = false;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    void _putdown(int i) throws InterruptedException &#123;</span><br><span class="line"></span><br><span class="line">      Thread.sleep(10);</span><br><span class="line"></span><br><span class="line">      forks[i] = -1;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    void take(int i) throws InterruptedException &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      synchronized (forks[i]) &#123;</span><br><span class="line"></span><br><span class="line">        if(forks[i] == -1) &#123;</span><br><span class="line"></span><br><span class="line">          _take(id);</span><br><span class="line"></span><br><span class="line">        &#125; else &#123;</span><br><span class="line"></span><br><span class="line">          Philosopher other = philosophers[forks[i]];</span><br><span class="line"></span><br><span class="line">          if(other.state != PHIS.EATING &amp;&amp; dirty[i]) &#123;</span><br><span class="line"></span><br><span class="line">            other._transfer(i, forks[i]);</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void takeForks() throws InterruptedException &#123;</span><br><span class="line"></span><br><span class="line">      take(LEFT(id));</span><br><span class="line"></span><br><span class="line">      take(id);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line"></span><br><span class="line">    public void run() &#123;</span><br><span class="line"></span><br><span class="line">      try &#123;</span><br><span class="line"></span><br><span class="line">        while(true) &#123;</span><br><span class="line"></span><br><span class="line">          think();</span><br><span class="line"></span><br><span class="line">          while (state == PHIS.HUNGRY) &#123;</span><br><span class="line"></span><br><span class="line">            takeForks();</span><br><span class="line"></span><br><span class="line">            System.out.println(&quot;here--&quot; + Math.random());</span><br><span class="line"></span><br><span class="line">            eat();</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125; catch (InterruptedException e) &#123;</span><br><span class="line"></span><br><span class="line">        e.printStackTrace();</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    for(int i = 0; i &lt; 5; i++) &#123;</span><br><span class="line"></span><br><span class="line">      new Thread(new Philosopher(i)).start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong></strong></p>
<p><strong></strong> DeadlockLivelock </p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><p><strong></strong> case</p>
<p><strong></strong> Unix </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Intermediate Process CommunicationIPC  IPC  </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong>07 | xargs </strong> <code>shell</code>MySQL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 | 2 | 3 | mysql -u... -p | </span><br></pre></td></tr></table></figure>

<p> 1 2 3  MySQL MySQLMySQL</p>
<p><strong></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 &gt; namedpipe</span><br><span class="line">2 &gt; namedpipe</span><br></pre></td></tr></table></figure>

<p> namedpipe MySQL MySQL localhost  TCP 3  </p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>  Unix  Linux  POSIX shmem<a href="https://www.man7.org/linux/man-pages/man7/shm_overview.7.html" target="_blank" rel="noopener"></a>Linux </p>
<p> API</p>
<h4 id="-"><a href="#-" class="headerlink" title="/"></a>/</h4><p>Unix  POSIX  mqueue TCP/IP <strong></strong></p>
<p>/</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Remote Procedure CallRPC</p>
<p> RPC  stub stub</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628170950.png" alt="image-20210628170949931"></p>
<p> 10 </p>
<ol>
<li></li>
<li>stub </li>
<li> socket  socket </li>
<li> stub </li>
<li></li>
<li> stub</li>
<li>stub </li>
<li> socket  socket </li>
<li> socket  stub</li>
<li> stub </li>
</ol>
<p>RPC   TCP I/O <strong></strong></p>
<p> Thrift Facebook Dubbo grpcGoogle  RPC IDL</p>
<p>RPC  RPC  RPC  RPC <strong>RPC </strong><strong></strong><strong></strong><strong> RPC </strong><strong></strong> RPC </p>
<p><strong></strong></p>
<p><strong></strong> <strong></strong></p>
<ul>
<li>/</li>
<li> RPC RPC  </li>
</ul>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><h4 id="-I-O-"><a href="#-I-O-" class="headerlink" title=" I/O "></a> I/O </h4><p> I/O</p>
<p><strong></strong> CPU Deep Neural Networks<strong></strong></p>
<p> <strong>I/O </strong>I/O  I/OSSD I/O CPU  I/O  I/O  CPU  CPU  I/O  CPU  I/O <strong>I/O </strong></p>
<p><strong>CPU </strong></p>
<p> Direct Memory AccessDMA DMA  CPU CPU </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628171637.png" alt="image-20210628171637337"></p>
<p> DMA memcpy  byte <strong>CPU </strong></p>
<p> I/O  I/O I/O </p>
<h4 id="-CPU-"><a href="#-CPU-" class="headerlink" title=" CPU "></a> CPU </h4><p> CPU CPU  2 CPU </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628171759.png" alt="image-20210628171758977"></p>
<p> CPU  CPU  CPU  CPU  CPU  CPU  CPU CPU  10 </p>
<p>CPU  3 </p>
<ol>
<li></li>
<li></li>
<li></li>
</ol>
<p>CPU  2 </p>
<ol>
<li>CPU  CPU </li>
<li>CPU  I/O  I/O Wait</li>
</ol>
<p> top </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628171907.png" alt="image-20210628171906894"></p>
<p> <strong>%CPU(s)</strong>  3 </p>
<ol>
<li>ususer CPU </li>
<li>sysystem CPU </li>
<li>ninicenice  Unix -19  20  CPU </li>
<li>ididle CPU </li>
<li>waI/O WaitI/O Wait  CPU </li>
<li>hihardware interrupts CPU </li>
<li>sisoftware interrrupts CPU </li>
<li>ststolen CPU  CPU </li>
</ol>
<p> top  CPU  top <code>1</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628172018.png" alt="image-20210628172018226"></p>
<p>CPU  16 </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> top <code>load average</code>  CPU  <code>1</code> CPU </p>
<p>CPU  I/O Wait   CPU  I/O </p>
<p> 1M  byte  CPU </p>
<p><code>load average</code><code>/proc/loadavg</code></p>
<h3 id="Traffic"><a href="#Traffic" class="headerlink" title="Traffic"></a>Traffic</h3><p><code>/proc/net/dev</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628174552.png" alt="image-20210628174552044"></p>
<p> 3 </p>
<ul>
<li>Interface</li>
<li>Receive</li>
<li>Transmit</li>
</ul>
<p></p>
<ul>
<li>byte </li>
<li>package </li>
<li>erros </li>
<li>drop </li>
<li>fifo: FIFO <strong></strong></li>
<li>frame: </li>
</ul>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> I/O <code>iotop</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628174702.png" alt="image-20210628174702314"></p>
<p></p>
<p><code>df</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628174718.png" alt="image-20210628174718444"></p>
<p> df <code>/dev/sda5</code><code>/</code></p>
<p> I/O <code>/proc/diskstats</code>  20  I/O </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Linux  CPUI/ONginx   Taobao System Activity Reporttsar logstash  ELK </p>
<h4 id="-"><a href="#-" class="headerlink" title="/"></a>/</h4><p> </p>
<p><strong> = CPU </strong></p>
<p> PHP  Node.js</p>
<p>Node.js CoroutinePHP Java  11Go </p>
<p> Node.js  8  8  Node  CPU  8 8  1 CPU  CPU  I/O Wait CPU  I/O</p>
<p> 50% CPU  50%  I/O Wait 1  CPU /</p>
<p> I/O  P n  CPU </p>
<p> I/O  P I/O  P n n  I/O PnCPU  CPU  I/O CPU  = 1 -Pn</p>
<p> P = 50%  CPU  2 </p>
<p> CPU <strong></strong> CPU  3 </p>
<ul>
<li> CPU<code>load average</code> I/O Wait CPU </li>
<li> I/O Wait </li>
<li> idle CPU </li>
</ul>
<p><strong></strong></p>
<p><strong></strong> I/O  </p>
<p>Node.js  Node.js  I/O  -1  Java  CPU </p>
<p></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628204545.png" alt="image-20210628204545448"></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628204612.png" alt="image-20210628204612785"></p>
<p><strong> CPU </strong></p>
<p></p>
<p>Sequencial Consistency Weak Consistency</p>
<p>?  CPU </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210628210820.png" alt="image-20210628210820412"></p>
<p> A=0,B=0 CPU  Thread1Thread2  CPU Thread1,Thread2  L1\L2  L3 </p>
<p> Thread1  A=1 L1,L2,L3  Thread2  Thread1  A  A=1  1  A=1 L1  1  A=1  1  2  A  print  A  B  0  1</p>
<p> cas </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> lock = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lock</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(!cas(&amp;lock, <span class="number">0</span>, <span class="number">1</span>))&#123;</span><br><span class="line">    <span class="comment">// CPU</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>spin-lock 1  cas  lock  0  1 CPU  L1 cas  CPU cas  2  cas  1  2  2  lock  Thread  CPU  L1L2  2  cas </p>
<p> 2 CPU Java  volatile </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">volatile</span> <span class="keyword">int</span> lock = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>lock</p>
<p><strong> 2 </strong></p>
<p>     focus </p>
<p></p>
<p> cas </p>
<p>  Java  7  BlockingQueue </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629101758.png" alt="image-20210629101758701"></p>
<p><strong></strong></p>
<p> Java  yield   PriorityQueue  LinkedList Java <code>add</code><code>remove</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">private PriorityQueue&lt;Task&gt; urgents;</span><br><span class="line"></span><br><span class="line">private ArrayList&lt;LinkedList&lt;Task&gt;&gt; multLevelQueues;</span><br></pre></td></tr></table></figure>

<p><code>submit</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> var scheduler = new MultiLevelScheduler();</span><br><span class="line"></span><br><span class="line"> scheduler.submit((IYieldFunction yield) -&gt; &#123;</span><br><span class="line"></span><br><span class="line">   System.out.println(&quot;Urgent&quot;);</span><br><span class="line"></span><br><span class="line"> &#125;, 10);</span><br></pre></td></tr></table></figure>

<p> 3  100  next() </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">  private Task next()&#123;</span><br><span class="line"></span><br><span class="line">    if(this.urgents.size() &gt; 0) &#123;</span><br><span class="line"></span><br><span class="line">      return this.urgents.remove();</span><br><span class="line"></span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">      for(int i = 0; i &lt; this.level; i++) &#123;</span><br><span class="line"></span><br><span class="line">        var queue = this.multLevelQueues.get(i);</span><br><span class="line"></span><br><span class="line">        if(queue.size() &gt; 0) &#123;</span><br><span class="line"></span><br><span class="line">          return queue.remove();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return null;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p></p>
<p> runNext() </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">private void runNext()&#123;</span><br><span class="line"></span><br><span class="line">    var nextTask = this.next();</span><br><span class="line"></span><br><span class="line">    if(nextTask == null) &#123;return;&#125;</span><br><span class="line"></span><br><span class="line">    if(nextTask.isYield()) &#123;</span><br><span class="line"></span><br><span class="line">      return;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    nextTask.run(() -&gt; &#123;</span><br><span class="line"></span><br><span class="line">      // yiled </span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    this.runNext();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><code>yield</code><code>yield</code><code>yield</code><code>yield</code><code>yield</code></p>
<p><code>yield</code>nextTask.run <code>yield</code><code>yield</code><code>yield</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">nextTask.run(() -&gt; &#123;</span><br><span class="line"></span><br><span class="line">  if(nextTask.level == -1) &#123;</span><br><span class="line"></span><br><span class="line">    // high-priority forbid yield</span><br><span class="line"></span><br><span class="line">    return;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  nextTask.setYield(true);</span><br><span class="line"></span><br><span class="line">  if(nextTask.level &lt; this.level - 1) &#123;</span><br><span class="line"></span><br><span class="line">    multLevelQueues.get(nextTask.level + 1).add(nextTask);</span><br><span class="line"></span><br><span class="line">    nextTask.setLevel(nextTask.level + 1);</span><br><span class="line"></span><br><span class="line">  &#125; else &#123;</span><br><span class="line"></span><br><span class="line">    multLevelQueues.get(nextTask.level).add(nextTask);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  this.runNext();</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p> IDE </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br></pre></td><td class="code"><pre><span class="line">package test;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line"></span><br><span class="line">import java.util.LinkedList;</span><br><span class="line"></span><br><span class="line">import java.util.PriorityQueue;</span><br><span class="line"></span><br><span class="line">import java.util.concurrent.locks.LockSupport;</span><br><span class="line"></span><br><span class="line">import java.util.function.Function;</span><br><span class="line"></span><br><span class="line">public class MultiLevelScheduler &#123;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line"></span><br><span class="line">  * High-priority</span><br><span class="line"></span><br><span class="line">  */</span><br><span class="line"></span><br><span class="line">  private PriorityQueue&lt;Task&gt; urgents;</span><br><span class="line"></span><br><span class="line">  private ArrayList&lt;LinkedList&lt;Task&gt;&gt; multLevelQueues;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line"></span><br><span class="line">  * Levels of Scheduler</span><br><span class="line"></span><br><span class="line">  */</span><br><span class="line"></span><br><span class="line">  private int level = 3;</span><br><span class="line"></span><br><span class="line">  public MultiLevelScheduler()&#123;</span><br><span class="line"></span><br><span class="line">    this.init();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  public MultiLevelScheduler(int level) &#123;</span><br><span class="line"></span><br><span class="line">    this.level = level;</span><br><span class="line"></span><br><span class="line">    this.init();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private void init()&#123;</span><br><span class="line"></span><br><span class="line">    urgents = new PriorityQueue&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    multLevelQueues = new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    for(int i = 0; i &lt; this.level; i++) &#123;</span><br><span class="line"></span><br><span class="line">      multLevelQueues.add(new LinkedList&lt;Task&gt;());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @FunctionalInterface</span><br><span class="line"></span><br><span class="line">  interface IYieldFunction &#123;</span><br><span class="line"></span><br><span class="line">    void yield();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @FunctionalInterface</span><br><span class="line"></span><br><span class="line">  interface ITask&#123;</span><br><span class="line"></span><br><span class="line">    void run(IYieldFunction yieldFunction);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  class Task implements Comparable&lt;Task&gt;&#123;</span><br><span class="line"></span><br><span class="line">    int level = -1;</span><br><span class="line"></span><br><span class="line">    ITask task;</span><br><span class="line"></span><br><span class="line">    int priority;</span><br><span class="line"></span><br><span class="line">    private boolean yield;</span><br><span class="line"></span><br><span class="line">    public Task(ITask task, int priority) &#123;</span><br><span class="line"></span><br><span class="line">     this.task = task;</span><br><span class="line"></span><br><span class="line">     this.priority = priority;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line"></span><br><span class="line">    public int compareTo(Task o) &#123;</span><br><span class="line"></span><br><span class="line">      return this.priority - o.priority;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int getLevel() &#123;</span><br><span class="line"></span><br><span class="line">      return level;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setLevel(int level) &#123;</span><br><span class="line"></span><br><span class="line">      this.level = level;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void run(IYieldFunction f) &#123;</span><br><span class="line"></span><br><span class="line">      this.task.run(f);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setYield(boolean yield) &#123;</span><br><span class="line"></span><br><span class="line">      this.yield = yield;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public boolean isYield() &#123;</span><br><span class="line"></span><br><span class="line">      return yield;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  public void submit(ITask itask, int priority) &#123;</span><br><span class="line"></span><br><span class="line">    var task = new Task(itask, priority);</span><br><span class="line"></span><br><span class="line">    if(priority &gt;= 100) &#123;</span><br><span class="line"></span><br><span class="line">     this.multLevelQueues.get(0).add(task);</span><br><span class="line"></span><br><span class="line">     task.setLevel(0);</span><br><span class="line"></span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">      this.urgents.add(task);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  public void submit(ITask t) &#123;</span><br><span class="line"></span><br><span class="line">    this.submit(t, 100);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private Task next()&#123;</span><br><span class="line"></span><br><span class="line">    if(this.urgents.size() &gt; 0) &#123;</span><br><span class="line"></span><br><span class="line">      return this.urgents.remove();</span><br><span class="line"></span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">      for(int i = 0; i &lt; this.level; i++) &#123;</span><br><span class="line"></span><br><span class="line">        var queue = this.multLevelQueues.get(i);</span><br><span class="line"></span><br><span class="line">        if(queue.size() &gt; 0) &#123;</span><br><span class="line"></span><br><span class="line">          return queue.remove();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return null;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private void runNext()&#123;</span><br><span class="line"></span><br><span class="line">    var nextTask = this.next();</span><br><span class="line"></span><br><span class="line">    if(nextTask == null) &#123;return;&#125;</span><br><span class="line"></span><br><span class="line">    if(nextTask.isYield()) &#123;</span><br><span class="line"></span><br><span class="line">      return;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    nextTask.run(() -&gt; &#123;</span><br><span class="line"></span><br><span class="line">      if(nextTask.level == -1) &#123;</span><br><span class="line"></span><br><span class="line">        // high-priority forbid yield</span><br><span class="line"></span><br><span class="line">        return;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      nextTask.setYield(true);</span><br><span class="line"></span><br><span class="line">      if(nextTask.level &lt; this.level - 1) &#123;</span><br><span class="line"></span><br><span class="line">        multLevelQueues.get(nextTask.level + 1).add(nextTask);</span><br><span class="line"></span><br><span class="line">        nextTask.setLevel(nextTask.level + 1);</span><br><span class="line"></span><br><span class="line">      &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        multLevelQueues.get(nextTask.level).add(nextTask);</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      this.runNext();</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    this.runNext();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  public void start() throws InterruptedException &#123;</span><br><span class="line"></span><br><span class="line">    this.runNext();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  public static void main(String[] argv) throws InterruptedException &#123;</span><br><span class="line"></span><br><span class="line">    var scheduler = new MultiLevelScheduler();</span><br><span class="line"></span><br><span class="line">    scheduler.submit((IYieldFunction yield) -&gt; &#123;</span><br><span class="line"></span><br><span class="line">      System.out.println(&quot;Urgent&quot;);</span><br><span class="line"></span><br><span class="line">    &#125;, 10);</span><br><span class="line"></span><br><span class="line">    scheduler.submit((IYieldFunction yield) -&gt; &#123;</span><br><span class="line"></span><br><span class="line">      System.out.println(&quot;Most Urgent&quot;);</span><br><span class="line"></span><br><span class="line">    &#125;, 0);</span><br><span class="line"></span><br><span class="line">    scheduler.submit((IYieldFunction yield) -&gt; &#123;</span><br><span class="line"></span><br><span class="line">      System.out.println(&quot;A1&quot;);</span><br><span class="line"></span><br><span class="line">      yield.yield();</span><br><span class="line"></span><br><span class="line">      System.out.println(&quot;A2&quot;);</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    scheduler.submit((IYieldFunction yield) -&gt; &#123;</span><br><span class="line"></span><br><span class="line">      System.out.println(&quot;B&quot;);</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    scheduler.submit((IYieldFunction f) -&gt; &#123;</span><br><span class="line"></span><br><span class="line">      System.out.println(&quot;C&quot;);</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    scheduler.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p></p>
<p><em>Most Urgent</em></p>
<p><em>Urgent</em></p>
<p><em>A1</em></p>
<p><em>B</em></p>
<p><em>C</em></p>
<p><em>A2</em></p>
<p><em>Process finished with exit code 0</em></p>
<p> 1 <code>yield</code> A2  B,C  yield  yield </p>
<p></p>
<p><strong> think CPU </strong></p>
<p> I/O  2 </p>
<p><strong></strong></p>
<p>  Android  OpenBinder  RPC Linux  Binder </p>
<p></p>
<ul>
<li></li>
<li></li>
<li>pid=9999 USR1 </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -s USR1 9999</span><br></pre></td></tr></table></figure>

<p> 9999  <code>kill</code> API </p>
<p><strong></strong></p>
<p></p>
<p> CPU I/O Wait </p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo badblocks -v /dev/sda5</span><br></pre></td></tr></table></figure>

<p> /dev/sda5<code>df</code></p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong></p>
<p> Swap </p>
<h4 id="Swap"><a href="#Swap" class="headerlink" title="Swap"></a>Swap</h4><p>Swap Swap</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629102827.png" alt="image-20210629102827535"></p>
<p> <strong>Address Space</strong></p>
<p> A  100  A CPU CPU </p>
<p></p>
<ol>
<li><strong></strong></li>
<li><strong></strong></li>
</ol>
<p> Review </p>
<ol>
<li></li>
<li></li>
<li></li>
</ol>
<p>Swap  1 2Swap  3 Swap </p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> CPU  64bit CPU 264 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103056.png" alt="image-20210629103056529"></p>
<p><strong>Page</strong></p>
<ul>
<li><p></p>
</li>
<li><p></p>
</li>
</ul>
<p></p>
<h4 id="Page"><a href="#Page" class="headerlink" title="Page"></a>Page</h4><p>Page FramePage  Frame </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103155.png" alt="image-20210629103155027"></p>
<p> PageFrame  PageTable Page  Frame  Page  Frame  10G Page  4K 10G/4K = 2621440  64bit 20480K = 20M </p>
<p> 3 </p>
<ol>
<li> Page </li>
<li> Page  Frame </li>
<li></li>
</ol>
<p> 4K100,000</p>
<ol>
<li>Page Number = 100,000/4096 = 24 <strong></strong>1619 24 1619 Offset</li>
<li> 24  Frame  Frame  = 10</li>
<li> Frame  Page  Page Number  Frame Number  = 4096 * 10 + 1619 = 42579</li>
</ol>
<h4 id="MMU"><a href="#MMU" class="headerlink" title="MMU"></a>MMU</h4><p> CPU Memory Management Unit MMU</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103532.png" alt="image-20210629103532025"></p>
<p> CPU CPU  MMUMMU MMU  CPU </p>
<p>MMU  MMU </p>
<p> CPU  MMU Unix  C </p>
<p>MMU  CPU  MMU <strong>25 </strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Page  Frame<strong></strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103643.png" alt="image-20210629103643243"></p>
<p>  100,000  100,000 </p>
<ul>
<li>Absent bit0 1  Absent = 0</li>
<li>Protection 3  bit 000 100 </li>
<li>Reference</li>
<li>Dirty Dirty =1Swap) Dirty = 0</li>
<li>Caching CPU CPU <strong></strong></li>
<li>Frame NumberFrame  Frame  Frame </li>
</ul>
<p> 64bit  AbsentProtection  64bit  64bit  EB 1EB = 220TB</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 12M  4K</p>
<p> 3 3  3  4M </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103850.png" alt="image-20210629103850384"></p>
<p>   1024  1024*4K = 4M  1G  256K  256K  </p>
<p> 4M 4K </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629103924.png" alt="image-20210629103924287"></p>
<p> MMU  1  2  1G  1024  1  2  2  [2* 1024, 3*1024-1]  64bit <img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629104016.png" alt="image-20210629104015892"></p>
<p>MMU  1  1 1  2  MMU  2  Frame Frame  3 4  1  1T  2  3  256K  3 </p>
<p><strong></strong></p>
<p> 64bit  264  264  EB1EB = 106TB = 109GB)</p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629142514.png" alt="image-20210629142514130"></p>
<p>MMU: Memory Management Unit</p>
<p> Frame Number  CPU Memory Management Unit(MMU</p>
<p> MMUMMU  Frame Number MMU  MMU  CPU </p>
<p> MMU  CPU  MMU  CPU MMU  MMU</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629142927.png" alt="image-20210629142926877"></p>
<h4 id="TLB--MMU-"><a href="#TLB--MMU-" class="headerlink" title="TLB  MMU "></a>TLB  MMU </h4><p> MMU  CPU  95%  L2  CPU  CPU  fetch/decode/execute  store</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629142948.png" alt="image-20210629142948243"></p>
<p> fetchexecute  store  3  Page Number  Frame Number  0.2  CPU  CPU </p>
<p> MMU Translation Lookaside BufferTLB</p>
<p> TLB TLB  Page Number Frame Number </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629143035.png" alt="image-20210629143035212"></p>
<p> Page Number  Frame NumberCache LineEntry</p>
<p><strong>TLB  Page Number Frame Numbe</strong>rTLB  for  TLB CPU TLB TLB  i7 CPU  TLB TLB  CPU  i7 CPU L1  TLB  64 L2  TLB  1024  TLB </p>
<h4 id="TLB-Miss-"><a href="#TLB-Miss-" class="headerlink" title="TLB Miss "></a>TLB Miss </h4><p> Page Number  TLB <strong>TLB Miss</strong></p>
<p><strong></strong>Soft Miss Frame  TLB  TLB  TLB  LRULeast Recently Used</p>
<p><strong>Hard Miss)** Frame  Frame  TLB</strong> Hard Miss **</p>
<p><strong></strong></p>
<h4 id="TLB-"><a href="#TLB-" class="headerlink" title="TLB "></a>TLB </h4><p>TLB  Page Number  Frame NumberCache Line 3 </p>
<ul>
<li>Fully Associative Mapping</li>
<li>Direct Mapping</li>
<li>n n-way Set-Associative Mapping</li>
</ul>
<p>AssociativeSet-Associative 4 </p>
<p><strong>Fully Associative Mapping</strong></p>
<p> TLB  Frame</p>
<p> TLB  Page Number Frame</p>
<p><strong>Direct Mapping</strong></p>
<p> 64 <strong> = Page Number % 64</strong></p>
<p> 1G 4K 1G/4K = 262144  262144/64 = 4096  CPU </p>
<p></p>
<p> LRU  TLB Miss </p>
<p> LRU  n </p>
<p><strong>n n-way Set-Associative Mapping</strong></p>
<p>Page Number n  64  100  100%64 = 36 36  Frame  36  36  Page Number  100 37,38,39 4  36,37,38,398  36-43 </p>
<p> Page Number  n  LRU  n  n  n i7 CPU  L1 TLB  4-way 64 L2 TLB  8-way 1024 Intel </p>
<p> TLB  n   1G 4K   262144  1024  TLB 262144/1024 = 256 256  1 </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Large Page  Huge Page   4M  1024   MMU  MMU   MMU  TLB  TLB  TLB</p>
<p> 4K  1G  262144  4M  1024   TLB </p>
<p> Linux  2.6 HugeTable</p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl -w vm.nr_hugepages=2048</span><br></pre></td></tr></table></figure>

<p><code>sysctl</code> 2048 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629144737.png" alt="image-20210629144736821"></p>
<p> 2048  2048KB MMU </p>
<p> Java <code>-XX:+UseLargePages</code>  Java  UseLargePages </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629144754.png" alt="image-20210629144754602"></p>
<p> Java  = Total-Free+Rsvd = 2048-2032+180 = 196Total Free  RsvdReserved </p>
<p><strong></strong></p>
<p> </p>
<h3 id="LRU-"><a href="#LRU-" class="headerlink" title="LRU "></a><strong>LRU </strong></h3><p>LRU TLB<strong></strong></p>
<p>Cache Replacement AlgorithmCDN  Web CPU  Redis </p>
<p> LRU </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong></p>
<p>HitMiss M L Redis  DB T M*T+L L  M </p>
<p></p>
<h4 id="-FIFO-FILO"><a href="#-FIFO-FILO" class="headerlink" title="/FIFO/FILO"></a>/FIFO/FILO</h4><p> 3 </p>
<p></p>
<p>First In First OutFIFO </p>
<p>FIFO </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629145239.png" alt="image-20210629145239118"></p>
<p> Queue FIFO </p>
<p>First In Last Out FIFO</p>
<p> FILO </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629145400.png" alt="image-20210629145400071"></p>
<p>Stack FILO </p>
<p></p>
<h4 id="NRU"><a href="#NRU" class="headerlink" title="NRU"></a>NRU</h4><p>Not Recently Used) NRU </p>
<p> NRU <strong>24 </strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629145457.png" alt="image-20210629145457762"></p>
<p>  1 100ms  0 1 0 1 0</p>
<p> NRU  0  0</p>
<p>NRU  FIFO </p>
<p> FIFO  0 1 0<strong></strong> NRU  0 </p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629145715.png" alt="image-20210629145715823"></p>
<p></p>
<p><strong></strong>NRU </p>
<h4 id="LRU"><a href="#LRU" class="headerlink" title="LRU"></a>LRU</h4><p> NRU Least Recently Used LRU NRU LRU LRU CPU  LUR </p>
<p><strong></strong></p>
<p>LRU </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629153904.png" alt="image-20210629153903931"></p>
<p></p>
<p> LRU  Java  LinkedHashMap  Key </p>
<p></p>
<p><strong></strong> </p>
<p><strong> LRU  CPU </strong>CPU  8-way  8 </p>
<p> LRU </p>
<p><strong></strong></p>
<p><strong> LRU </strong>  CPU </p>
<p> ms </p>
<p> 0 1,0,0,1,1 35  Tick  3 </p>
<p>Least Frequently Used,LFU<strong>LFU </strong></p>
<p>AgingAging </p>
<p> 8 AR A  R  A </p>
<p> A <code>00000000</code> 5  Tick  R <code>11100</code> A </p>
<ol>
<li>10000000</li>
<li>11000000</li>
<li>11100000</li>
<li>01110000</li>
<li>00111000</li>
</ol>
<p> Aging  A AA  0</p>
<p> A  LRU  LFUDA D  Dynamic,A  Aging</p>
<p> Aging</p>
<p> CPU  LRU </p>
<p><strong> LRU</strong></p>
<p>  LRU  MRU Most Recently UsedMRU  LRU </p>
<p></p>
<p><strong>LRU </strong></p>
<p></p>
<p></p>
<p>CPU  LRU LRU </p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><p></p>
<p></p>
<p><strong></strong></p>
<p></p>
<p></p>
<ul>
<li></li>
<li>-</li>
<li></li>
</ul>
<p> 27  28 </p>
<h4 id="-GC"><a href="#-GC" class="headerlink" title=" GC"></a> GC</h4><p>Garbage CollectorGC GC  GC  GC </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629161923.png" alt="image-20210629161923118"></p>
<p> GC  GC GC  Garbage Collection  GC</p>
<p> GC  4 </p>
<ol>
<li>GC </li>
<li> GC </li>
<li>GC </li>
<li>GC </li>
</ol>
<p> GC  GC </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629163221.png" alt="image-20210629163221753"></p>
<ul>
<li><strong>Throughput</strong> GC  GC  GC</li>
<li><strong>FootPrint</strong> GC  2G  GC  500MB </li>
<li><strong>Pause Time</strong> GC  Stop The World</li>
</ul>
<p>GC </p>
<p> GC </p>
<p></p>
<p>S = 1 / (1- P)</p>
<p>P S  P  0.9</p>
<p>S = 1 / 1 - 0.9 = 10</p>
<p> 90%  10%  CPU  90%  10%  1/0.1=10 </p>
<p> GC GC </p>
<p><strong></strong></p>
<p>GC  FootPrint</p>
<p>GC Pause Time GC  GC Stop The WorldSTL  1s  11  11 5 </p>
<p> GC  GC  GC -</p>
<p>FootPrint  GC <strong> GC </strong></p>
<h4 id="Reference-Counter"><a href="#Reference-Counter" class="headerlink" title="Reference Counter"></a>Reference Counter</h4><p> GC GC  2</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629164711.png" alt="image-20210629164710950"></p>
<p> 0GC  0 </p>
<p> 1</p>
<p> 1 3 GC </p>
<p> 1 </p>
<p> GC </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629164820.png" alt="image-20210629164820264"></p>
<p><strong></strong><strong></strong></p>
<h4 id="Root-Tracing-"><a href="#Root-Tracing-" class="headerlink" title="Root Tracing "></a>Root Tracing </h4><p> Root Tracing - 3 -</p>
<p>Root Tracing Root Object Java JVM  Method Area </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629164948.png" alt="image-20210629164948046"></p>
<p> Root Tracing </p>
<p> 3 </p>
<p>Root Tracing GC  Root Tracing  Root Tracing GC  Root Tracing </p>
<h4 id="-Mark-Sweep"><a href="#-Mark-Sweep" class="headerlink" title="-Mark Sweep"></a>-Mark Sweep</h4><p> Root Tracing  -- </p>
<p></p>
<ul>
<li>heapSet </li>
<li>rootSet  Root Object</li>
</ul>
<p></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> obj in heapSet &#123;</span><br><span class="line"></span><br><span class="line">    obj.color = white</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">func mark(obj) &#123;</span><br><span class="line"></span><br><span class="line">  if obj.color == white &#123;</span><br><span class="line"></span><br><span class="line">    obj.color = black</span><br><span class="line"></span><br><span class="line">    for v in references(obj) &#123;</span><br><span class="line"></span><br><span class="line">      mark(v)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629165508.png" alt="image-20210629165508334"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> mark  obj Breadth First Serach</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629165525.png" alt="image-20210629165525502"></p>
<p></p>
<p> Root Object  mark </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for root in rootSet &#123;</span><br><span class="line"></span><br><span class="line">  mark(root)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> Root Object  heapSet <strong>Sweep</strong><strong>Mark</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">for obj in heapSet &#123;</span><br><span class="line"></span><br><span class="line">  if obj.color == white &#123;</span><br><span class="line"></span><br><span class="line">    free(obj)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>- MarkSweep-</p>
<p> GC  GC Floating Garbage GC </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629165616.png" alt="image-20210629165616789"></p>
<p> GC Mutation GC - GC </p>
<p> GC  GC   Root  GC GC</p>
<p>-</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170014.png" alt="image-20210629170014302"></p>
<p> GC  3 </p>
<p>Mark</p>
<p>Sweep</p>
<p>Mutation</p>
<p>MarkSweepMuation GC  3 Simultaneously MarkSweepMutation  MarkMutation  Sweep</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170109.png" alt="image-20210629170108855"></p>
<p> Mark  Sweep  GC  Mutation  Mark Sweep   Mark Mutation  Read On Write  Mark/Sweep Mutation  Mark </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170301.png" alt="image-20210629170301428"></p>
<p> GC  Mark  Sweep Mutation   GC</p>
<p> GC  GC  STLStop The WorldMark/Sweep/Mutation  </p>
<p>- Mark  Sweep  Mutation Mutation  Mutation  Sweep  Sweep </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170357.png" alt="image-20210629170357311"></p>
<p> GC  Mark/Mutation/Sweep </p>
<p></p>
<h4 id="-Tri-Color-Mark-Sweep"><a href="#-Tri-Color-Mark-Sweep" class="headerlink" title="-Tri-Color Mark Sweep"></a>-Tri-Color Mark Sweep</h4><p>-</p>
<p> GC </p>
<p> GC </p>
<p> GC </p>
<p>- Mutation</p>
<p> 3 3 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170534.png" alt="image-20210629170534268"></p>
<p> Root </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629170619.png" alt="image-20210629170618902"></p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">while greySet.size() &gt; 0 &#123;</span><br><span class="line"></span><br><span class="line">  var item = greySet.remove();</span><br><span class="line"></span><br><span class="line">  mark(item);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 3 </p>
<ol>
<li></li>
<li></li>
<li></li>
</ol>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">func mark(obj) &#123;</span><br><span class="line"></span><br><span class="line">  if obj in whiteSet &#123;</span><br><span class="line"></span><br><span class="line">    greySet.add(obj)</span><br><span class="line"></span><br><span class="line">    for v in refs(obj) &#123;</span><br><span class="line"></span><br><span class="line">      mark(v)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    greySet.remove(obj)</span><br><span class="line"></span><br><span class="line">    blackSet.add(obj)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> DFS  Root Object  3  ConcurrentSet</p>
<p> GC </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629172322.png" alt="image-20210629172322359"></p>
<p></p>
<p>- GC  Root </p>
<p> GCIncremental GC 3 Mutation</p>
<ol>
<li></li>
<li></li>
<li></li>
</ol>
<p> GC </p>
<p> Mark  Root Object  A  A  A B,C  A  DFS </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629172756.png" alt="image-20210629172756625"></p>
<p><strong></strong> B  C  F C,F  GC  C,F F,E,G </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629172811.png" alt="image-20210629172811414"></p>
<p> STLStop The WorldStop The World<strong> Mutation</strong></p>
<p> GC  </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>--Compact</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629172930.png" alt="image-20210629172930467"></p>
<p>Compact  LRU </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629172919.png" alt="image-20210629172919695"></p>
<p> Java Eden GCJava SurviorJava </p>
<p><strong>EdenSurvior </strong>- Eden  Survivor Eden Eden  Survivor  1:1 Eden  GC  GC  GC  GC  GC</p>
<h4 id="GC-"><a href="#GC-" class="headerlink" title="GC "></a>GC </h4><p> GC <strong> GC </strong><strong> GC </strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629173135.png" alt="image-20210629173135074"></p>
<ol>
<li>GC ---</li>
<li>- GC  GC  GC </li>
<li></li>
<li></li>
<li> GC  Java  Z</li>
</ol>
<p><strong> GC  GC </strong></p>
<p><strong> GC GC </strong> GC  API</p>
<p><strong> GC  GC </strong></p>
<ul>
<li><strong></strong></li>
<li><strong></strong></li>
</ul>
<p> Root Tracing  GC  DFS  BFS </p>
<p></p>
<p> DFS  Root </p>
<p><strong> Frame </strong></p>
<p> 4K1G  262144  4  1M  1T  1G </p>
<p> HashTable HashTable KeyValue Frame   HashTable  &lt;PageId, FrameId&gt; </p>
<p> 1024  HashTable 50000  h  50000  HashTable  24HashTable  PageId  FrameId  24  Page = 50000  Frame  1232</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210629174119.png" alt="image-20210629174118903"></p>
<p> HashTable  1024 - </p>
<p> HashTable  Hash  HashTable  O(k)k  HashTable  &lt;k,v&gt;  k  HashTable  O(1)</p>
<p><strong>Java  Go ?</strong></p>
<p></p>
<p><strong>25 </strong></p>
<p><strong>Go </strong></p>
<p>Go  Go  AST Go AST  Go  API  Go </p>
<p> Go  syscall <a href="https://golang.org/pkg/syscall/" target="_blank" rel="noopener">Go </a> syscall.madvise  TLB  Linux <a href="https://www.man7.org/linux/man-pages/man2/madvise.2.html" target="_blank" rel="noopener">madise </a></p>
<p> malloc  madvise </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;sys/mman.h&gt;</span><br><span class="line"></span><br><span class="line">size_t size = 256*1024*1024;</span><br><span class="line"></span><br><span class="line">char* mymemory = malloc(size);</span><br><span class="line"></span><br><span class="line">madvise(mymemory, size, MADV_HUGEPAGE);</span><br></pre></td></tr></table></figure>

<p> Go <code>runtime.sysAlloc</code><code>syscall.Madvise</code></p>
<p><strong>Java </strong></p>
<p>JVM Just-In-Time  JVM  JVM  Java  UnSafe UnSafe  UnSafe </p>
<p>Java <strong>25 </strong>XX:+UseLargePagesJVM </p>
<p><strong></strong></p>
<p> OS  4K</p>
<p><code>perf</code><code>iTLB-load-miss</code> TLB Miss  TLB Miss </p>
<p><strong> TLB  8-way LRU </strong></p>
<p>TLB  CPU  TLB  8  8  Least Recently Used </p>
<p><strong></strong></p>
<p>  8  2 </p>
<ol>
<li></li>
<li></li>
</ol>
<p> 1   2 </p>
<p><strong>1bit  LRU</strong></p>
<p> LRU LRU bit  LRU  0 </p>
<p> LRU  1  8  LRU  LRU  18 LRU  0</p>
<p><strong> LRU</strong></p>
<p> LRU</p>
<p> 8  8-1 = 7bit </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630074809.png" alt="image-20210630074808921"></p>
<p>8  7  1 0 1 </p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630074921.png" alt="image-20210630074921098"></p>
<p>0 1  0 0  11  0</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630074952.png" alt="image-20210630074952274"></p>
<p><code>read a</code> 4</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630075950.png" alt="image-20210630075950806"></p>
<p><code>read b</code> 2</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080008.png" alt="image-20210630080008756"></p>
<p> c <code>d,e,f,g,h</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080027.png" alt="image-20210630080027636"></p>
<p><code>c</code><code>c</code><code>read c</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080043.png" alt="image-20210630080043461"></p>
<p> c  <code>x</code></p>
<p><strong></strong></p>
<p> next  CPU   bit-tree LRU  LRU </p>
<p><strong> GC </strong></p>
<p> GC </p>
<p> </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080147.png" alt="image-20210630080147261"></p>
<p> 3  Java  Eden Java  GC Java  G1</p>
<p><strong></strong></p>
<h3 id="Linux-"><a href="#Linux-" class="headerlink" title="Linux "></a><strong>Linux </strong></h3><p></p>
<ul>
<li>MySQL  binlog  Redis AOF </li>
<li>B Tree </li>
</ul>
<p> Linux </p>
<p> Linux  Linux Linux Virtual File System VFS</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080417.png" alt="image-20210630080417018"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Linux <code>/</code><strong>08 </strong><code>/</code><code>/</code></p>
<p> Linux  API <strong>Linux </strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080512.png" alt="image-20210630080512118"></p>
<p><code>df -h</code><code>/</code><code>/dev/sda5</code><code>df -T</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080549.png" alt="image-20210630080549828"></p>
<p><code>/</code><code>ext4</code><strong>30 </strong><code>/dev/sda5</code><code>fdisk -l</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080610.png" alt="image-20210630080610257"></p>
<p> Linux  30G  3 Device/dev/sda1, /dev/sda2  /dev/sda5 Linux  1~4  4 4 <code>/dev/sda2</code><code>/dev/sda5</code></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><code>/dev/sda5</code><code>/</code> <code>/</code><code>/dev/sda5</code> <code>/dev/sda5</code><code>ext4</code><strong></strong></p>
<p>Mount USB <code>mount -l</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080742.png" alt="image-20210630080742427"></p>
<p><code>sysfs``proc``devtmpfs``tmpfs``ext4</code></p>
<ul>
<li><code>sysfs</code></li>
<li><code>proc</code></li>
<li><code>devtmpfs</code></li>
<li><code>tmpfs</code></li>
<li><code>ext4</code></li>
</ul>
<p>on <code>mount</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sda6 /abc</span><br></pre></td></tr></table></figure>

<p><code>/dev/sda6</code><code>abc</code></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Linux Linux </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630080849.png" alt="image-20210630080849295"></p>
<p><strong></strong> <code>/</code><code>/</code></p>
<p><strong>/bin</strong> ls, cp, cd <code>bin</code><code>bin</code><code>nginx</code> Nginx  bin </p>
<p><strong>/dev</strong> <code>devtmpfs</code></p>
<p></p>
<p><strong>/dev/null</strong><code>&gt;</code><code>/dev/null</code></p>
<p><strong>/dev/zero</strong> 0  0</p>
<p><strong>/dev/ramdom</strong></p>
<p><strong>/etc</strong><code>/etc</code><code>and so on</code>Linux <code>mysql</code><code>/etc/mysql</code><code>/etc/passwd</code></p>
<p><strong>/proc</strong> <code>/proc/1122</code><code>1122</code><code>/proc/cpuinfo</code> CPU </p>
<p><strong>/sbin</strong> <code>/bin</code></p>
<p><strong>/tmp</strong> <code>tmpfs</code><code>tmpfs</code><code>/tmp</code></p>
<p><strong>/var Variable data file,</strong> <code>/var/log</code><code>/var</code><code>/var</code></p>
<p><strong>/boot</strong>  Linux </p>
<p><strong>/optOptional Software</strong> </p>
<p><strong>/rootroot </strong> Linux  root <code>/home/root</code><code>/root</code></p>
<p><strong>/home</strong> <code>lagou</code><code>/home/lagou</code><code>cd</code> </p>
<p><strong>/media</strong> <code>/media</code> U  Linux <code>/media</code> U </p>
<p><strong>/mntMount</strong>  U  Linux <code>mount</code> U <code>/mnt</code></p>
<p><strong>/svrService Data,</strong>  <code>/www</code><code>/data</code></p>
<p><strong>/usrUnix System Resource</strong> </p>
<ul>
<li><code>vim</code><code>/usr/bin</code><code>ls</code><code>/bin</code></li>
<li><code>/usr/sbin</code></li>
<li><code>/usr/lib</code></li>
<li><code>/usr/lib</code><code>.so</code><code>Shared Object</code><code>windows</code><code>dll</code></li>
<li><code>/usr/share</code> man <code>/usr/share/man</code></li>
</ul>
<h3 id="FATNTFS--Ext3-"><a href="#FATNTFS--Ext3-" class="headerlink" title="FATNTFS  Ext3 "></a><strong>FATNTFS  Ext3 </strong></h3><p>10  FAT  Windows  NTFSLinux  Ext3Ext4 <strong></strong><strong></strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><strong></strong></p>
<p> SSD </p>
<p><strong></strong> 4KB DMA NvMe /Block</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082207.png" alt="image-20210630082206967"></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>File System 3 </p>
<ul>
<li> FAT </li>
<li> inode </li>
<li> NTFS, EXT234</li>
</ul>
<h4 id="FAT-"><a href="#FAT-" class="headerlink" title="FAT "></a>FAT </h4><p>File Allocate TableFAT</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082256.png" alt="image-20210630082256398"></p>
<p><strong>FAT </strong> 1  5  1  1  5   5  2 1  2  5  2  9  14  15  -1-1  1 5,2,9,14,15 2  3,8,12</p>
<p><strong>FAT  Windows/Linux/MacOS  FAT </strong>FAT  1T  1K 1G  FAT  FAT  2~3  2-3G  FAT  1T  FAT </p>
<h4 id="inode"><a href="#inode" class="headerlink" title="inode"></a>inode</h4><p> FAT inodeinode</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082432.png" alt="image-20210630082432563"></p>
<p></p>
<p>inode FAT FAT  FAT </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Directory inode inode </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082520.png" alt="image-20210630082520140"></p>
<p> inode </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082535.png" alt="image-20210630082535220"></p>
<p>/foo  /bar  b.txt  c.txt  inode</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082642.png" alt="image-20210630082642563"></p>
<p><code>ln</code> a <code>b</code> a b  inode a,b  a,b </p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630082707.png" alt="image-20210630082707436"></p>
<p><code>c.txt</code><code>b.txt</code><code>inode</code><code>b.txt</code><code>b.txt</code> inode <code>c.txt</code><code>c.txt</code><code>b.txt</code></p>
<p> Linux <code>ln -s</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s a b # ba(ba)</span><br></pre></td></tr></table></figure>

<p><strong></strong> inode  10001 </p>
<ol>
<li></li>
<li></li>
<li> inode </li>
<li></li>
</ol>
<p><strong></strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong>inode  FAT  CPU</strong> CPU  CPU  I/O </p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630084651.png" alt="image-20210630084651264"></p>
<p>   1  2  2  1  inode </p>
<p> A  A A </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A=1</span><br><span class="line"></span><br><span class="line">A=2</span><br><span class="line"></span><br><span class="line">A=3</span><br></pre></td></tr></table></figure>

<p> A  3  3  A  3 3 </p>
<p> 3  CPU </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630084827.png" alt="image-20210630084827466"></p>
<p><strong></strong></p>
<p><strong></strong></p>
<p> </p>
<p>Checkpoint 30s  30s </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630084959.png" alt="image-20210630084959570"></p>
<p>Checkpoint 3  30s  3 </p>
<ul>
<li>FAT </li>
<li>inode </li>
<li></li>
</ul>
<p> MySQL  binlogRedis  AOF Paxos  Zookeeper </p>
<p><strong>FATNTFS  Ext3 </strong></p>
<p>FAT <strong>NTFS  Ext3  FAT </strong></p>
<h3 id="MySQL--B--B-"><a href="#MySQL--B--B-" class="headerlink" title="MySQL  B  B+ "></a><strong>MySQL  B  B+ </strong></h3><p>B  B+  B  MySQL MongoDBOracle </p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p>Row StorageColumn Storage 3 </p>
<p><img src="C:\Users\flyho\AppData\Roaming\Typora\typora-user-images\image-20210630090802588.png" alt="image-20210630090802321"></p>
<p>Block </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630090928.png" alt="image-20210630090928389"></p>
<p>Block 4 Block<strong></strong></p>
<p>Column Storage</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630091007.png" alt="image-20210630091007790"></p>
<p> 1  1 <code>1001</code> 2  1 <code></code> 4 <strong></strong></p>
<p> 4KB 100   4KB  40  32 4KB  1000  DMA </p>
<p><strong></strong> Block </p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong><code>select * from order where id=1000000</code><strong></strong></p>
<p> ID </p>
<p> 3</p>
<p>1,3,5,8,11,12,15,19,21,25</p>
<p> 10  11 11  3  11  3 11  11  240 1T  40 </p>
<p> ID  [a,b]  a  b </p>
<p></p>
<p> ID </p>
<p> ID </p>
<p>10005 10001 </p>
<p></p>
<p>99.00 100.00 </p>
<p>10001 2 10001 1  ID10001 100.00</p>
<p></p>
<p>10001210005 1</p>
<p><strong></strong><strong></strong> &lt; ID, &gt; </p>
<p> MySQL ID  &lt;&gt; </p>
<p></p>
<p><strong></strong> ID </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 10-1000 </p>
<p> Binary Serach Tree ID  Key</p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630114725.png" alt="image-20210630114725249"></p>
<p> Key  ValueKey  ID  Key  ID 18 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630114822.png" alt="image-20210630114822531"></p>
<p></p>
<p><strong></strong></p>
<p> CPU  5%  95%  CPU </p>
<p></p>
<h4 id="B--B-"><a href="#B--B-" class="headerlink" title="B  B+ "></a>B  B+ </h4><p> Block </p>
<p> 40  CPU  90%  40 </p>
<p><strong></strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115010.png" alt="image-20210630115010402"></p>
<p><strong> B </strong><strong>B-Tree</strong>B </p>
<p>B-Tree B  1  3  9,30 </p>
<p> B  3-4 B 3  3 4  4 4  4 </p>
<p>B  &lt; ID&gt; </p>
<h4 id="-B-B-"><a href="#-B-B-" class="headerlink" title=" B B+ "></a> B B+ </h4><p> B  B+ B+  B  1  1  Key12  30 3  4 </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 2-3 B+  B+ 2  B+  2  3  3  2-3 B+  3,6,9,12,19,15,26,8,30</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115403.gif"></p>
<p> 3,6,9  3  12 B+ </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115722.png" alt="image-20210630115722136"></p>
<p> 15 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115733.png" alt="image-20210630115733217"></p>
<p> 19 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115747.png" alt="image-20210630115747830"></p>
<p>15 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115757.png" alt="image-20210630115757351"></p>
<p> 26 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115809.png" alt="image-20210630115809252"></p>
<p> 8 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115820.png" alt="image-20210630115820343"></p>
<p> 30</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115834.png" alt="image-20210630115834408"></p>
<p> 26 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115846.png" alt="image-20210630115846288"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630115857.png" alt="image-20210630115857267"></p>
<p>B+ </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>B+ B B </p>
<p>B+  B+ </p>
<p><strong>B+ </strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>B  B+ </p>
<p>B+  1  20  1  22  1  20  1 22 </p>
<p> B+  HashTable<strong> I/O </strong><strong> I/O</strong></p>
<h3 id="MySQL--B--B-"><a href="#MySQL--B--B-" class="headerlink" title="MySQL  B  B+ "></a><strong>MySQL  B  B+ </strong></h3><p>B+  B B B+ </p>
<p> B+ B+  B+  B+  B+  B+ </p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><p> Petabytes 1PB = 1024TB</p>
<p> Paper</p>
<ul>
<li>Google File System</li>
<li>BigTableA Distributed Storage System for Structured Data</li>
</ul>
<p>Google File System  HDFS HDFSHadoop Distributed File System Google File System </p>
<p> BigTable BigTable  Google  Google File System  Google  2005  Paper BigTable  HBase  BigTable </p>
<p> Paper  Google </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 20 </p>
<p> 200  200 Google  PB  Google </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p> URL+ </p>
<p>Google Logo</p>
<p> URL  </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630120634.png" alt="image-20210630120634095"></p>
<p> Block </p>
<p>  </p>
<p> URL </p>
<p> Key-Value  Map Map  Key-Value  Key  &lt;URL, Column&gt; </p>
<p>Column<code>:</code>Family) QualifierAnchorQualifier a <code>anchor:baidu.com/a</code><strong></strong></p>
<p><strong> MapKey-Value</strong></p>
<p><em>Map  Key-Value  HashMap  MapArrayMap  MapLinkedMap  MapLinkedJumpMap  Map</em></p>
<p> URL  Key  Value  Key  URL  B+  URL URL  B+  URL </p>
<p>B+  URL </p>
<p> B+  Tablet Tablet </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> &lt;URL, &gt; B+  URL </p>
<p></p>
<p></p>
<h4 id="Tablet"><a href="#Tablet" class="headerlink" title="Tablet"></a>Tablet</h4><p> PB URL URL  URL URLTabletTablet </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122049.png" alt="image-20210630122049634"></p>
<p>Tablet B+ </p>
<p> Linux  Linux </p>
<p> 2  3 3  3 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122159.png" alt="image-20210630122159671"></p>
<h4 id="Chunk"><a href="#Chunk" class="headerlink" title="Chunk"></a>Chunk</h4><p>ChunkBlockChunk  Block Google File System  Chunk Chunk Block</p>
<p>Table Tablets Google File System  Hadoop Distributed File System</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122235.png" alt="image-20210630122235204"></p>
<p> Block  Chunk Chunk  Block  Google File System  64KB Block  4KHDFS  128MB I/O  I/O  I/O   Google  GFS </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Chunk Chunk  ID ChunkID  Chunk  Chunk </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122328.png" alt="image-20210630122327998"></p>
<p> Chunk  HDFS  Chunk  128MB 1PB  8,388,608  64bit  8  64M  Chunk  64M </p>
<p> HDFS  GFS  Chunk  Master </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122411.png" alt="image-20210630122411827"></p>
<p><code>/foo/bar</code> Chunk Byterange 4 </p>
<ol>
<li> Master BChunk  Chunk </li>
<li>Master  Chunk  Chunk ID</li>
<li> Chunk  ChunkServerIDByterange</li>
<li>ChunkServer </li>
</ol>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122600.png" alt="image-20210630122600057"></p>
<p> 3 </p>
<ol>
<li>ClientApplication BigTable  GFS  Client</li>
<li>Master Chunk </li>
<li>ChunkServer  Chunk </li>
</ol>
<p>Master ChunkServer  namespace Chunk  namespace  + ChunkLocation + ChunkID Chunk  Chunk  Master  B ChunkServer  Master  Master</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Round Trip Master  ChunkServer</p>
<p> Chunk  Chunk  ChunkServer GFS  ChunkServer  ChunkServer </p>
<p></p>
<ol>
<li>Lease Chunk  Chunk  Chunk</li>
<li>Master  Chunk  1 PrimarySecondary ChunkServer ChunkServer  ChunkServer </li>
<li> ChunkServer ChunkServer </li>
<li> ChunkServer  ChunkServer </li>
<li> ChunkServer </li>
<li> ChunkServer </li>
<li> ChunkServer </li>
</ol>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630122821.png" alt="image-20210630122821044"></p>
<p> GFS GFS  HDFS </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> HDFS Master  NameNodeChunkServer  DataNode HDFS Secondary Node NameNode  NameNode  DataNode  HDFS  Master </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<ul>
<li>Google File System</li>
<li>BigTableA Distributed Storage System for Structured Data</li>
</ul>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Google Logo Google BigTableTablet</p>
<p>Google  BigTable  Google  Google File SystemBigTable  Tablet  GFS</p>
<p>Hadoop  GFS  Hadoop  GFS </p>
<p></p>
<p><strong></strong></p>
<p></p>
<p><strong>socket </strong></p>
<p>socket  inode socket </p>
<p> /proc/net/tcp  TCP  /proc/[pid]/fd  socket  socket  fd</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630123321.png" alt="image-20210630123321474"></p>
<p><code>lsof -i -a -p [pid</code> socket <code>ls /proc/[pid]/fd</code> fd </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630123348.png" alt="image-20210630123348380"></p>
<p><strong></strong></p>
<p> </p>
<p></p>
<p></p>
<p><strong></strong></p>
<p> B+  MySQL  B+ </p>
<p><strong>B+ </strong><strong></strong></p>
<p> m Bucket N  k = N/m k </p>
<p> B+  &gt;,&lt;, =,BETWEENLIKE </p>
<p><strong>Master </strong></p>
<p>Master Single PointSingle Point of Failure</p>
<p>SPoF Hadoop </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630123725.png" alt="image-20210630123725692"></p>
<p> Master  Hadoop  NameNodeNNActive NN StandBy NN </p>
<p> NN  NN  NN </p>
<p> NN  NN  ZooKeeper</p>
<p> NN  NN </p>
<p> 3 2 Journal Node 3 </p>
<p><strong></strong> 3 </p>
<ul>
<li><strong></strong></li>
<li><strong></strong> 3 </li>
<li><strong></strong> ZooKeeper</li>
</ul>
<p></p>
<h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><p></p>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
<h3 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a><strong>TCP/IP</strong></h3><p> TCP/IP  TCP/IP Internet Protocol Suit</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong><strong></strong><strong></strong><strong></strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong>Application Layer</strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630132054.png" alt="image-20210630132054214"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong>Transport Layer</strong></p>
<p>Transmission Control ProtocolWeb Web </p>
<p> TCP  TCP TCP Segment</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630132147.png" alt="image-20210630132147250"></p>
<p><strong></strong> 80  Web 22 TCP TCP Segment</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong>Host To Host</p>
<p><strong></strong><strong>Internet Layer</strong> </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630132331.png" alt="image-20210630132331789"></p>
<p>IP Internet ProtocolIP  IP Host To Host</p>
<p> IP  IPv4  8  32 </p>
<p>IP IP <strong></strong>Addressing<strong></strong></p>
<p><strong></strong><strong>Addressing</strong>IP </p>
<p><strong></strong></p>
<h4 id="Data-Link-Layer"><a href="#Data-Link-Layer" class="headerlink" title="Data Link Layer"></a>Data Link Layer</h4><p> IP  IP </p>
<p><strong></strong><strong>Data Link Layer</strong><strong></strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong>Physical Layer</strong></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630133938.png" alt="image-20210630133938525"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Multiplex</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> TCP <strong></strong></p>
<p> Non-BlockingTCP Segment</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630134225.png" alt="image-20210630134225434"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p> IP  IP </p>
<p><strong></strong><strong> TCP </strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>/ TCP  HTTP </p>
<p><strong></strong></p>
<p><strong></strong>/ TCP </p>
<ol>
<li>TCP </li>
<li></li>
</ol>
<h3 id="UDP-UDP--TCP-"><a href="#UDP-UDP--TCP-" class="headerlink" title="UDP UDP  TCP "></a><strong>UDP UDP  TCP </strong></h3><p>TCP  UDP </p>
<p> RFC Request For Comments RFC <strong></strong> RFC </p>
<p> TCP  UDP  RFC TCP  RFC UDP  RFC  UDP </p>
<p> TCP  UDP </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong>Reliablility\</strong>****</p>
<p></p>
<p><strong>TCP UDP </strong></p>
<h4 id="Checksum"><a href="#Checksum" class="headerlink" title="Checksum"></a>Checksum</h4><p><strong></strong><strong></strong></p>
<p> UDP Checksum<strong>TCP  UDP </strong></p>
<p><strong></strong></p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">byte c = 0;</span><br><span class="line">for(byte x in bytes) &#123;</span><br><span class="line">  c = c xor x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>xor</code> bytes <code>c</code><code>bytes</code> bytes<code>bytes</code><strong></strong><code>bytes</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630143310.png" alt="image-20210630143310841"></p>
<p></p>
<p><strong> TCP  UDPTCP  UDP UDP </strong></p>
<h4 id="--"><a href="#--" class="headerlink" title="//"></a>//</h4><p><strong></strong>TCP UDP </p>
<p></p>
<p> TCP </p>
<p> TCP </p>
<p><strong>1. TCP </strong></p>
<p> TCP  Alice  Bob  Alice  Bob Alice  Bob TCP <strong></strong><strong>Synchronization SYN</strong> Bob  SYN Alice  TCP <strong></strong><strong>AcknowledgementACK</strong> TCP </p>
<p> Alice  Bob SYNBob  Alice ACK Alice  TCP  Alice  Bob Bob  Alice  Bob  ACK  Alice Alice   Bob  Alice  SYN Alice  Bob  ACK TCP </p>
<p><strong></strong>Bob  Alice  ACK  Bob  Alice  SYN  SYN-ACK TCP  TCP  Alice  Bob  TCP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630143358.png" alt="image-20210630143358324"></p>
<p><strong>2. TCP </strong></p>
<p>TCP  Finish FIN  4 </p>
<ul>
<li> 1  Alice  FIN</li>
<li> 2  Bob  ACK</li>
<li> 3  Bob  FIN</li>
<li> 4  Alice  ACK</li>
</ul>
<p> 2   3  FIN-ACKAlice  Bob  Bob  Alice  ACK Bob  Alice  FIN  ACK Bob  FIN  Alice</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630143425.png" alt="image-20210630143425650"></p>
<p><strong>3. </strong></p>
<p>Alice  Bob <strong></strong></p>
<p> TCP  UDP </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong>TCP UDP </strong></p>
<p> TCP <strong>TCP Segment</strong> UDP <strong>UDP Datagram</strong>Datagram </p>
<p><strong>TCP  UDP Datagram </strong><strong> TCP  UDP </strong></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> TCP  UDP </p>
<p><strong> 30  Ping </strong></p>
<p><strong></strong> Ping  TCP  UDP Ping Ping </p>
<p>Ping  Ping Ping  UDP </p>
<p> Round Trip  60  Round Trip </p>
<p>TCP  UDP <strong>TCP </strong>UDP IP <strong> UDP </strong></p>
<p> UDP HTTP  HTTP  TCP  HTTP  HTTP  HTTP 3.0  UDP  HTTP 3.0  UDP QUIC UDP </p>
<p><strong> TCP  UDP </strong> TCP  UDP  TCP  TCP </p>
<p> TCP UDP<strong> TCP </strong></p>
<h3 id="-2"><a href="#-2" class="headerlink" title=""></a></h3><p> TCP UDP</p>
<p> TCP  UDP  TCP TCPUDP <strong></strong></p>
<p><strong>UDP  TCP </strong></p>
<p><strong></strong> UDP UDP  UDP  UDP UDP  UDP  TCP </p>
<h3 id="select-poll-epoll-"><a href="#select-poll-epoll-" class="headerlink" title="select/poll/epoll "></a><strong>select/poll/epoll </strong></h3><p> I/O </p>
<p> I/O //<strong></strong></p>
<p> select/poll/epoll  I/O  I/O  I/O </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong></p>
<p> CPU  DMA </p>
<p>Linux  BufferIP TCP  Buffer  Socket </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630151654.png" alt="image-20210630151653941"></p>
<p> Buffer <strong></strong><strong></strong></p>
<p> Frames Frame  DMA  Frame Buffer CPU  Frame</p>
<p> UNIX  Socket  Socket  Buffer  BufferBuffer  Socket  Socket  Buffer </p>
<p> TCP Socket  IP IP  Socket  Buffer  Buffer  Buffer </p>
<p> Socket</p>
<h4 id="Socket-"><a href="#Socket-" class="headerlink" title="Socket "></a>Socket </h4><p> Socket  Buffer Socket  Socket</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630152655.png" alt="image-20210630152655321"></p>
<p>Socket  Socket Socket  Socket  Socket <strong> UNIX  Socket Socket </strong></p>
<p> Socket  Socket Socket </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630164233.png" alt="image-20210630164233524"></p>
<p> Socket  Socket  accept()  Socket  Socket  Socket </p>
<p> Socket  Socket  IP  IP  Socket  Socket  accept  Socket </p>
<p> Socket  Socket </p>
<p> Socket </p>
<h4 id="I-O-"><a href="#I-O-" class="headerlink" title="I/O "></a>I/O </h4><p> SocketIntersting Set Socket <strong></strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630164829.png" alt="image-20210630164829024"></p>
<p> Socket  I/O<strong> Socket  I/O </strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630164854.png" alt="image-20210630164854049"></p>
<p> I/O Linux  I/O  API</p>
<ul>
<li>select</li>
<li>poll</li>
<li>epoll</li>
</ul>
<p> Socket </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630164918.png" alt="image-20210630164918730"></p>
<p><strong> Socket  Socket </strong> Socket <strong> Socket </strong></p>
<p><strong> Socket </strong><strong></strong><strong></strong></p>
<h4 id="select"><a href="#select" class="headerlink" title="select()"></a>select()</h4><p>select  poll select  3 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fd_set read_fd_set, write_fd_set, error_fd_set;</span><br><span class="line"></span><br><span class="line">while(true) &#123;</span><br><span class="line"></span><br><span class="line">  select(..., &amp;read_fd_set, &amp;write_fd_set, &amp;error_fd_set); </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong> select  3 </strong><code>read_fd_set</code> Socket<code>write_fd_set</code> Socket<code>error_fd_set</code> Socket</p>
<p><strong> Socket </strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">fd_set read_fd_set, write_fd_set, error_fd_set;</span><br><span class="line"></span><br><span class="line">while(true) &#123;</span><br><span class="line"></span><br><span class="line">  select(..., &amp;read_fd_set, &amp;write_fd_set, &amp;error_fd_set); </span><br><span class="line"></span><br><span class="line">  for (i = 0; i &lt; FD_SETSIZE; ++i)</span><br><span class="line"></span><br><span class="line">        if (FD_ISSET (i, &amp;read_fd_set))&#123;</span><br><span class="line"></span><br><span class="line">          // Socket</span><br><span class="line"></span><br><span class="line">        &#125; else if(FD_ISSET(i, &amp;write_fd_set)) &#123;</span><br><span class="line"></span><br><span class="line">          // Socket</span><br><span class="line"></span><br><span class="line">        &#125; else if(FD_ISSET(i, &amp;error_fd_set)) &#123;</span><br><span class="line"></span><br><span class="line">          // Socket</span><br><span class="line"></span><br><span class="line">        &#125; </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> FD_SETSIZE  1024select  FD_SETSIZE select 1024 </p>
<p> select </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">#include &lt;errno.h&gt;</span><br><span class="line"></span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line">#include &lt;unistd.h&gt;</span><br><span class="line"></span><br><span class="line">#include &lt;sys/types.h&gt;</span><br><span class="line"></span><br><span class="line">#include &lt;sys/Socket.h&gt;</span><br><span class="line"></span><br><span class="line">#include &lt;netinet/in.h&gt;</span><br><span class="line"></span><br><span class="line">#include &lt;netdb.h&gt;</span><br><span class="line"></span><br><span class="line">#define PORT    5555</span><br><span class="line"></span><br><span class="line">#define MAXMSG  512</span><br><span class="line"></span><br><span class="line">int</span><br><span class="line"></span><br><span class="line">read_from_client (int filedes)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  char buffer[MAXMSG];</span><br><span class="line"></span><br><span class="line">  int nbytes;</span><br><span class="line"></span><br><span class="line">  nbytes = read (filedes, buffer, MAXMSG);</span><br><span class="line"></span><br><span class="line">  if (nbytes &lt; 0)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">      /* Read error. */</span><br><span class="line"></span><br><span class="line">      perror (&quot;read&quot;);</span><br><span class="line"></span><br><span class="line">      exit (EXIT_FAILURE);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  else if (nbytes == 0)</span><br><span class="line"></span><br><span class="line">    /* End-of-file. */</span><br><span class="line"></span><br><span class="line">    return -1;</span><br><span class="line"></span><br><span class="line">  else</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">      /* Data read. */</span><br><span class="line"></span><br><span class="line">      fprintf (stderr, &quot;Server: got message: `%s&apos;\n&quot;, buffer);</span><br><span class="line"></span><br><span class="line">      return 0;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int</span><br><span class="line"></span><br><span class="line">main (void)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  extern int make_Socket (uint16_t port);</span><br><span class="line"></span><br><span class="line">  int sock;</span><br><span class="line"></span><br><span class="line">  fd_set active_fd_set, read_fd_set;</span><br><span class="line"></span><br><span class="line">  int i;</span><br><span class="line"></span><br><span class="line">  struct sockaddr_in clientname;</span><br><span class="line"></span><br><span class="line">  size_t size;</span><br><span class="line"></span><br><span class="line">  /* Create the Socket and set it up to accept connections. */</span><br><span class="line"></span><br><span class="line">  sock = make_Socket (PORT);</span><br><span class="line"></span><br><span class="line">  if (listen (sock, 1) &lt; 0)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">      perror (&quot;listen&quot;);</span><br><span class="line"></span><br><span class="line">      exit (EXIT_FAILURE);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  /* Initialize the set of active Sockets. */</span><br><span class="line"></span><br><span class="line">  FD_ZERO (&amp;active_fd_set);</span><br><span class="line"></span><br><span class="line">  FD_SET (sock, &amp;active_fd_set);</span><br><span class="line"></span><br><span class="line">  while (1)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">      /* Block until input arrives on one or more active Sockets. */</span><br><span class="line"></span><br><span class="line">      read_fd_set = active_fd_set;</span><br><span class="line"></span><br><span class="line">      if (select (FD_SETSIZE, &amp;read_fd_set, NULL, NULL, NULL) &lt; 0)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">          perror (&quot;select&quot;);</span><br><span class="line"></span><br><span class="line">          exit (EXIT_FAILURE);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      /* Service all the Sockets with input pending. */</span><br><span class="line"></span><br><span class="line">      for (i = 0; i &lt; FD_SETSIZE; ++i)</span><br><span class="line"></span><br><span class="line">        if (FD_ISSET (i, &amp;read_fd_set))</span><br><span class="line"></span><br><span class="line">          &#123;</span><br><span class="line"></span><br><span class="line">            if (i == sock)</span><br><span class="line"></span><br><span class="line">              &#123;</span><br><span class="line"></span><br><span class="line">                /* Connection request on original Socket. */</span><br><span class="line"></span><br><span class="line">                int new;</span><br><span class="line"></span><br><span class="line">                size = sizeof (clientname);</span><br><span class="line"></span><br><span class="line">                new = accept (sock,</span><br><span class="line"></span><br><span class="line">                              (struct sockaddr *) &amp;clientname,</span><br><span class="line"></span><br><span class="line">                              &amp;size);</span><br><span class="line"></span><br><span class="line">                if (new &lt; 0)</span><br><span class="line"></span><br><span class="line">                  &#123;</span><br><span class="line"></span><br><span class="line">                    perror (&quot;accept&quot;);</span><br><span class="line"></span><br><span class="line">                    exit (EXIT_FAILURE);</span><br><span class="line"></span><br><span class="line">                  &#125;</span><br><span class="line"></span><br><span class="line">                fprintf (stderr,</span><br><span class="line"></span><br><span class="line">                         &quot;Server: connect from host %s, port %hd.\n&quot;,</span><br><span class="line"></span><br><span class="line">                         inet_ntoa (clientname.sin_addr),</span><br><span class="line"></span><br><span class="line">                         ntohs (clientname.sin_port));</span><br><span class="line"></span><br><span class="line">                FD_SET (new, &amp;active_fd_set);</span><br><span class="line"></span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">            else</span><br><span class="line"></span><br><span class="line">              &#123;</span><br><span class="line"></span><br><span class="line">                /* Data arriving on an already-connected Socket. */</span><br><span class="line"></span><br><span class="line">                if (read_from_client (i) &lt; 0)</span><br><span class="line"></span><br><span class="line">                  &#123;</span><br><span class="line"></span><br><span class="line">                    close (i);</span><br><span class="line"></span><br><span class="line">                    FD_CLR (i, &amp;active_fd_set);</span><br><span class="line"></span><br><span class="line">                  &#125;</span><br><span class="line"></span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="poll"><a href="#poll" class="headerlink" title="poll()"></a>poll()</h4><p>select <strong> select  API </strong></p>
<p></p>
<ul>
<li>poll </li>
<li> poll </li>
<li>poll  poll  Socket </li>
<li>poll </li>
<li></li>
<li></li>
<li></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">while(true) &#123;</span><br><span class="line"></span><br><span class="line">  events = poll(fds, ...)</span><br><span class="line"></span><br><span class="line">  for(evt in events) &#123;</span><br><span class="line"></span><br><span class="line">    fd = evt.fd;</span><br><span class="line"></span><br><span class="line">    type = evt.revents;</span><br><span class="line"></span><br><span class="line">    if(type &amp; POLLIN ) &#123;</span><br><span class="line"></span><br><span class="line">       // fd</span><br><span class="line"></span><br><span class="line">    &#125; else if(type &amp; POLLOUT) &#123;</span><br><span class="line"></span><br><span class="line">       // </span><br><span class="line"></span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    else ...</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>poll  select  poll </p>
<h4 id="epoll"><a href="#epoll" class="headerlink" title="epoll"></a>epoll</h4><p><strong>epoll epoll </strong>Key  Socket  Socket  Socket  1000 </p>
<p><strong>epoll </strong><code>epoll_wait</code>epoll <code>epoll_wait</code><code>epoll</code></p>
<p><strong>select/poll epoll </strong><strong>epoll </strong></p>
<p> epoll  Socket  Public Domain</p>
<p> select  accept  Socket<code>epoll_ctl</code> epoll </p>
<p><strong> CPU </strong></p>
<p><code>epoll</code> 2 </p>
<ol>
<li></li>
<li> Bug</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br></pre></td><td class="code"><pre><span class="line">// Asynchronous Socket server - accepting multiple clients concurrently,</span><br><span class="line"></span><br><span class="line">	// multiplexing the connections with epoll.</span><br><span class="line"></span><br><span class="line">	//</span><br><span class="line"></span><br><span class="line">	// Eli Bendersky [http://eli.thegreenplace.net]</span><br><span class="line"></span><br><span class="line">	// This code is in the public domain.</span><br><span class="line"></span><br><span class="line">	#include &lt;assert.h&gt;</span><br><span class="line"></span><br><span class="line">	#include &lt;errno.h&gt;</span><br><span class="line"></span><br><span class="line">	#include &lt;stdbool.h&gt;</span><br><span class="line"></span><br><span class="line">	#include &lt;stdint.h&gt;</span><br><span class="line"></span><br><span class="line">	#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">	#include &lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line">	#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">	#include &lt;sys/epoll.h&gt;</span><br><span class="line"></span><br><span class="line">	#include &lt;sys/Socket.h&gt;</span><br><span class="line"></span><br><span class="line">	#include &lt;sys/types.h&gt;</span><br><span class="line"></span><br><span class="line">	#include &lt;unistd.h&gt;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	#include &quot;utils.h&quot;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	#define MAXFDS 16 * 1024</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	typedef enum &#123; INITIAL_ACK, WAIT_FOR_MSG, IN_MSG &#125; ProcessingState;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	#define SENDBUF_SIZE 1024</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	typedef struct &#123;</span><br><span class="line"></span><br><span class="line">	  ProcessingState state;</span><br><span class="line"></span><br><span class="line">	  uint8_t sendbuf[SENDBUF_SIZE];</span><br><span class="line"></span><br><span class="line">	  int sendbuf_end;</span><br><span class="line"></span><br><span class="line">	  int sendptr;</span><br><span class="line"></span><br><span class="line">	&#125; peer_state_t;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	// Each peer is globally identified by the file descriptor (fd) it&apos;s connected</span><br><span class="line"></span><br><span class="line">	// on. As long as the peer is connected, the fd is unique to it. When a peer</span><br><span class="line"></span><br><span class="line">	// disconnects, a new peer may connect and get the same fd. on_peer_connected</span><br><span class="line"></span><br><span class="line">	// should initialize the state properly to remove any trace of the old peer on</span><br><span class="line"></span><br><span class="line">	// the same fd.</span><br><span class="line"></span><br><span class="line">	peer_state_t global_state[MAXFDS];</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	// Callbacks (on_XXX functions) return this status to the main loop; the status</span><br><span class="line"></span><br><span class="line">	// instructs the loop about the next steps for the fd for which the callback was</span><br><span class="line"></span><br><span class="line">	// invoked.</span><br><span class="line"></span><br><span class="line">	// want_read=true means we want to keep monitoring this fd for reading.</span><br><span class="line"></span><br><span class="line">	// want_write=true means we want to keep monitoring this fd for writing.</span><br><span class="line"></span><br><span class="line">	// When both are false it means the fd is no longer needed and can be closed.</span><br><span class="line"></span><br><span class="line">	typedef struct &#123;</span><br><span class="line"></span><br><span class="line">	  bool want_read;</span><br><span class="line"></span><br><span class="line">	  bool want_write;</span><br><span class="line"></span><br><span class="line">	&#125; fd_status_t;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	// These constants make creating fd_status_t values less verbose.</span><br><span class="line"></span><br><span class="line">	const fd_status_t fd_status_R = &#123;.want_read = true, .want_write = false&#125;;</span><br><span class="line"></span><br><span class="line">	const fd_status_t fd_status_W = &#123;.want_read = false, .want_write = true&#125;;</span><br><span class="line"></span><br><span class="line">	const fd_status_t fd_status_RW = &#123;.want_read = true, .want_write = true&#125;;</span><br><span class="line"></span><br><span class="line">	const fd_status_t fd_status_NORW = &#123;.want_read = false, .want_write = false&#125;;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	fd_status_t on_peer_connected(int sockfd, const struct sockaddr_in* peer_addr,</span><br><span class="line"></span><br><span class="line">	                              socklen_t peer_addr_len) &#123;</span><br><span class="line"></span><br><span class="line">	  assert(sockfd &lt; MAXFDS);</span><br><span class="line"></span><br><span class="line">	  report_peer_connected(peer_addr, peer_addr_len);</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  // Initialize state to send back a &apos;*&apos; to the peer immediately.</span><br><span class="line"></span><br><span class="line">	  peer_state_t* peerstate = &amp;global_state[sockfd];</span><br><span class="line"></span><br><span class="line">	  peerstate-&gt;state = INITIAL_ACK;</span><br><span class="line"></span><br><span class="line">	  peerstate-&gt;sendbuf[0] = &apos;*&apos;;</span><br><span class="line"></span><br><span class="line">	  peerstate-&gt;sendptr = 0;</span><br><span class="line"></span><br><span class="line">	  peerstate-&gt;sendbuf_end = 1;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  // Signal that this Socket is ready for writing now.</span><br><span class="line"></span><br><span class="line">	  return fd_status_W;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	fd_status_t on_peer_ready_recv(int sockfd) &#123;</span><br><span class="line"></span><br><span class="line">	  assert(sockfd &lt; MAXFDS);</span><br><span class="line"></span><br><span class="line">	  peer_state_t* peerstate = &amp;global_state[sockfd];</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  if (peerstate-&gt;state == INITIAL_ACK ||</span><br><span class="line"></span><br><span class="line">	      peerstate-&gt;sendptr &lt; peerstate-&gt;sendbuf_end) &#123;</span><br><span class="line"></span><br><span class="line">	    // Until the initial ACK has been sent to the peer, there&apos;s nothing we</span><br><span class="line"></span><br><span class="line">	    // want to receive. Also, wait until all data staged for sending is sent to</span><br><span class="line"></span><br><span class="line">	    // receive more data.</span><br><span class="line"></span><br><span class="line">	    return fd_status_W;</span><br><span class="line"></span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  uint8_t buf[1024];</span><br><span class="line"></span><br><span class="line">	  int nbytes = recv(sockfd, buf, sizeof buf, 0);</span><br><span class="line"></span><br><span class="line">	  if (nbytes == 0) &#123;</span><br><span class="line"></span><br><span class="line">	    // The peer disconnected.</span><br><span class="line"></span><br><span class="line">	    return fd_status_NORW;</span><br><span class="line"></span><br><span class="line">	  &#125; else if (nbytes &lt; 0) &#123;</span><br><span class="line"></span><br><span class="line">	    if (errno == EAGAIN || errno == EWOULDBLOCK) &#123;</span><br><span class="line"></span><br><span class="line">	      // The Socket is not *really* ready for recv; wait until it is.</span><br><span class="line"></span><br><span class="line">	      return fd_status_R;</span><br><span class="line"></span><br><span class="line">	    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">	      perror_die(&quot;recv&quot;);</span><br><span class="line"></span><br><span class="line">	    &#125;</span><br><span class="line"></span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	  bool ready_to_send = false;</span><br><span class="line"></span><br><span class="line">	  for (int i = 0; i &lt; nbytes; ++i) &#123;</span><br><span class="line"></span><br><span class="line">	    switch (peerstate-&gt;state) &#123;</span><br><span class="line"></span><br><span class="line">	    case INITIAL_ACK:</span><br><span class="line"></span><br><span class="line">	      assert(0 &amp;&amp; &quot;can&apos;t reach here&quot;);</span><br><span class="line"></span><br><span class="line">	      break;</span><br><span class="line"></span><br><span class="line">	    case WAIT_FOR_MSG:</span><br><span class="line"></span><br><span class="line">	      if (buf[i] == &apos;^&apos;) &#123;</span><br><span class="line"></span><br><span class="line">	        peerstate-&gt;state = IN_MSG;</span><br><span class="line"></span><br><span class="line">	      &#125;</span><br><span class="line"></span><br><span class="line">	      break;</span><br><span class="line"></span><br><span class="line">	    case IN_MSG:</span><br><span class="line"></span><br><span class="line">	      if (buf[i] == &apos;$&apos;) &#123;</span><br><span class="line"></span><br><span class="line">	        peerstate-&gt;state = WAIT_FOR_MSG;</span><br><span class="line"></span><br><span class="line">	      &#125; else &#123;</span><br><span class="line"></span><br><span class="line">	        assert(peerstate-&gt;sendbuf_end &lt; SENDBUF_SIZE);</span><br><span class="line"></span><br><span class="line">	        peerstate-&gt;sendbuf[peerstate-&gt;sendbuf_end++] = buf[i] + 1;</span><br><span class="line"></span><br><span class="line">	        ready_to_send = true;</span><br><span class="line"></span><br><span class="line">	      &#125;</span><br><span class="line"></span><br><span class="line">	      break;</span><br><span class="line"></span><br><span class="line">	    &#125;</span><br><span class="line"></span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	  // Report reading readiness iff there&apos;s nothing to send to the peer as a</span><br><span class="line"></span><br><span class="line">	  // result of the latest recv.</span><br><span class="line"></span><br><span class="line">	  return (fd_status_t)&#123;.want_read = !ready_to_send,</span><br><span class="line"></span><br><span class="line">	                       .want_write = ready_to_send&#125;;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	fd_status_t on_peer_ready_send(int sockfd) &#123;</span><br><span class="line"></span><br><span class="line">	  assert(sockfd &lt; MAXFDS);</span><br><span class="line"></span><br><span class="line">	  peer_state_t* peerstate = &amp;global_state[sockfd];</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  if (peerstate-&gt;sendptr &gt;= peerstate-&gt;sendbuf_end) &#123;</span><br><span class="line"></span><br><span class="line">	    // Nothing to send.</span><br><span class="line"></span><br><span class="line">	    return fd_status_RW;</span><br><span class="line"></span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	  int sendlen = peerstate-&gt;sendbuf_end - peerstate-&gt;sendptr;</span><br><span class="line"></span><br><span class="line">	  int nsent = send(sockfd, &amp;peerstate-&gt;sendbuf[peerstate-&gt;sendptr], sendlen, 0);</span><br><span class="line"></span><br><span class="line">	  if (nsent == -1) &#123;</span><br><span class="line"></span><br><span class="line">	    if (errno == EAGAIN || errno == EWOULDBLOCK) &#123;</span><br><span class="line"></span><br><span class="line">	      return fd_status_W;</span><br><span class="line"></span><br><span class="line">	    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">	      perror_die(&quot;send&quot;);</span><br><span class="line"></span><br><span class="line">	    &#125;</span><br><span class="line"></span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	  if (nsent &lt; sendlen) &#123;</span><br><span class="line"></span><br><span class="line">	    peerstate-&gt;sendptr += nsent;</span><br><span class="line"></span><br><span class="line">	    return fd_status_W;</span><br><span class="line"></span><br><span class="line">	  &#125; else &#123;</span><br><span class="line"></span><br><span class="line">	    // Everything was sent successfully; reset the send queue.</span><br><span class="line"></span><br><span class="line">	    peerstate-&gt;sendptr = 0;</span><br><span class="line"></span><br><span class="line">	    peerstate-&gt;sendbuf_end = 0;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	    // Special-case state transition in if we were in INITIAL_ACK until now.</span><br><span class="line"></span><br><span class="line">	    if (peerstate-&gt;state == INITIAL_ACK) &#123;</span><br><span class="line"></span><br><span class="line">	      peerstate-&gt;state = WAIT_FOR_MSG;</span><br><span class="line"></span><br><span class="line">	    &#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	    return fd_status_R;</span><br><span class="line"></span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	int main(int argc, const char** argv) &#123;</span><br><span class="line"></span><br><span class="line">	  setvbuf(stdout, NULL, _IONBF, 0);</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  int portnum = 9090;</span><br><span class="line"></span><br><span class="line">	  if (argc &gt;= 2) &#123;</span><br><span class="line"></span><br><span class="line">	    portnum = atoi(argv[1]);</span><br><span class="line"></span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	  printf(&quot;Serving on port %d\n&quot;, portnum);</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  int listener_sockfd = listen_inet_Socket(portnum);</span><br><span class="line"></span><br><span class="line">	  make_Socket_non_blocking(listener_sockfd);</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  int epollfd = epoll_create1(0);</span><br><span class="line"></span><br><span class="line">	  if (epollfd &lt; 0) &#123;</span><br><span class="line"></span><br><span class="line">	    perror_die(&quot;epoll_create1&quot;);</span><br><span class="line"></span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  struct epoll_event accept_event;</span><br><span class="line"></span><br><span class="line">	  accept_event.data.fd = listener_sockfd;</span><br><span class="line"></span><br><span class="line">	  accept_event.events = EPOLLIN;</span><br><span class="line"></span><br><span class="line">	  if (epoll_ctl(epollfd, EPOLL_CTL_ADD, listener_sockfd, &amp;accept_event) &lt; 0) &#123;</span><br><span class="line"></span><br><span class="line">	    perror_die(&quot;epoll_ctl EPOLL_CTL_ADD&quot;);</span><br><span class="line"></span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  struct epoll_event* events = calloc(MAXFDS, sizeof(struct epoll_event));</span><br><span class="line"></span><br><span class="line">	  if (events == NULL) &#123;</span><br><span class="line"></span><br><span class="line">	    die(&quot;Unable to allocate memory for epoll_events&quot;);</span><br><span class="line"></span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  while (1) &#123;</span><br><span class="line"></span><br><span class="line">	    int nready = epoll_wait(epollfd, events, MAXFDS, -1);</span><br><span class="line"></span><br><span class="line">	    for (int i = 0; i &lt; nready; i++) &#123;</span><br><span class="line"></span><br><span class="line">	      if (events[i].events &amp; EPOLLERR) &#123;</span><br><span class="line"></span><br><span class="line">	        perror_die(&quot;epoll_wait returned EPOLLERR&quot;);</span><br><span class="line"></span><br><span class="line">	      &#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	      if (events[i].data.fd == listener_sockfd) &#123;</span><br><span class="line"></span><br><span class="line">	        // The listening Socket is ready; this means a new peer is connecting.</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	        struct sockaddr_in peer_addr;</span><br><span class="line"></span><br><span class="line">	        socklen_t peer_addr_len = sizeof(peer_addr);</span><br><span class="line"></span><br><span class="line">	        int newsockfd = accept(listener_sockfd, (struct sockaddr*)&amp;peer_addr,</span><br><span class="line"></span><br><span class="line">	                               &amp;peer_addr_len);</span><br><span class="line"></span><br><span class="line">	        if (newsockfd &lt; 0) &#123;</span><br><span class="line"></span><br><span class="line">	          if (errno == EAGAIN || errno == EWOULDBLOCK) &#123;</span><br><span class="line"></span><br><span class="line">	            // This can happen due to the nonblocking Socket mode; in this</span><br><span class="line"></span><br><span class="line">	            // case don&apos;t do anything, but print a notice (since these events</span><br><span class="line"></span><br><span class="line">	            // are extremely rare and interesting to observe...)</span><br><span class="line"></span><br><span class="line">	            printf(&quot;accept returned EAGAIN or EWOULDBLOCK\n&quot;);</span><br><span class="line"></span><br><span class="line">	          &#125; else &#123;</span><br><span class="line"></span><br><span class="line">	            perror_die(&quot;accept&quot;);</span><br><span class="line"></span><br><span class="line">	          &#125;</span><br><span class="line"></span><br><span class="line">	        &#125; else &#123;</span><br><span class="line"></span><br><span class="line">	          make_Socket_non_blocking(newsockfd);</span><br><span class="line"></span><br><span class="line">	          if (newsockfd &gt;= MAXFDS) &#123;</span><br><span class="line"></span><br><span class="line">	            die(&quot;Socket fd (%d) &gt;= MAXFDS (%d)&quot;, newsockfd, MAXFDS);</span><br><span class="line"></span><br><span class="line">	          &#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	          fd_status_t status =</span><br><span class="line"></span><br><span class="line">	              on_peer_connected(newsockfd, &amp;peer_addr, peer_addr_len);</span><br><span class="line"></span><br><span class="line">	          struct epoll_event event = &#123;0&#125;;</span><br><span class="line"></span><br><span class="line">	          event.data.fd = newsockfd;</span><br><span class="line"></span><br><span class="line">	          if (status.want_read) &#123;</span><br><span class="line"></span><br><span class="line">	            event.events |= EPOLLIN;</span><br><span class="line"></span><br><span class="line">	          &#125;</span><br><span class="line"></span><br><span class="line">	          if (status.want_write) &#123;</span><br><span class="line"></span><br><span class="line">	            event.events |= EPOLLOUT;</span><br><span class="line"></span><br><span class="line">	          &#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	          if (epoll_ctl(epollfd, EPOLL_CTL_ADD, newsockfd, &amp;event) &lt; 0) &#123;</span><br><span class="line"></span><br><span class="line">	            perror_die(&quot;epoll_ctl EPOLL_CTL_ADD&quot;);</span><br><span class="line"></span><br><span class="line">	          &#125;</span><br><span class="line"></span><br><span class="line">	        &#125;</span><br><span class="line"></span><br><span class="line">	      &#125; else &#123;</span><br><span class="line"></span><br><span class="line">	        // A peer Socket is ready.</span><br><span class="line"></span><br><span class="line">	        if (events[i].events &amp; EPOLLIN) &#123;</span><br><span class="line"></span><br><span class="line">	          // Ready for reading.</span><br><span class="line"></span><br><span class="line">	          int fd = events[i].data.fd;</span><br><span class="line"></span><br><span class="line">	          fd_status_t status = on_peer_ready_recv(fd);</span><br><span class="line"></span><br><span class="line">	          struct epoll_event event = &#123;0&#125;;</span><br><span class="line"></span><br><span class="line">	          event.data.fd = fd;</span><br><span class="line"></span><br><span class="line">	          if (status.want_read) &#123;</span><br><span class="line"></span><br><span class="line">	            event.events |= EPOLLIN;</span><br><span class="line"></span><br><span class="line">	          &#125;</span><br><span class="line"></span><br><span class="line">	          if (status.want_write) &#123;</span><br><span class="line"></span><br><span class="line">	            event.events |= EPOLLOUT;</span><br><span class="line"></span><br><span class="line">	          &#125;</span><br><span class="line"></span><br><span class="line">	          if (event.events == 0) &#123;</span><br><span class="line"></span><br><span class="line">	            printf(&quot;Socket %d closing\n&quot;, fd);</span><br><span class="line"></span><br><span class="line">	            if (epoll_ctl(epollfd, EPOLL_CTL_DEL, fd, NULL) &lt; 0) &#123;</span><br><span class="line"></span><br><span class="line">	              perror_die(&quot;epoll_ctl EPOLL_CTL_DEL&quot;);</span><br><span class="line"></span><br><span class="line">	            &#125;</span><br><span class="line"></span><br><span class="line">	            close(fd);</span><br><span class="line"></span><br><span class="line">	          &#125; else if (epoll_ctl(epollfd, EPOLL_CTL_MOD, fd, &amp;event) &lt; 0) &#123;</span><br><span class="line"></span><br><span class="line">	            perror_die(&quot;epoll_ctl EPOLL_CTL_MOD&quot;);</span><br><span class="line"></span><br><span class="line">	          &#125;</span><br><span class="line"></span><br><span class="line">	        &#125; else if (events[i].events &amp; EPOLLOUT) &#123;</span><br><span class="line"></span><br><span class="line">	          // Ready for writing.</span><br><span class="line"></span><br><span class="line">	          int fd = events[i].data.fd;</span><br><span class="line"></span><br><span class="line">	          fd_status_t status = on_peer_ready_send(fd);</span><br><span class="line"></span><br><span class="line">	          struct epoll_event event = &#123;0&#125;;</span><br><span class="line"></span><br><span class="line">	          event.data.fd = fd;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	          if (status.want_read) &#123;</span><br><span class="line"></span><br><span class="line">	            event.events |= EPOLLIN;</span><br><span class="line"></span><br><span class="line">	          &#125;</span><br><span class="line"></span><br><span class="line">	          if (status.want_write) &#123;</span><br><span class="line"></span><br><span class="line">	            event.events |= EPOLLOUT;</span><br><span class="line"></span><br><span class="line">	          &#125;</span><br><span class="line"></span><br><span class="line">	          if (event.events == 0) &#123;</span><br><span class="line"></span><br><span class="line">	            printf(&quot;Socket %d closing\n&quot;, fd);</span><br><span class="line"></span><br><span class="line">	            if (epoll_ctl(epollfd, EPOLL_CTL_DEL, fd, NULL) &lt; 0) &#123;</span><br><span class="line"></span><br><span class="line">	              perror_die(&quot;epoll_ctl EPOLL_CTL_DEL&quot;);</span><br><span class="line"></span><br><span class="line">	            &#125;</span><br><span class="line"></span><br><span class="line">	            close(fd);</span><br><span class="line"></span><br><span class="line">	          &#125; else if (epoll_ctl(epollfd, EPOLL_CTL_MOD, fd, &amp;event) &lt; 0) &#123;</span><br><span class="line"></span><br><span class="line">	            perror_die(&quot;epoll_ctl EPOLL_CTL_MOD&quot;);</span><br><span class="line"></span><br><span class="line">	          &#125;</span><br><span class="line"></span><br><span class="line">	        &#125;</span><br><span class="line"></span><br><span class="line">	      &#125;</span><br><span class="line"></span><br><span class="line">	    &#125;</span><br><span class="line"></span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	  return 0;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h4 id="I-O-"><a href="#I-O-" class="headerlink" title="I/O "></a>I/O </h4><p>select/poll Blockingepoll Non-Blocking<strong></strong></p>
<p>SynchrounousAsynchrounousselect/poll/epoll </p>
<p><strong></strong></p>
<p><strong></strong> yield </p>
<p><strong></strong> 100 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">asleep(100ms, () -&gt; &#123;</span><br><span class="line"></span><br><span class="line">  // 100ms </span><br><span class="line"></span><br><span class="line">  // ...do some thing</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 100 ms </span><br></pre></td></tr></table></figure>

<p> API</p>
<p><strong></strong> I/O <strong>I/O </strong></p>
<p><strong>select/poll/epoll </strong></p>
<p> I/O select/poll epoll select/poll  Socket  select/poll  Socket </p>
<p> epoll epoll  Socket  epoll </p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><p></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><strong></strong><strong></strong><strong></strong></p>
<p><strong>\</strong>Message Digest Algorithm, MD5****Secure Hash Algorithm, SHAMD5  128 2004 MD5 </p>
<p> SHA  SHA  MD5 SHA</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><strong></strong></p>
<p></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> </p>
<p> Alice  Bob Alice  SHA Alice  Bob</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630170647.png" alt="image-20210630170647285"></p>
<p>Bob  Alice  Alice  XBob  SHA  YBob  X  Y X = Y </p>
<p>Bob  Alice  Alice  Alice  Alice </p>
<p><strong></strong><strong></strong><strong></strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Alice  Bob </p>
<p> Alice </p>
<p><strong></strong> Alice  Bob Alice  Bob Bb </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630173215.png" alt="image-20210630173215247"></p>
<p>Alice  Alice Bob  Alice  Alice Bob Bob  Alice </p>
<p><strong></strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630173421.png" alt="image-20210630173420927"></p>
<p> Alice </p>
<ul>
<li> Alice  Alice </li>
<li></li>
<li></li>
</ul>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> HTTPS </p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630173726.png" alt="image-20210630173726736"></p>
<p> U  U </p>
<p></p>
<p><strong></strong></p>
<p><strong></strong></p>
<p></p>
<h3 id="IPv4--IPv6-"><a href="#IPv4--IPv6-" class="headerlink" title="IPv4  IPv6 "></a><strong>IPv4  IPv6 </strong></h3><p> IPv4  IPv6 <strong></strong></p>
<ul>
<li>IPv4  32  IP  40  IP </li>
<li>IPv6  128  IP IPv6  40  IP  IP </li>
</ul>
<p><strong>IPv4 </strong> IP  192.168  IP </p>
<p><strong> IPv6 </strong><strong> IPv4 </strong>NAT</p>
<p><strong> IP </strong></p>
<p>IPv4 <strong>IPv4 /</strong></p>
<p><strong> IPv6 </strong> IP  IP  IP  IP  IPv6 </p>
<p> IPv4  IPv6  IPv6 127.0.0.1  IP  IPv6  RFC </p>
<p><strong>SSHSecure Shell UDP </strong></p>
<p><strong>SSH</strong><strong>Secure Shell</strong><strong></strong> HTTPS SSH Channel</p>
<p><strong> SSH  TCP </strong> UDP  SSH  TCP  SSH  TCP <strong> UDP </strong></p>
<p> UDP IBM FASPFast and Secure Protocol TCP </p>
<p><strong> epoll Web </strong></p>
<p> Socket  Web  I/O I/O </p>
<ul>
<li><strong>I/O</strong> Socket  HTTP </li>
<li>**Processing)** HTTP  HTTP Header Key-Value MapBody  QueryStringJSON,XML </li>
</ul>
<p><strong>Processing</strong> </p>
<ol>
<li></li>
</ol>
<p><strong></strong> 1 </p>
<ol start="2">
<li></li>
</ol>
<p><strong></strong>Back-Presure I/O  CPU </p>
<ol start="3">
<li></li>
</ol>
<p> n  I/O</p>
<p>GO Node.js Java  Java </p>
<p> I/O I/O  Socket  Socket  epoll </p>
<ol>
<li><strong></strong>  I/O I/O  I/O</li>
<li><strong> I/O</strong>  I/O  CPU </li>
<li><strong></strong>  I/O  mmap  CPU DMA </li>
</ol>
<p><strong> Web  I/O </strong></p>
<p><strong></strong></p>
<p><strong></strong></p>
<p><strong></strong> Root</p>
<p></p>
<h3 id="VMware--Docker-"><a href="#VMware--Docker-" class="headerlink" title="VMware  Docker "></a><strong>VMware  Docker </strong></h3><p></p>
<p></p>
<ul>
<li> 64  CPU  0.25  CPU</li>
<li> 128GB  512M </li>
<li> 1/2 </li>
</ul>
<p>VMware  Docker</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Virutualization</p>
<p>VMware  Docker <strong>VMware </strong><strong></strong><strong>Docker </strong><strong>Containe</strong>r</p>
<p><strong>VMware</strong> 1998  Hypervisor 2005 VMware  1000 <strong></strong></p>
<p><strong>Docker</strong> 2013  Docker<strong>38 </strong> KubernatesK8s Docker 2021 K8s  Docker</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong></p>
<p><strong>Isolation</strong> <strong></strong> LinuxUnixWindowsMacOS </p>
<p><strong>Simulation</strong><strong></strong></p>
<p><strong>Efficient CPU</strong> 10~15%  CPU  CPU </p>
<p> Hypervisor Hypervisor Type-1 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630184343.png" alt="image-20210630184343343"></p>
<p>Virtual Machine MonitorVMM Hypervisor Type-1 Hypervisor  Hypervisor Guest OS</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Hypervisor Hypervisor Hypervisor </p>
<p><strong></strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>World Switch<strong></strong></p>
<p>MMRTLBDMA  TLB  CPU  Intel  VT-X  AMD  AMD-V Secure Virtual Machine<a href="https://www.mimuw.edu.pl/~vincent/lecture6/sources/amd-pacifica-specification.pdf" target="_blank" rel="noopener"></a></p>
<h4 id="Type-2-"><a href="#Type-2-" class="headerlink" title="Type-2 "></a>Type-2 </h4><p>Type-1 VMware  Type-2 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630184512.png" alt="image-20210630184512346"></p>
<p><strong> Hypervisor </strong><strong>Guest OS Hypervisor </strong> Type-1 </p>
<h4 id="Hyper-V"><a href="#Hyper-V" class="headerlink" title="Hyper-V"></a>Hyper-V</h4><p> Hyper-v Parent Partition Windows  VMBus Hypervisor </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630184649.png" alt="image-20210630184648970"></p>
<p> Hyper-V Windows  VMware  Linux  Hyper-V  VMWare </p>
<h4 id="Container"><a href="#Container" class="headerlink" title="Container"></a>Container</h4><p><strong></strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630184722.png" alt="image-20210630184722320"></p>
<p><strong></strong> Python  Web  ms </p>
<p><strong></strong></p>
<ul>
<li><strong>Linux  CgroupsLinux Control Groups CPU </strong></li>
<li><strong>Linux  Namespace </strong></li>
</ul>
<p> CPU </p>
<p><strong>VMware  Docker </strong></p>
<p><strong></strong> VMware Docker  </p>
<h4 id="-K8s--Docker-Swarm-"><a href="#-K8s--Docker-Swarm-" class="headerlink" title=" K8s  Docker Swarm "></a><strong> K8s  Docker Swarm </strong></h4><p><strong>Micro ServiceMono Service</strong></p>
<p><br></p>
<p></p>
<p></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185319.png" alt="image-20210630185318831"></p>
<p> C  C </p>
<p></p>
<ol>
<li> downtime</li>
<li></li>
</ol>
<p>Kubernetes  Docker Swarm </p>
<h4 id="Kubernetes"><a href="#Kubernetes" class="headerlink" title="Kubernetes"></a>Kubernetes</h4><p>KubernetesK8s Google </p>
<h4 id="Master-amp-Worker"><a href="#Master-amp-Worker" class="headerlink" title="Master&amp;Worker"></a>Master&amp;Worker</h4><p><strong>K8s </strong>Kubernetes Master Worker  Worker  Worker </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185409.png" alt="image-20210630185409238"></p>
<p> Worker  CPU</p>
<p>Master  2 Master Worker  K8s </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Worker  Worker  kubelet</p>
<p>Pod  K8s  Pod  IP Pod  1 Pod  Docker K8s  Docker kubelet  PodPod  Pod</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185657.png" alt="image-20210630185657364"></p>
<p> K8s  Pod A B  CPU </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185709.png" alt="image-20210630185709284"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Pod  IP  Pod  IP Service Pod Pod  Pod </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185721.png" alt="image-20210630185720941"></p>
<p> K8s  Ingress</p>
<p> K8s  API <a href="https://kubernetes.io/docs/concepts/overview/" target="_blank" rel="noopener"></a></p>
<h4 id="Docker-Swarm"><a href="#Docker-Swarm" class="headerlink" title="Docker Swarm"></a>Docker Swarm</h4><p>Docker Swarm  Docker  Docker  Docker Swarm </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630185800.png" alt="image-20210630185800434"></p>
<p> K8s  Manager  WorkerManager  Raft Worker  Docker </p>
<p> K8s  Pod Docker Swarm TaskTask </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><strong></strong> MySQL  MySQL  Binlog  K8s </p>
<p><strong></strong></p>
<p><strong> K8s  Docker Swarm </strong></p>
<p>K8s  Docker Swarm </p>
<ol>
<li><strong></strong> Docker  DockerFile</li>
<li><strong></strong></li>
<li><strong></strong> K8s  Docker Swarm </li>
<li><strong> Pod/Task</strong> Pod  Task</li>
<li><strong></strong> Pod/Task </li>
</ol>
<p> 5 </p>
<h3 id="Linux-"><a href="#Linux-" class="headerlink" title="Linux ?"></a><strong>Linux ?</strong></h3><p><strong></strong></p>
<p></p>
<p>Unix  Douglas McIlroy  Unix  Linux </p>
<h4 id="Composability"><a href="#Composability" class="headerlink" title="Composability"></a>Composability</h4><p><strong>Unix Monolithic Design</strong></p>
<p> Mono Mono</p>
<p></p>
<p></p>
<p><strong> Mono </strong><strong></strong> Monad </p>
<p>Unix </p>
<h4 id="Pipeline"><a href="#Pipeline" class="headerlink" title="Pipeline"></a>Pipeline</h4><p>PipelineDouglas McIlroy  Unix <strong></strong><strong></strong></p>
<p>Monad </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Unix <strong></strong></p>
<p></p>
<p></p>
<p></p>
<p> 10  LoL</p>
<p></p>
<p><strong></strong><strong></strong></p>
<p><strong></strong><strong></strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong></strong> Unix <strong></strong></p>
<p> Bug<strong></strong></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p></p>
<ul>
<li> Docker </li>
<li></li>
<li>Git </li>
</ul>
<p> ORM </p>
<p> Unix <strong></strong></p>
<p> Git  Linux Linux  Git </p>
<p> HR  Leader</p>
<p><strong></strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Unix </p>
<p><strong></strong></p>
<p><strong></strong></p>
<p><strong></strong></p>
<p><strong></strong></p>
<p><strong></strong> Socket </p>
<p> Unix Ken Thompson <strong></strong><strong></strong></p>
<p> Unix </p>
<p> Unix <a href="http://www.catb.org/~esr/writings/taoup/html/ch01s06.html" target="_blank" rel="noopener"></a></p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><p></p>
<p><strong></strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p></p>
<p><strong></strong><strong></strong></p>
<p></p>
<p> API API </p>
<p> API  API </p>
<p><strong></strong><strong></strong><strong>Agent</strong><strong></strong>Agent</p>
<p></p>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
<p> AI<strong></strong></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p> <strong></strong></p>
<p><strong></strong></p>
<p></p>
<p><strong></strong>Access Control List,ACL ACL  Agent</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><strong></strong></p>
<p></p>
<p></p>
<p></p>
<p><strong></strong></p>
<p></p>
<p></p>
<p></p>
<p> AI</p>
<h4 id="-3"><a href="#-3" class="headerlink" title=""></a></h4><p> AI </p>
<p></p>
<p></p>
<p> |  </p>
<p><strong> Docker  Web  Spring/Django/Express </strong></p>
<p><strong></strong> Docker<a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener"></a> SpringBoot+MySQL+Redis <a href="https://github.com/tomoyane/springboot-bestpractice" target="_blank" rel="noopener"></a></p>
<p> Compose.yml   Compose  Docker  Docker-Compose <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener"></a></p>
<p> Aliyun <a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors" target="_blank" rel="noopener"></a></p>
<p></p>
<p><strong> Pod </strong></p>
<p><strong></strong>Pod  localhost </p>
<p> Web </p>
<p> Java   OpenCV </p>
<p><strong></strong>Sidecar K8s  Pod</p>
<p><strong>Ambassador Container</strong>Main Container Ambassador Container </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210630191158.png" alt="image-20210630191158345"></p>
<p> Web  MySQLRedis </p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702155902.png" alt="image-20210702155855223"></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702160902.png" alt="image-20210702160902182"></p>
<p></p>
<p> TCP  UDP</p>
<p></p>
<p> IP  ARPIPv4IPv6NAT  IPv6  IPv6  IPv4 IP </p>
<p></p>
<p> Socket  I/O  RPC  I/O  TCP </p>
<p>Web </p>
<p>HTTP  HTTP 2.0 Web  DNS  CDN  HTTP </p>
<p></p>
<p> DDoSXSSSQL ARP </p>
<p> 7 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702161329.png" alt="image-20210702161329164"></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><br></p>
<p><br> 1 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702162042.png" alt="image-20210702162042395"></p>
<p> Internet Service Provider  1 Communication Link 2 Switch</p>
<p> 2 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702162145.png" alt="image-20210702162145176"></p>
<p>PacketPacket Switch</p>
<p> 2Mb  MP3 </p>
<p>RouterLink-Layer Switch</p>
<p> 1 ISP</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Communication Link</p>
<p>Cellular TowerBaseStation</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702163612.png" alt="image-20210702163612575"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702163639.png" alt="image-20210702163639703"></p>
<p> 4 Network ProviderNetwork Access</p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702163658.png" alt="image-20210702163658239"></p>
<p></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702163712.png" alt="image-20210702163712545"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210702163732.png" alt="image-20210702163732253"></p>
<p> ISP </p>
<p> 10  WI-FI  7 WI-FI</p>
<p> ISP  ISP  ISP </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p>TerminalEnd SystemHostHost</p>
<p>Host-to-Host TCP/IP Host-to-Host</p>
<p>HostHostCommunication Link WI-FI</p>
<p> MP3 MP3  Packet</p>
<p>Packet 9 </p>
<p><img src="https://s0.lgstatic.com/i/image6/M00/38/82/Cgp9HWB5WbqAVlGaAHeNbdcL7hg030.gif" alt="Packet_Switching.gif"></p>
<h3 id="TCP--3--4-"><a href="#TCP--3--4-" class="headerlink" title="TCP  3  4 "></a>TCP  3  4 </h3><p>TCP <br></p>
<p>TCPTransport Control Protocol Host-To-Host </p>
<p>/</p>
<p>Host-To-Host<br>TCP  Host-To-Host  TCP Host</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703190417.png" alt="image-20210703190410119"></p>
<p>TCP Application-To-Application</p>
<p> TCP  TCP  TCP  TCP </p>
<p>TCP IP  TCP Address-To-Address TCP  IP </p>
<p>Network LayerIP </p>
<p> 5  TCP/IP Host-To-Host</p>
<p><br>Connection</p>
<p>Connection</p>
<p> IP </p>
<p>Session Typing1 </p>
<p>  HTTP Session  HTTP </p>
<p></p>
<p>/<br>/</p>
<p> 1  1 </p>
<p>TCP  TCP Host</p>
<p><br> TCP </p>
<p></p>
<p>TCP <br>TCP TCP Session</p>
<p>TCP <br>TCP </p>
<p> Host  Host  SYNSynchronization</p>
<p> Host  FINFinish</p>
<p> Host  Host  PSHPush</p>
<p> 3  ACKAcknowledgement/</p>
<p><br>TCP  ACK</p>
<p> 3 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703190820.png" alt="image-20210703190819940"></p>
<p>SYN</p>
<p></p>
<p> SYN  ACK</p>
<p>2  3 </p>
<p></p>
<p> SYN </p>
<p></p>
<p> ACK</p>
<p> 6   3 </p>
<p> 1  1 </p>
<p> 2 </p>
<p> 3  4 SYN-ACK  2 </p>
<p> 5 </p>
<p> 6  3 </p>
<p> 3  4 SYN  ACK  3 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703190919.png" alt="image-20210703190919804"></p>
<p> SYNACKPSH Flag</p>
<p> TCP bit SYNACKPSH  1  SYN 1  SYN 0 SYN-ACK  SYN  ACK  1Flag TCP  TCP 04 | TCP </p>
<h4 id="4-"><a href="#4-" class="headerlink" title="4 "></a>4 </h4><p></p>
<p>FIN</p>
<p> ACK FIN </p>
<p> FIN <br> FIN ACK FIN </p>
<p> FIN ACK  ACK</p>
<p> 4 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703191322.png" alt="image-20210703191322634"></p>
<p><br> 3 4 </p>
<p>TCP Connection</p>
<p>TCP  TCP </p>
<p>TCP Connection -oriented Protocol TCP Host UDP UDP Datagram-oriented</p>
<p></p>
<p>TCP  3 4 </p>
<p>TCP  SYC ACK</p>
<p>SYN ACK  SYN  3  3 </p>
<p>ACK Offer HR FIN 4 </p>
<h4 id="-8G-"><a href="#-8G-" class="headerlink" title=" 8G "></a> 8G </h4><blockquote>
<p>tcp8Gtcp8k4ksocket8<em>1024</em>1024/8=1048576100tcp</p>
</blockquote>
<blockquote>
<p>httpws</p>
<p>http/ws</p>
</blockquote>
<h3 id="TCP-"><a href="#TCP-" class="headerlink" title="TCP "></a>TCP </h3><p> TCP  HTTP  TCP  TCP </p>
<p>TCP  TCP </p>
<p>TCP </p>
<p></p>
<p></p>
<p>TCP <br>TCP TCP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703191719.png" alt="image-20210703191719119"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703191730.png" alt="image-20210703191730616"></p>
<p>TCP TCP  10M </p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703191833.png" alt="image-20210703191833025"></p>
<p></p>
<p>24 |  </p>
<p> TCP  TCP TCP Segment</p>
<p> TCP </p>
<p> TCP TCP  TCP  TCP </p>
<p>TCP Segment<br> TCP  TCP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703192001.png" alt="image-20210703192000920"></p>
<p>TCP  TCP </p>
<p>TCP  TCP  TCP  TCP Segment </p>
<p>Source Port/Destination Port  80  HTTP 22  SSH </p>
<p>Sequence Number  Achnowledgment Number </p>
<p>Data Offset  TCP Header </p>
<p>Reserved </p>
<p>URG/ACK/PSH/RST/SYN/FIN  TCP  TCP </p>
<p>1URG  Ctrl+C</p>
<p>2ACK 02 |  TCPTCP  3  4  ACK TCP </p>
<p>3PSH </p>
<p>4SYN </p>
<p>5FIN </p>
<p> 5  ACK  SYN  1 TCP </p>
<p>6 Window  TCP 04 | TCP </p>
<p>7Checksum  TCP </p>
<p>8Urgent Pointer Sequence Number</p>
<p>9Options  MSSMaximun Segment Size<br>10Padding  Options  Pading </p>
<h4 id="Sequence-Number--Acknowledgement-Number"><a href="#Sequence-Number--Acknowledgement-Number" class="headerlink" title="Sequence Number  Acknowledgement Number"></a>Sequence Number  Acknowledgement Number</h4><p> TCP  TCP  TCP  IP </p>
<p> TCP  Sequence NumberSeq</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703192457.png" alt="image-20210703192457555"></p>
<p> TCP  Sequence Number TCP  Seq </p>
<p> Seq</p>
<p> TCP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210703211701.png" alt="image-20210703211701115"></p>
<p> Seq TCP </p>
<p></p>
<p> A  B  Sequence Number </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">A</span><br><span class="line"></span><br><span class="line">A</span><br><span class="line"></span><br><span class="line">B</span><br><span class="line"></span><br><span class="line">B</span><br></pre></td></tr></table></figure>

<p> TCP  Acknowledgement Number  ACK</p>
<p> Seq  ACK</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210705220326.png" alt="image-20210705220326603"></p>
<p> 100 Seq = 0  Seq =100Seq = 0 100  ACK  100Seq= 0  Seq= 100 100 </p>
<p><strong> S\</strong>**eq**<em>\</em>  ACK** Whireshark  TCP  Seq ACK</p>
<p>09 | TCP  TCP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210705220350.png" alt="image-20210705220349944"></p>
<h4 id="MSSMaximun-Segment-Size"><a href="#MSSMaximun-Segment-Size" class="headerlink" title="MSSMaximun Segment Size"></a>MSSMaximun Segment Size</h4><p> MSS TCP Header Options TCP Negotiate</p>
<p>TCP MSS</p>
<p></p>
<p> TCP <strong> TCP </strong><a href="https://shenceyun.lagou.com/t/Axo?fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener"></a></p>
<ul>
<li><a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=478#/detail/pc?id=4633&fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">24 |  </a></li>
<li><a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=478#/detail/pc?id=4634&fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">25 |  </a></li>
<li><a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=478#/detail/pc?id=4635&fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">26 |  LRU </a></li>
</ul>
<p><strong></strong></p>
<p><strong> TCP  IP </strong>TCP IP  IP  IP  TCP </p>
<p> MSS MSS  MSS <strong>MSS </strong> Unix </p>
<h4 id="TCP-TCP-"><a href="#TCP-TCP-" class="headerlink" title="TCP TCP "></a><strong>TCP TCP </strong></h4><p>TCP TCP <a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=837#/detail/pc?id=7268" target="_blank" rel="noopener">04 | TCP  </a> TCP </p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><p><strong>TCP </strong> RPC </p>
<p><strong></strong></p>
<h4 id="-"><a href="#-" class="headerlink" title="/"></a>/</h4><p>TCP </p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104250.png" alt="image-20210706104250605"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104304.png" alt="image-20210706104304375"></p>
<p> TCP </p>
<h4 id="Queuing"><a href="#Queuing" class="headerlink" title="Queuing"></a>Queuing</h4><p><strong>Queuing</strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104409.png" alt="image-20210706104408978"></p>
<p> TCP </p>
<p> ACK  ACK </p>
<h4 id="Sliding-Window"><a href="#Sliding-Window" class="headerlink" title="Sliding Window"></a>Sliding Window</h4><p><strong></strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104440.png" alt="image-20210706104440133"></p>
<p></p>
<ul>
<li> ACK </li>
<li> ACK </li>
<li></li>
<li></li>
</ul>
<p> 5  = 5 ACK ACK </p>
<p> ACK </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104531.png" alt="image-20210706104531057"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104544.png" alt="image-20210706104544432"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> ACK </p>
<p> 4  ACK</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104643.png" alt="image-20210706104643825"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210706104659.png" alt="image-20210706104659658"></p>
<p> 4  ACK 4  ACK 5 6 7 4 </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> TCP  ACK TCP  TCP <strong></strong></p>
<p> 1 2 4  3   3  ACK 3  ACK 3<strong></strong></p>
<p> 3  4 3  ACK 4  ACK 3 </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> TCP <strong> TCP </strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p><strong> TCP </strong></p>
<p> RTT  Round Trip Time</p>
<p> RTT = 1ms 1mb/s 1kb 1ms  1kb  TCP 1s  1mb  RTT  RTT = 10ms 1/10  </p>
<p></p>
<h4 id="-4"><a href="#-4" class="headerlink" title=""></a></h4><p>TCP </p>
<p> ACK k </p>
<p><strong></strong></p>
<p><strong> TCP </strong>FIFO ACK ACK</p>
<p> TCP  TCP </p>
<h3 id="TCP--UDP-"><a href="#TCP--UDP-" class="headerlink" title="TCP  UDP "></a><strong>TCP  UDP </strong></h3><p>TCP  UDP <strong>TCP  UDP </strong>HTTP  1.1  2.0  TCP HTTP 3.0  UDP </p>
<p> <a href="https://tools.ietf.org/html/rfc793?fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">TCP  RFC</a><a href="https://tools.ietf.org/html/rfc793?fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener"></a> 85  <a href="https://tools.ietf.org/html/rfc768?fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">UDP  RFC </a> 3  3 </p>
<h4 id="UDP-"><a href="#UDP-" class="headerlink" title="UDP "></a>UDP </h4><p>UDPUser Datagram ProtocolDatagramDatagram UDP </p>
<p>  IP  IP </p>
<p> IP IP  IP  UDP </p>
<h4 id="UDP-"><a href="#UDP-" class="headerlink" title="UDP "></a>UDP </h4><p>UDP  UDP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802114305.png" alt="image-20210802114257947"></p>
<p>UDP  5 </p>
<p>Source Port  UDP  ACKSource Port </p>
<p>Destination Port </p>
<p>Length </p>
<p>Checksum </p>
<p>Data octets Octet  8 </p>
<p>Checksum 01  byte byte </p>
<p> 4  bytea,b,c,d</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">checksum=(a+b+c+d) ^ 0xff</span><br></pre></td></tr></table></figure>

<p> Checksum a,b,c,d  Checksum  Checksum </p>
<p> UDP  Checksum  Datagram UDP  Checksum   UDP  ACK</p>
<h4 id="UDP--TCP"><a href="#UDP--TCP" class="headerlink" title="UDP  TCP"></a>UDP  TCP</h4><p> UDP  TCP </p>
<ol>
<li><p><br>TCP  UDP </p>
</li>
<li><p><br>TCP TCP TCP </p>
</li>
</ol>
<p>UDP  UDP  ACK UDP </p>
<ol start="3">
<li><p> vs <br>TCP Connection-oriented Protocol UDP Connection-less ProtocolDatagram</p>
</li>
<li><p>Flow Control<br>TCP TCP UDP </p>
</li>
<li><p><br>UDP UDP </p>
</li>
<li><p><br>TCP TCP  TCPPing  DNSLookup/ UDP </p>
</li>
</ol>
<p>TCP/UDP UDP  TCP UDP HTTP / TCP  HTTP 3.0  UDP  UDP </p>
<p> TCP  UDP UDP </p>
<p>TCP UDP TCPUDP </p>
<p>TCP </p>
<p>SSH</p>
<p>File Transfer ProtocolFTP</p>
<p>SMTPIMAP</p>
<p></p>
<p>UDP </p>
<p></p>
<p></p>
<p>DNS</p>
<p>Ping</p>
<p></p>
<p></p>
<p>HTTP TCP </p>
<p></p>
<p> TCP  UDP UDP UDP ConnectionSessionReliability</p>
<h4 id="-5"><a href="#-5" class="headerlink" title=""></a></h4><p> UDP </p>
<p></p>
<p> TCP </p>
<p> UDP Linux  TCP UDP </p>
<p></p>
<h4 id="TCP--UDP--1"><a href="#TCP--UDP--1" class="headerlink" title="TCP  UDP "></a>TCP  UDP </h4><p>TCP   3 TCP </p>
<p> TCP TCP  TCP  TCP TCP </p>
<p>UDP UDP  ChecksumUDP  UDP </p>
<p>TCP  UDP TCP </p>
<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Apache Benchmark AB Linux  ab</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install httpd-tools</span><br><span class="line"></span><br><span class="line">// </span><br><span class="line"></span><br><span class="line">apt-get install apache2-utils</span><br></pre></td></tr></table></figure>

<p>ab  1000  10000 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ab -n 10000 -p 1000 https://example.com/</span><br></pre></td></tr></table></figure>

<p>ab  C  ab </p>
<p> Java JMeter</p>
<h4 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h4><p> TCP Segment1, 2, 3, 4 143 2 </p>
<p><strong></strong> 2  ACK  2  ACK 2,3,4,5  ACK </p>
<p><strong></strong></p>
<p><strong></strong><strong></strong>1 </p>
<p><strong></strong>TCP <strong></strong> 1 2 3  2  ACK  ACK 2 2</p>
<p></p>
<h4 id="Moba--TCP--UDP"><a href="#Moba--TCP--UDP" class="headerlink" title="Moba  TCP  UDP"></a><strong>Moba  TCP  UDP</strong></h4><p><strong></strong></p>
<p></p>
<p>[](<a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=478&amp;sid=20-h5Url-0&amp;buyFrom=2&amp;pageId=1pz4&amp;utm_source=zhuanlan" target="_blank" rel="noopener">https://kaiwu.lagou.com/course/courseInfo.htm?courseId=478&amp;sid=20-h5Url-0&amp;buyFrom=2&amp;pageId=1pz4&amp;utm_source=zhuanlan</a> article&amp;utm_medium=bottom&amp;utm_campaign= 29&amp;_channel_track_key=D2LoirKK#/content)<strong></strong></p>
<p> Moba  ID <strong></strong></p>
<p><strong>Moba </strong> TCP  UDP </p>
<p>TCP  3 </p>
<p>TCP TCP TCP  I/O  I/O UDP </p>
<h3 id=""><a href="#" class="headerlink" title=""></a><strong></strong></h3><p> TCP/UDP Google  QUIC  HTTP 3.0 IP IP  IPv4  IPv6 IPv4 </p>
<p> Google  IPv6 Google  30% </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802115634.png" alt="image-20210802115634522"></p>
<p>IPv4 IP <strong></strong><strong></strong></p>
<h4 id="-IP-"><a href="#-IP-" class="headerlink" title=" IP "></a> IP </h4><p><strong>IP </strong><strong>Internet Protocol</strong> IPv4  IP  4 IPv4  Host-To-Host IPv4 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802115717.png" alt="image-20210802115716980"></p>
<p>IP IP IP </p>
<p> </p>
<p><strong></strong> IP  Host-To-Host  TCP  IP  IP </p>
<ul>
<li></li>
<li></li>
<li> 2 </li>
<li></li>
</ul>
<p> IP   3 </p>
<ul>
<li></li>
<li></li>
<li></li>
</ul>
<p></p>
<p>IP  IPv4 IPv6 IPv6</p>
<h3 id="IP-"><a href="#IP-" class="headerlink" title="IP "></a>IP </h3><p><strong>IP  IP  Host-To-Host Fragmentation</strong> IP Fragment IP Header<strong>IP </strong>DatagramIP  IP </p>
<h4 id="Fragmentation"><a href="#Fragmentation" class="headerlink" title="Fragmentation"></a>Fragmentation</h4><p><strong></strong> IP  IP </p>
<h4 id="IP-Header"><a href="#IP-Header" class="headerlink" title="IP Header"></a>IP Header</h4><p>IP  Datagram IPv4 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802121021.png" alt="image-20210802121021809"></p>
<p> 4 </p>
<ul>
<li>IPv4  4  8  32 </li>
<li>Type Of Service </li>
<li>IHLInternet Header Length IP  IP IHL  4  1111 = 15 15 15*4  = 60 </li>
<li>Total Length  Datagram</li>
<li>Identification ID</li>
<li>Fragment offset </li>
<li>Time To Live  IP  0 TTL  0 </li>
<li>Protocol  TCP = 6UDP = 17</li>
<li>Options </li>
<li>Checksum <a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=837#/detail/pc?id=7269&fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">05 | UDP TCP  UDP </a> Checksum </li>
</ul>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> IPv4  Type of Service</p>
<p><strong>latency</strong></p>
<p> 1 bit </p>
<p><strong>Throughput</strong></p>
<p> bit/s  bps</p>
<p><strong>Packet loss</strong></p>
<p> </p>
<p> RTS  Moba </p>
<p> IP  Type of Service  4 </p>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
<h4 id="Addressing"><a href="#Addressing" class="headerlink" title="Addressing"></a>Addressing</h4><p>IPv4 </p>
<p><strong>IPv4 </strong></p>
<p>IPv4  4  8 Octet 43 </p>
<p> 103.16.3.1  Ipv4 4 <code>.</code> 32 </p>
<p><strong></strong></p>
<p> IP  IPv4 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802121620.png" alt="image-20210802121620755"></p>
<p>IP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802121802.png" alt="image-20210802121802780"></p>
<p><code>255</code><code>255.240.0.0</code> IPv4  4 </p>
<h4 id="Routing"><a href="#Routing" class="headerlink" title="Routing"></a>Routing</h4><p></p>
<p> IP  IP  IP  Gateway</p>
<p> IP  14.215.177.38 16.0.0.0 14.0.0.0  Gateway IP </p>
<p><code>route</code></p>
<ul>
<li>Destination14.0.0.0</li>
<li>Gateway16.12.1.100</li>
<li>Mask255.0.0.0</li>
<li>Iface16.12.1.1</li>
</ul>
<p> 14.0.0.0 IP  14.215.177.38  255.0.0.0  14.0.0.0 Gateway IFace 16.12.1.1</p>
<p></p>
<h4 id="-6"><a href="#-6" class="headerlink" title=""></a></h4><p> IP  IP  IP Datagram IP  IP </p>
<h4 id="-1"><a href="#-1" class="headerlink" title=""></a><strong></strong></h4><p><strong></strong>Addressing IPv4 </p>
<p>Routing</p>
<p></p>
<h3 id="Tunnel-"><a href="#Tunnel-" class="headerlink" title="Tunnel "></a><strong>Tunnel </strong></h3><p>IPv4  32  43  IP </p>
<p><strong></strong>NAT </p>
<p>1998  IP IPv6  IPv6 2019 CNNICIPv6  60%</p>
<p><strong> Tunnel </strong></p>
<h4 id="IPv4--IPv6-"><a href="#IPv4--IPv6-" class="headerlink" title="IPv4  IPv6 "></a>IPv4  IPv6 </h4><p>IPv6  IPv4 SegmentationIPv6 Host-to-Host TCP Segment TCP  IPv6 Datagram or Packet</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802141337.png" alt="image-20210802141337083"></p>
<p><strong> IPv6</strong> IPv4 IPv6</p>
<h4 id="IPv6-"><a href="#IPv6-" class="headerlink" title="IPv6 "></a>IPv6 </h4><p></p>
<p>IPv4  4  8 octet 32  IPv6  8  16 hextet 128 IPv6  IPv4  IPv6 </p>
<p>IPv4 <code>.</code><code>103.28.7.35</code> 8  0-255 </p>
<p>IPv6 <code>:</code><code>0123:4567:89ab:cdef:0123:4567:89ab:cdef</code> 8  16  16 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802141549.png" alt="image-20210802141549211"></p>
<ul>
<li>Hexadecimal notation</li>
<li>Quartet16 </li>
<li>Most significant</li>
<li>Binary notation</li>
</ul>
<p><code>::</code><code>0000</code><code>1111::2222</code> 6 <code>0000</code><code>::</code><code>::</code><code>0000</code><code>1111::2222:3333</code><code>0000</code><code>1111::2222</code><code>2222::3333</code></p>
<p> 0 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123:4567::123:4567:0:cdef</span><br></pre></td></tr></table></figure>

<p><code>0</code><code>3c4d::/16</code><code>16</code><code>0</code><code>1234:5878:abcd/64</code><code>64</code> 0<code>ff00/8</code> 8 </p>
<h4 id="IPv6-"><a href="#IPv6-" class="headerlink" title="IPv6 "></a>IPv6 </h4><p> IPv4  IPv4 IPv6IPv6  IPv4 </p>
<p>IPv6 </p>
<ul>
<li> IPv4  1  1</li>
<li> IPv4 <code>fe80</code> IPv4 <code>127</code></li>
<li>Group Multicast</li>
<li>Anycast</li>
</ul>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> IPv4 / IPv4 <strong>IPv6  IPv6 </strong></p>
<p>IPv6  3 </p>
<ul>
<li>Site Prefix48bit ISPInternet Service ProvidorRIRRegional Internet Registry RIR  IP </li>
<li>Subnet ID16bit</li>
<li>Interface ID 64bit</li>
</ul>
<p> IPv6 IPv6 </p>
<p>IPv6  16bit  65535  64 </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> IPv6  IPv6 </p>
<p>IPv6 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802162709.png" alt="image-20210802162709355"></p>
<p><code>fe80</code> 64  0 54  Interface </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p>IPv6  IP  8  1 <code>ff00</code></p>
<p></p>
<h4 id="Anycast"><a href="#Anycast" class="headerlink" title="Anycast"></a>Anycast</h4><p></p>
<p></p>
<h4 id="IPv6--IPv4-"><a href="#IPv6--IPv4-" class="headerlink" title="IPv6  IPv4 "></a>IPv6  IPv4 </h4><p> IPv6  IPv6  IPv4 2 </p>
<ol>
<li> IPv4  IPv6 </li>
<li> IPv6  IPv6  IPv4 </li>
</ol>
<p></p>
<p><strong> 1IPv4  IPv6 </strong></p>
<p> IPv6  IPv4 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802162809.png" alt="image-20210802162809719"></p>
<ol>
<li> DNS64  AAAA DNS64 IETF IPv4  IPv6  DNS  DNS  IPv4  IPv6 </li>
<li>DNS64  IPv4  AAAA </li>
<li> IPv4  NAT64 </li>
<li> NAT64  IPv6  IPv4  IPv4 </li>
<li></li>
</ol>
<p><strong> 2 IPv6  IPv4 </strong></p>
<p> IPv6 IPv6 IPv6 </p>
<p> IPv6  IPv4 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802162837.png" alt="image-20210802162837144"></p>
<p><strong> IPv6 </strong></p>
<h4 id="-7"><a href="#-7" class="headerlink" title=""></a></h4><p><strong>IPv6 </strong></p>
<p> NAT  IPv6  IP </p>
<p>Tunnel </p>
<p><strong></strong>Tunnel  IPv6  IPv4  IPv6  IPv4 </p>
<p><strong>IPv6IPv4</strong>1.IPv6IPv4IP32,2^32-1IPv6IP128,2^128-1IPV6IP2.IPv6IPv6(Aggregation),(Entry),,3.IPv64.IPv6DHCP()5.IPv6IPv6IP</p>
<h3 id="NAT-"><a href="#NAT-" class="headerlink" title="NAT "></a><strong>NAT </strong></h3><p><strong></strong><code>192.168</code></p>
<p>NAT </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802171040.png" alt="image-20210802171040490"></p>
<h4 id="MAC-"><a href="#MAC-" class="headerlink" title="MAC "></a>MAC </h4><p></p>
<p><strong>IETF MAC </strong></p>
<p><strong>IP </strong> IP  MAC IP  MAC </p>
<p><strong></strong></p>
<p> MAC  MAC Packet Frame  MAC </p>
<p><strong> Frame IP </strong> IP <strong> IP </strong></p>
<p> MTU  Maximun Transmission Unit<strong> IP  MTU </strong></p>
<p><a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=837#/detail/pc?id=7268&fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">04 | TCP </a> TCP  MSSMSSMaximun Segment Size TCP  TCP TCP Packet<strong>MSS MTU </strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MTU = MSS + TCP Header + IP Header</span><br></pre></td></tr></table></figure>

<p><strong></strong>TCP  MSS TCP Header  IP  IP Header IP Packet MTU<strong> TCP MTU  MTU  IP </strong></p>
<h4 id="ARP"><a href="#ARP" class="headerlink" title="ARP"></a>ARP</h4><p> MAC  MAC  3 </p>
<ol>
<li> MAC </li>
<li> MAC </li>
<li></li>
</ol>
<p><strong> MAC </strong> IP  MAC  IP  MAC Address Resolution ProtocolARP</p>
<p> DNS  IP  MAC </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174247.png" alt="image-20210802174246892"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174259.png" alt="image-20210802174259362"></p>
<p> MAC  ARP  IP  2.2.2.2 </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174313.png" alt="image-20210802174313038"></p>
<p><strong> DNS  ARP </strong> ARP  ARP  ARP <strong>ARP </strong></p>
<p> TTLTime To LiveAging LRU</p>
<p></p>
<p> ARP  ARP </p>
<p><a href="https://shenceyun.lagou.com/t/Axo?fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener"></a> CPU  MMU  TLB  3 </p>
<ul>
<li><a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=478#/detail/pc?id=4610&fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">05 | L1 Cache  SSD </a></li>
<li><a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=478#/detail/pc?id=4634&fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">25 |  </a></li>
<li><a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=478#/detail/pc?id=4635&fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">26 |  LRU </a></li>
</ul>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174554.png" alt="image-20210802174554758"></p>
<p> MAC  1  2  IP  2 <strong> 2  IP </strong> ARP </p>
<h4 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h4><p></p>
<p>IPv4  IP  IP <code>192.168.0.1</code><code>22.22.22.22</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174617.png" alt="image-20210802174616966"></p>
<p> IP <code>22.22.22.22</code> IP + <code>22.22.22.22</code><code>192.168.0.1</code> IPNetwork Address Translation</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802174930.png" alt="image-20210802174930780"></p>
<p>NAT  IP  IP  NAT  IP  NAT  IP</p>
<h4 id="-8"><a href="#-8" class="headerlink" title=""></a></h4><p> MAC MAC <strong></strong> IP  MAC ARP</p>
<p> IP </p>
<p></p>
<p><strong></strong>NATNAT  NAT NAT  IP  IPNAT  IP</p>
<p> NAT </p>
<ol>
<li>NAT  IP  NAT  IP  IP  IPNAT  IP  IP  IP </li>
<li>NAT  IP  IP  + NAT  IP  IP +  IP  +  IP</li>
</ol>
<p>NAT</p>
<h3 id="-TCP-"><a href="#-TCP-" class="headerlink" title=" TCP "></a><strong> TCP </strong></h3><p><strong>Wireshark</strong>Wireshark </p>
<p>Wireshark Wireshark </p>
<ol>
<li></li>
<li></li>
<li> WindowsLinuxmacOSSolarisFreeBSDNetBSD</li>
<li> GUI  TTY</li>
<li> VOIP</li>
<li> Gzip</li>
<li> IPSec</li>
<li></li>
</ol>
<p>Wireshark<strong> TCP </strong></p>
<p><em> Wireshark </em><a href="https://www.wireshark.org/download.html?fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">https://www.wireshark.org/download.html</a><em> Wireshark</em></p>
<p> hack </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Whireshark  Whireshark  macOSLinuxWindows  Wireshark </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802183750.png" alt="image-20210802183750408"></p>
<p><strong></strong><strong>Network Interface</strong>Linux <code>ifconfig</code>Windows  ipconfig<strong> 2</strong><code>VMware</code></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802183809.png" alt="image-20210802183809553"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802183828.png" alt="image-20210802183828623"></p>
<ul>
<li>No. Wireshark </li>
<li>Time</li>
<li>Source  Destination IP  IPv6  IPV4 </li>
<li> TCP/UDP/ICMP ICMP  IP Internet Control Message Protocol Ping  ICMP ARP Address Resolution Protocol MAC </li>
<li>Length Bytes</li>
<li>Info TCP Seq  ACK Seq  ACK Whireshark </li>
</ul>
<h4 id="-TCP-"><a href="#-TCP-" class="headerlink" title=" TCP "></a> TCP </h4><p> TCP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802183916.png" alt="image-20210802183916603"></p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802183939.png" alt="image-20210802183939049"></p>
<p> TCP  IP  Frame</p>
<p> TCP  TCP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802184039.png" alt="image-20210802184038793"></p>
<p> ACK Flags 58260  443 HTTPS </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p>Whireshark  Frame</p>
<ul>
<li> Frame </li>
<li> MAC  MAC </li>
<li>IP  IP  IP  IP  Checksum<a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=837#/detail/pc?id=7271&fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener">06 | IPv4 </a></li>
<li>  TCP SeqACK </li>
<li> TLS  HTTPS TLS TLS  TCP  TCP </li>
</ul>
<h4 id="-HTTP-"><a href="#-HTTP-" class="headerlink" title=" HTTP "></a> HTTP </h4><p>Wireshark  HTTP  HTTP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802200225.png" alt="image-20210802200225492"></p>
<p>Wireshark  HTTP </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Wireshark </p>
<p><code>ping</code> IP </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210802200313.png" alt="image-20210802200313749"></p>
<p>IP  Wireshark </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803112824.png" alt="image-20210803112823819"></p>
<p> TCP 3  HTTPS <code>192.168.1.5</code><code>14.215.177.39</code></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803112917.png" alt="image-20210803112917193"></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803113019.png" alt="image-20210803113019378"></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803113046.png" alt="image-20210803113046506"></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803113103.png" alt="image-20210803113103219"></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803113115.png" alt="image-20210803113114942"></p>
<p><br></p>
<p>Wireshark  Wireshark </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h4 id="-127-0-0-1-localhost-0-0-0-0-"><a href="#-127-0-0-1-localhost-0-0-0-0-" class="headerlink" title=" 127.0.0.1, localhost, 0.0.0.0 "></a> 127.0.0.1, localhost, 0.0.0.0 </h4><p>127.0.0.1loopback loopback </p>
<p>localhost  loopback localhost  IPv4  IPv6  [::1]</p>
<p>0.0.0.0 IP  IP 0.0.0.0 IP  0.0.0.0  IP </p>
<h4 id="IPv6--IPv4-"><a href="#IPv6--IPv4-" class="headerlink" title="IPv6  IPv4 "></a>IPv6  IPv4 </h4><p>IPv6  IPv4 IPv6  128  IP </p>
<p>IPv6  IPv4  IP NAT </p>
<p>IPv4 IPv6  IP IPv6  IPv6  IP </p>
<p> IPv6  IP  248  IP  IP IPv4  IP  DHCP IP  IPv6  IP  IP </p>
<p> IPv6  IPv6 ND</p>
<h4 id="IPv6--NAT-"><a href="#IPv6--NAT-" class="headerlink" title="IPv6  NAT "></a>IPv6  NAT </h4><p>IPv6  IP  IP  NAT </p>
<p> IPv6 NAT  IP  NAT  IPv4 IPv6  IPv6  NAT </p>
<p> IPv6  IPv6  IPv4 IPv6  IPv4  NAT NAT64 IPv6  IPv4 </p>
<h4 id="-UDP--Wireshark-"><a href="#-UDP--Wireshark-" class="headerlink" title=" UDP  Wireshark "></a> UDP  Wireshark </h4><p></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> socket = <span class="keyword">new</span> DatagramSocket(<span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> buf = <span class="keyword">new</span> byte[<span class="number">256</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line"></span><br><span class="line">  DatagramPacket packet</span><br><span class="line"></span><br><span class="line">      = <span class="keyword">new</span> DatagramPacket(buf, buf.length);</span><br><span class="line"></span><br><span class="line">  System.out.println(<span class="string">"try receive..."</span>);</span><br><span class="line"></span><br><span class="line">  socket.receive(packet);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> address = packet.getAddress();</span><br><span class="line"></span><br><span class="line">  int port = packet.getPort();</span><br><span class="line"></span><br><span class="line">  packet = <span class="keyword">new</span> DatagramPacket(buf, buf.length, address, port);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> received</span><br><span class="line"></span><br><span class="line">      = <span class="keyword">new</span> <span class="built_in">String</span>(packet.getData(), <span class="number">0</span>, packet.getLength());</span><br><span class="line"></span><br><span class="line">  socket.send(packet);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> buf = <span class="string">"Hello"</span>.getBytes();</span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> socket = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> address = InetAddress.getByName(<span class="string">"localhost"</span>);</span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> packet</span><br><span class="line"></span><br><span class="line">     = <span class="keyword">new</span> DatagramPacket(buf, buf.length, address, <span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line"> socket.send(packet);</span><br><span class="line"></span><br><span class="line"> socket.receive(packet);</span><br><span class="line"></span><br><span class="line"> <span class="built_in">String</span> received = <span class="keyword">new</span> <span class="built_in">String</span>(</span><br><span class="line"></span><br><span class="line">     packet.getData(), <span class="number">0</span>, packet.getLength());</span><br><span class="line"></span><br><span class="line"> System.out.format(<span class="string">"Server echo : %s\n"</span>, received);</span><br></pre></td></tr></table></figure>

<p><code>Datagram</code></p>
<h3 id="Socket-epoll-"><a href="#Socket-epoll-" class="headerlink" title="Socket epoll "></a>Socket epoll </h3><p><strong>Socket </strong> Socket  Socket <strong>Socket  TCP /UDP </strong> Socket  Socket </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803144303.png" alt="image-20210803144303830"></p>
<p><strong>Socket </strong></p>
<p></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> serverSocket = <span class="keyword">new</span> ServerSocket();</span><br><span class="line">serverSocket.bind(<span class="keyword">new</span> InetSocketAddress(<span class="number">80</span>));</span><br></pre></td></tr></table></figure>

<p> Socket  Socket Socket </p>
<p> Socket  Socket  Socket </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803145544.png" alt="image-20210803145544248"></p>
<p> Socket  Socket  accept() </p>
<p> Socket  Socket  Socket <strong> Socket </strong></p>
<p>Linux  Socket </p>
<p>Socket  Socket  Socket  Socket  Socket  Socket  Socket  Socket </p>
<p><strong>Socket  API </strong></p>
<h4 id="-Socket-"><a href="#-Socket-" class="headerlink" title=" Socket "></a> Socket </h4><p> Socket  Nginx  80 Node  3000 SSH  22 Tomcat  8080  Socket  Socket  Socket  Socket </p>
<p><strong> Socket  bind</strong> IP  IP </p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> Socket  Socket  Socket </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803152908.png" alt="image-20210803152908750"></p>
<p> Socket  Socket  Socket </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803153001.png" alt="image-20210803153001467"></p>
<p><strong>I/O </strong></p>
<h4 id="Reactive"><a href="#Reactive" class="headerlink" title="Reactive"></a>Reactive</h4><p> I/O  Socket  Socket  Socket </p>
<p> Socket <strong></strong> Socket </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803153240.png" alt="image-20210803153240124"></p>
<p> Socket </p>
<p>Reactive</p>
<p> Socket  Socket  Socket </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210803153251.png" alt="image-20210803153251665"></p>
<p> Socket  Socket </p>
<ol>
<li> Socket <strong></strong></li>
<li> Socket </li>
</ol>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><strong></strong> =123  Socket  FD=123  Socket </p>
<p><strong> FD=123  Socket </strong></p>
<p> Socket </p>
<p> Linux  epoll Java  TreeMap </p>
<h4 id="-9"><a href="#-9" class="headerlink" title=""></a></h4><p><strong>Socket </strong>Socket API  Socket  Socket </p>
<p> Socket  Socket  Socket  Socket  Socket  Socket I/O I/O </p>
<p> I/O  I/O  I/O  I/O  Socket  epoll </p>
<h4 id="epoll-"><a href="#epoll-" class="headerlink" title="epoll "></a><strong>epoll </strong></h4><p><strong></strong> Linux  I/O  selectpollepoll</p>
<p>select  Socket I/O  select  I/O  Socket Socket </p>
<p>poll  select  I/O select  poll epoll </p>
<p>epoll  I/O  epoll </p>
<h3 id="-flip-"><a href="#-flip-" class="headerlink" title=" flip "></a> flip </h3><p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p> 4k </p>
<p></p>
<p></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805093142.png" alt="image-20210805093135218"></p>
<p> position</p>
<p> I/O  2k4k 30 | FATNTFS  Ext3 </p>
<p> 2k  2k  2k </p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805093848.png" alt="image-20210805093848249"></p>
<p> 2k4k  I/O </p>
<p></p>
<p> 2k/4k 1M/2M </p>
<p></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805093929.png" alt="image-20210805093928925"></p>
<p>14 | </p>
<p> Java  NIO  DirectMemory C  mmap</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> 2k  2048 </p>
<p></p>
<p>FIFO</p>
<p> </p>
<p></p>
<p></p>
<p></p>
<p></p>
<p> 8 </p>
<p></p>
<p>position  1 a,b,c,d </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805112609.png" alt="image-20210805112609774"></p>
<p> limit </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805112645.png" alt="image-20210805112645759"></p>
<p> position  0limit  0  position  1</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210805112658.png" alt="image-20210805112658630"></p>
<p> position  0limit flipflip </p>
<p> position  limit a,b,c,d clearclear position,limit  0</p>
<p> position = 0 position  limit flipclear</p>
<p><br></p>
<p> I/O FIFO Redis RocketMQKafka MySQL </p>
<p> I/O  I/O </p>
<p> flip </p>
<p>flip  flip  position  0limit </p>
<h3 id="-I-O-BIONIO--AIO-"><a href="#-I-O-BIONIO--AIO-" class="headerlink" title=" I/O BIONIO  AIO "></a> I/O BIONIO  AIO </h3><p> BIONIOAIO  I/O  3  </p>
<p> API</p>
<p></p>
<p></p>
<h4 id="I-O-"><a href="#I-O-" class="headerlink" title="I/O "></a>I/O </h4><p> BIONIO  AIO </p>
<p>BIOBlocking I/O I/OAPI </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">byte a = readKey()</span><br></pre></td></tr></table></figure>

<p><code>readKey</code> I/O ReadKey <strong></strong> CPU <strong></strong><strong></strong>Context Switch</p>
<p> NIO None Blocking I/O IOAPI </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">byte a = readKey()</span><br></pre></td></tr></table></figure>

<p><code>readKey</code> I/O <code>readKey</code> I/O  I/O  null</p>
<p> AIOAsynchronous I/O  I/OAPI </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">func callBackFunction(byte keyCode) &#123;</span><br><span class="line">  // </span><br><span class="line">&#125;</span><br><span class="line">readKey( callBackFunction )</span><br></pre></td></tr></table></figure>

<p> I/O <code>readKey</code><code>callBackFunction</code><code>readKey</code><code>readKey</code><code>callBackFunction</code><code>callBackFunction</code><strong></strong><code>callbackFunction</code></p>
<p> I/O<strong></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">request(&quot;/order/123&quot;, (data1) -&gt; &#123;</span><br><span class="line">  //..</span><br><span class="line">  request(&quot;/product/456&quot;, (data2) -&gt; &#123;</span><br><span class="line">    // ..</span><br><span class="line">    request(&quot;/sku/789&quot;, (data3) -&gt; &#123;</span><br><span class="line">      //...</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p> API </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Future future1 = request(&quot;/order/123&quot;)</span><br><span class="line">Future future2 = request(&quot;/product/456&quot;)</span><br><span class="line">Future future3 = request(&quot;/sku/789&quot;)</span><br><span class="line">// ...</span><br><span class="line">// ...</span><br><span class="line">order = future1.get()</span><br><span class="line">product = future2.get()</span><br><span class="line">sku = future3.get()</span><br></pre></td></tr></table></figure>

<p>request  ID=123  request <code>request(&quot;/order/123&quot;)</code> Future <code>future.get()</code></p>
<p><code>request</code><code>future.get</code>  Future <strong></strong><strong></strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> I/O  BIONIO  AIO I/O  JSON  2  CPU </p>
<p> DMADirect Memory AccessDMA  DMA  CPU DMA DMA </p>
<blockquote>
<p> DMA <a href="https://shenceyun.lagou.com/t/Axo?fileGuid=xxQTRXtVcqtHK6j8" target="_blank" rel="noopener"></a></p>
</blockquote>
<p> I/O  I/O  DMA <strong> DMA BIO/AIO/NIO </strong></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p> I/O </p>
<h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><p> I/O <strong></strong> I/O <strong></strong> 1000  I/O  50  I/O </p>
<p> 1000  MySQL 1000  50  10000  TCP  TCP  Web  HTTP </p>
<p><strong></strong></p>
<h4 id="I-O-"><a href="#I-O-" class="headerlink" title="I/O "></a>I/O </h4><p> I/O </p>
<p> I/O  I/O  CPU </p>
<p> DMA DMA  3GHz  CPU <strong>I/O </strong> I/O </p>
<p> I/O  I/O RPC </p>
<p><strong> I/O </strong> I/O </p>
<p> epoll </p>
<p> BIOAIONIO </p>
<p><strong> BIOAIONIO </strong><strong> epoll +</strong> I/O </p>
<p> epoll  I/O  NIO</p>
<h4 id="-10"><a href="#-10" class="headerlink" title=""></a></h4><p> 3  I/O </p>
<ul>
<li><strong></strong> 3  API </li>
<li> I/O <strong></strong></li>
<li><strong></strong></li>
</ul>
<p> I/O  3 </p>
<p><strong>BIONIO  AIO ?</strong></p>
<p><strong></strong> I/O BIO NIO AIO  I/O  I/O  AIO </p>
<p> 3  API  I/O  I/O  DMA I/O</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>CPU</p>
<p>0CPU</p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p></p>
<p></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>Linux 2.4  sendfile  DMA  Buffer  DMA  NIC Buffer(socket buffer) CPU ()</p>
<h4 id="Linux-I-O-"><a href="#Linux-I-O-" class="headerlink" title="Linux I/O "></a><strong>Linux I/O </strong></h4><p> DMA  Linux I/O </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808194717.png" alt="image-20210808194709993"></p>
<p>CPU <code>DMA(Direct Memory Access)</code> CPU CPU</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808195425.png" alt="image-20210808195425225"></p>
<p>DMA  CPU CPU <br> DMA</p>
<p> DMA  DMA </p>
<h4 id="Linux-IO-"><a href="#Linux-IO-" class="headerlink" title="Linux IO "></a><strong>Linux IO </strong></h4><p><strong>DMA</strong></p>
<p>IOCPUCPUIOCPUIO</p>
<p>DMADirect Memory AccessIOCPU</p>
<p></p>
<p> IO </p>
<ul>
<li>DMA </li>
<li> copy </li>
</ul>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808195528.png" alt="image-20210808195528165"></p>
<p> DMA  Linux I/O  Linux I/O .</p>
<h4 id="-IO-"><a href="#-IO-" class="headerlink" title=" IO "></a> IO </h4><p> Java  IO  </p>
<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">File file = new File(&quot;index.html&quot;);</span><br><span class="line">RandomAccessFile raf = new RandomAccessFile(file, &quot;rw&quot;);</span><br><span class="line"> </span><br><span class="line">byte[] arr = new byte[(int) file.length()];</span><br><span class="line">raf.read(arr);</span><br><span class="line"> </span><br><span class="line">Socket socket = new ServerSocket(8080).accept();</span><br><span class="line">socket.getOutputStream().write(arr);</span><br></pre></td></tr></table></figure>

<p> html  8080  html  socket readwrite OS </p>
<p><strong>4</strong><strong>4</strong></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808195704.png" alt="image-20210808195704164"></p>
<p>read </p>
<ul>
<li>DMADirect Memory Access CPU  DMA  index.html </li>
<li></li>
<li> write  socket </li>
<li> socket  DMA <br>write </li>
</ul>
<p> IO </p>
<p> OS  kernel  api</p>
<p><strong>Linux ()</strong></p>
<p><strong>1mmap </strong></p>
<p>mmap </p>
<p> Linux  mmap </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808202324.png" alt="image-20210808202323982"></p>
<p></p>
<ul>
<li></li>
<li> 0 <br></li>
</ul>
<p>(MAP_PRIVATE)  copy-on- write() <br>(MAP_SHARED) </p>
<p>4</p>
<ul>
<li></li>
<li>mmap (mallocmmap)  copy-on-write</li>
<li>(IPC)</li>
<li>fork(IPC)</li>
</ul>
<p>mmap </p>
<p> mmap (4096)</p>
<p><strong>mmap+write</strong></p>
<p>mmap+write<code>mmap</code>read+writereadCPU</p>
<p><code>mmap</code>CPU</p>
<p><strong>4</strong><strong>3</strong></p>
<ol>
<li><code>mmap()</code></li>
<li>DMA</li>
<li><strong>mmap</strong></li>
<li><code>write()</code></li>
<li><strong>CPUsocket</strong></li>
<li>DMAsocket<code>write()</code></li>
</ol>
<p><code>mmap</code>CPU</p>
<p><strong>2sendfile</strong></p>
<p> Socket Buffer</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808205656.png" alt="image-20210808205656109"></p>
<p> sendFile  DMA  write  socket</p>
<p> socket  3 2  </p>
<p><code>sendfile</code>Linux2.1<code>sendfile</code><code>sendfile</code><code>read+write</code>2</p>
<p><strong>2</strong><strong>3</strong></p>
<ol>
<li><code>sendfile()</code></li>
<li>DMA</li>
<li>CPUsocket</li>
<li>DMAsocket<code>sendfile</code></li>
</ol>
<p><code>sendfile</code>IO</p>
<p><strong>3Sendfile With DMA Scatter/Gather Copy</strong></p>
<p>Linux  2.4 </p>
<p> socket buffer </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808205853.png" alt="image-20210808205853295"></p>
<p>Scatter/Gather  sendfile  sendfile</p>
<p>index.html  2  DMA  offset  length  socket buffer</p>
<p>() kernel buffer sendFile 2.1  2 () socket </p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/20210808205946.png" alt="image-20210808205946299"></p>
<p><strong>2</strong><strong>2</strong>CPU</p>
<ol>
<li><code>sendfile()</code></li>
<li>DMAscatter</li>
<li>CPUsocket</li>
<li>DMAscatter/gather</li>
<li><code>sendfile()</code></li>
</ol>
<p><code>DMA gather</code><code>sendfile</code>CPU</p>
<h4 id="-11"><a href="#-11" class="headerlink" title=""></a></h4><p>IO<code>read+write</code>2DMA+2CPU4</p>
<p><code>mmap+write</code>2DMA+1CPU4CPU</p>
<p><code>sendfile</code>2DMA+1CPU2IO</p>
<p><code>sendfile+DMA gather</code>2DMACPU2</p>
<h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><p><a href="https://blog.csdn.net/riemann_/article/details/114378152" target="_blank" rel="noopener">https://blog.csdn.net/riemann_/article/details/114378152</a></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Basic-Knowledge/" rel="tag"># Basic Knowledge</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/06/18/TTRSS-RSSHUB/" rel="prev" title="TTRSS + RSSHUB">
      <i class="fa fa-chevron-left"></i> TTRSS + RSSHUB
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/07/17//" rel="next" title="">
       <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC80Mzk4NC8yMDUyMA=="></div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          
        </li>
        <li class="sidebar-nav-overview">
          
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#"><span class="nav-number">1.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-number">1.1.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.4.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.4.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CPU"><span class="nav-number">1.1.4.2.</span> <span class="nav-text">CPU</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.4.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.4.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.4.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.4.6.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.5.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-"><span class="nav-number">1.1.5.0.1.</span> <span class="nav-text">1.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-64--32-"><span class="nav-number">1.1.5.0.2.</span> <span class="nav-text">2. 64  32 </span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-a-11-15-"><span class="nav-number">1.1.7.</span> <span class="nav-text"> a = 11 + 15 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.8.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.9.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.10.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#64--32-"><span class="nav-number">1.1.11.</span> <span class="nav-text">64  32 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-"><span class="nav-number">1.1.12.</span> <span class="nav-text">for </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.13.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.14.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.15.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#class"><span class="nav-number">1.1.16.</span> <span class="nav-text">class</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.17.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.18.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Register"><span class="nav-number">1.1.18.1.</span> <span class="nav-text">Register</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#L1-Cache"><span class="nav-number">1.1.18.2.</span> <span class="nav-text">L1-Cache</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#L2-Cache"><span class="nav-number">1.1.18.3.</span> <span class="nav-text">L2-Cache</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#L3-Cache"><span class="nav-number">1.1.18.4.</span> <span class="nav-text">L3-Cache</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-1"><span class="nav-number">1.1.18.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SSD-"><span class="nav-number">1.1.18.6.</span> <span class="nav-text">SSD </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.19.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#-1"><span class="nav-number">1.1.19.1.</span> <span class="nav-text"> 1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-2"><span class="nav-number">1.1.19.2.</span> <span class="nav-text"> 2</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.20.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.21.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.22.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-Shell--Bash"><span class="nav-number">1.1.23.</span> <span class="nav-text"> Shell  Bash</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.24.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.25.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ps"><span class="nav-number">1.1.25.1.</span> <span class="nav-text">ps</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#top"><span class="nav-number">1.1.25.2.</span> <span class="nav-text">top</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pipeline"><span class="nav-number">1.1.26.</span> <span class="nav-text">Pipeline</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.26.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.26.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FIFO"><span class="nav-number">1.1.26.3.</span> <span class="nav-text">FIFO</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.27.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.27.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.27.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.27.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.27.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.27.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#xargs"><span class="nav-number">1.1.27.6.</span> <span class="nav-text">xargs</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.28.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.29.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.29.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.29.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.29.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-root"><span class="nav-number">1.1.29.4.</span> <span class="nav-text"> root</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.30.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.31.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.31.1.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.32.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.32.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.32.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.32.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.32.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.32.5.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.33.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#-1"><span class="nav-number">1.1.33.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.33.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.33.3.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.34.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#sshSecure-Shell"><span class="nav-number">1.1.34.1.</span> <span class="nav-text">sshSecure Shell</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#scp"><span class="nav-number">1.1.34.2.</span> <span class="nav-text">scp</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.35.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ifconfig"><span class="nav-number">1.1.35.1.</span> <span class="nav-text">ifconfig</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#netstat"><span class="nav-number">1.1.35.2.</span> <span class="nav-text">netstat</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.36.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ping"><span class="nav-number">1.1.36.1.</span> <span class="nav-text">ping</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#telnet"><span class="nav-number">1.1.36.2.</span> <span class="nav-text">telnet</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS-"><span class="nav-number">1.1.37.</span> <span class="nav-text">DNS </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#host"><span class="nav-number">1.1.37.1.</span> <span class="nav-text">host</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#dig"><span class="nav-number">1.1.37.2.</span> <span class="nav-text">dig</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-"><span class="nav-number">1.1.38.</span> <span class="nav-text">HTTP </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#curl"><span class="nav-number">1.1.38.1.</span> <span class="nav-text">curl</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-NS-"><span class="nav-number">1.1.39.</span> <span class="nav-text"> NS </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.40.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.41.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.41.1.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-Nginx"><span class="nav-number">1.1.42.</span> <span class="nav-text"> Nginx</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.42.1.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-Linux--Web-"><span class="nav-number">1.1.43.</span> <span class="nav-text"> Linux  Web </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.43.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#LESS-"><span class="nav-number">1.1.43.2.</span> <span class="nav-text">LESS </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PV-"><span class="nav-number">1.1.43.3.</span> <span class="nav-text">PV </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PV-"><span class="nav-number">1.1.43.4.</span> <span class="nav-text">PV </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-UV"><span class="nav-number">1.1.43.5.</span> <span class="nav-text"> UV</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-UV"><span class="nav-number">1.1.43.6.</span> <span class="nav-text"> UV</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-Java-"><span class="nav-number">1.1.44.</span> <span class="nav-text"> Java </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.44.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-IP-"><span class="nav-number">1.1.44.2.</span> <span class="nav-text"> IP </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.44.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-"><span class="nav-number">1.1.44.4.</span> <span class="nav-text"> </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-Java-"><span class="nav-number">1.1.44.5.</span> <span class="nav-text"> Java </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-Java-"><span class="nav-number">1.1.44.6.</span> <span class="nav-text"> Java </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linux"><span class="nav-number">1.1.45.</span> <span class="nav-text">linux</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#-std-h"><span class="nav-number">1.1.45.1.</span> <span class="nav-text"> std.h</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-Shell-"><span class="nav-number">1.1.45.2.</span> <span class="nav-text"> Shell </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.45.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-TIME-WAIT-"><span class="nav-number">1.1.45.4.</span> <span class="nav-text"> TIME_WAIT </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-MySQL-libcrypt-so-"><span class="nav-number">1.1.45.5.</span> <span class="nav-text"> MySQL libcrypt.so </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-access-log-"><span class="nav-number">1.1.45.6.</span> <span class="nav-text"> access_log </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-access-log--Top-"><span class="nav-number">1.1.45.7.</span> <span class="nav-text"> access_log  Top </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bashrc-bash-profile-profile--etc-profile-"><span class="nav-number">1.1.45.8.</span> <span class="nav-text">~/.bashrc ~/.bash_profile, ~/.profile  /etc/profile </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux--Windows-"><span class="nav-number">1.1.46.</span> <span class="nav-text">Linux  Windows </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.46.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.46.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.46.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.46.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux-"><span class="nav-number">1.1.46.5.</span> <span class="nav-text">Linux </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Window-"><span class="nav-number">1.1.46.6.</span> <span class="nav-text">Window </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux--Windows--1"><span class="nav-number">1.1.46.7.</span> <span class="nav-text">Linux  Windows </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.47.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.47.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.47.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.47.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.47.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.47.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.47.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.47.7.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Many-to-One"><span class="nav-number">1.1.47.8.</span> <span class="nav-text">Many to One</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#One-to-One"><span class="nav-number">1.1.47.9.</span> <span class="nav-text">One to One</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Many-To-Many"><span class="nav-number">1.1.47.10.</span> <span class="nav-text">Many To Many</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Two-Level"><span class="nav-number">1.1.47.11.</span> <span class="nav-text">Two Level</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.47.12.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.48.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.48.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.48.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.48.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Java-Js-"><span class="nav-number">1.1.48.4.</span> <span class="nav-text">Java/Js </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-1"><span class="nav-number">1.1.49.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.49.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.49.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.49.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.49.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.49.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.49.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.49.7.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.49.8.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.49.9.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.49.10.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-API"><span class="nav-number">1.1.49.11.</span> <span class="nav-text"> API</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.49.12.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-2-"><span class="nav-number">1.1.50.</span> <span class="nav-text"> 2 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#cas-"><span class="nav-number">1.1.50.5.</span> <span class="nav-text">cas </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#tas-"><span class="nav-number">1.1.50.6.</span> <span class="nav-text">tas </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.7.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.8.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.9.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#wait-"><span class="nav-number">1.1.50.10.</span> <span class="nav-text">wait </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.11.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.12.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.13.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.14.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.50.15.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-2--1"><span class="nav-number">1.1.50.16.</span> <span class="nav-text"> 2 </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.51.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#-"><span class="nav-number">1.1.51.1.</span> <span class="nav-text">/</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Git-"><span class="nav-number">1.1.51.2.</span> <span class="nav-text">Git </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.51.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.51.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.51.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.51.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.51.7.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.51.8.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.51.9.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-1"><span class="nav-number">1.1.51.10.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.52.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.52.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.52.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#--"><span class="nav-number">1.1.52.3.</span> <span class="nav-text"> = /</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PriorityQueue"><span class="nav-number">1.1.52.4.</span> <span class="nav-text">PriorityQueue</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.52.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.52.6.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.53.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.54.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.54.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DeadLockLiveLock"><span class="nav-number">1.1.54.2.</span> <span class="nav-text">DeadLockLiveLock</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.54.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.54.4.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.55.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.55.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.55.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.55.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-"><span class="nav-number">1.1.55.4.</span> <span class="nav-text">/</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.55.5.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.56.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#-I-O-"><span class="nav-number">1.1.56.1.</span> <span class="nav-text"> I/O </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-CPU-"><span class="nav-number">1.1.56.2.</span> <span class="nav-text"> CPU </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.57.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Traffic"><span class="nav-number">1.1.58.</span> <span class="nav-text">Traffic</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.58.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.58.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-"><span class="nav-number">1.1.58.3.</span> <span class="nav-text">/</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.59.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.60.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.60.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Swap"><span class="nav-number">1.1.60.2.</span> <span class="nav-text">Swap</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.60.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Page"><span class="nav-number">1.1.60.4.</span> <span class="nav-text">Page</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MMU"><span class="nav-number">1.1.60.5.</span> <span class="nav-text">MMU</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.60.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.60.7.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.61.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#TLB--MMU-"><span class="nav-number">1.1.61.1.</span> <span class="nav-text">TLB  MMU </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TLB-Miss-"><span class="nav-number">1.1.61.2.</span> <span class="nav-text">TLB Miss </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TLB-"><span class="nav-number">1.1.61.3.</span> <span class="nav-text">TLB </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.61.4.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LRU-"><span class="nav-number">1.1.62.</span> <span class="nav-text">LRU </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.62.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-FIFO-FILO"><span class="nav-number">1.1.62.2.</span> <span class="nav-text">/FIFO/FILO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NRU"><span class="nav-number">1.1.62.3.</span> <span class="nav-text">NRU</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#LRU"><span class="nav-number">1.1.62.4.</span> <span class="nav-text">LRU</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.63.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#-GC"><span class="nav-number">1.1.63.1.</span> <span class="nav-text"> GC</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Reference-Counter"><span class="nav-number">1.1.63.2.</span> <span class="nav-text">Reference Counter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Root-Tracing-"><span class="nav-number">1.1.63.3.</span> <span class="nav-text">Root Tracing </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-Mark-Sweep"><span class="nav-number">1.1.63.4.</span> <span class="nav-text">-Mark Sweep</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.63.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-Tri-Color-Mark-Sweep"><span class="nav-number">1.1.63.6.</span> <span class="nav-text">-Tri-Color Mark Sweep</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.63.7.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GC-"><span class="nav-number">1.1.63.8.</span> <span class="nav-text">GC </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux-"><span class="nav-number">1.1.64.</span> <span class="nav-text">Linux </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.64.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.64.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.64.3.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FATNTFS--Ext3-"><span class="nav-number">1.1.65.</span> <span class="nav-text">FATNTFS  Ext3 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.65.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.65.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FAT-"><span class="nav-number">1.1.65.3.</span> <span class="nav-text">FAT </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#inode"><span class="nav-number">1.1.65.4.</span> <span class="nav-text">inode</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.65.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.65.6.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL--B--B-"><span class="nav-number">1.1.66.</span> <span class="nav-text">MySQL  B  B+ </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.66.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.66.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.66.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#B--B-"><span class="nav-number">1.1.66.4.</span> <span class="nav-text">B  B+ </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-B-B-"><span class="nav-number">1.1.66.5.</span> <span class="nav-text"> B B+ </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.66.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.66.7.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.66.8.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL--B--B-"><span class="nav-number">1.1.67.</span> <span class="nav-text">MySQL  B  B+ </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.68.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.68.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.68.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.68.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Tablet"><span class="nav-number">1.1.68.4.</span> <span class="nav-text">Tablet</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Chunk"><span class="nav-number">1.1.68.5.</span> <span class="nav-text">Chunk</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.68.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.68.7.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.68.8.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.68.9.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.68.10.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-1"><span class="nav-number">1.1.68.11.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-IP"><span class="nav-number">1.1.69.</span> <span class="nav-text">TCP/IP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.69.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.69.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.69.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.69.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Data-Link-Layer"><span class="nav-number">1.1.69.5.</span> <span class="nav-text">Data Link Layer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.69.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.69.7.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.69.8.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.69.9.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.69.10.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP-UDP--TCP-"><span class="nav-number">1.1.70.</span> <span class="nav-text">UDP UDP  TCP </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.70.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Checksum"><span class="nav-number">1.1.70.2.</span> <span class="nav-text">Checksum</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#--"><span class="nav-number">1.1.70.3.</span> <span class="nav-text">//</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.70.4.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.71.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-2"><span class="nav-number">1.1.72.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#select-poll-epoll-"><span class="nav-number">1.1.73.</span> <span class="nav-text">select/poll/epoll </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.73.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Socket-"><span class="nav-number">1.1.73.2.</span> <span class="nav-text">Socket </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#I-O-"><span class="nav-number">1.1.73.3.</span> <span class="nav-text">I/O </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#select"><span class="nav-number">1.1.73.4.</span> <span class="nav-text">select()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#poll"><span class="nav-number">1.1.73.5.</span> <span class="nav-text">poll()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#epoll"><span class="nav-number">1.1.73.6.</span> <span class="nav-text">epoll</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#I-O-"><span class="nav-number">1.1.73.7.</span> <span class="nav-text">I/O </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.74.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.74.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.74.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.74.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.74.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.74.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.74.6.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPv4--IPv6-"><span class="nav-number">1.1.75.</span> <span class="nav-text">IPv4  IPv6 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VMware--Docker-"><span class="nav-number">1.1.76.</span> <span class="nav-text">VMware  Docker </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.76.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.76.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.76.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.76.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Type-2-"><span class="nav-number">1.1.76.5.</span> <span class="nav-text">Type-2 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Hyper-V"><span class="nav-number">1.1.76.6.</span> <span class="nav-text">Hyper-V</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Container"><span class="nav-number">1.1.76.7.</span> <span class="nav-text">Container</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-K8s--Docker-Swarm-"><span class="nav-number">1.1.76.8.</span> <span class="nav-text"> K8s  Docker Swarm </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Kubernetes"><span class="nav-number">1.1.76.9.</span> <span class="nav-text">Kubernetes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Master-amp-Worker"><span class="nav-number">1.1.76.10.</span> <span class="nav-text">Master&amp;Worker</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.76.11.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.76.12.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Docker-Swarm"><span class="nav-number">1.1.76.13.</span> <span class="nav-text">Docker Swarm</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.76.14.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux-"><span class="nav-number">1.1.77.</span> <span class="nav-text">Linux ?</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Composability"><span class="nav-number">1.1.77.1.</span> <span class="nav-text">Composability</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Pipeline"><span class="nav-number">1.1.77.2.</span> <span class="nav-text">Pipeline</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.77.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.77.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.77.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.77.6.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.1.78.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.78.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.78.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.1.78.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-3"><span class="nav-number">1.1.78.4.</span> <span class="nav-text"></span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-number">1.2.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.2.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.2.2.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.2.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.2.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.2.3.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP--3--4-"><span class="nav-number">1.2.3.</span> <span class="nav-text">TCP  3  4 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">4 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-8G-"><span class="nav-number">1.2.3.2.</span> <span class="nav-text"> 8G </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-"><span class="nav-number">1.2.4.</span> <span class="nav-text">TCP </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Sequence-Number--Acknowledgement-Number"><span class="nav-number">1.2.4.1.</span> <span class="nav-text">Sequence Number  Acknowledgement Number</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MSSMaximun-Segment-Size"><span class="nav-number">1.2.4.2.</span> <span class="nav-text">MSSMaximun Segment Size</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP-TCP-"><span class="nav-number">1.2.4.3.</span> <span class="nav-text">TCP TCP </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.2.5.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#-"><span class="nav-number">1.2.5.1.</span> <span class="nav-text">/</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Queuing"><span class="nav-number">1.2.5.2.</span> <span class="nav-text">Queuing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Sliding-Window"><span class="nav-number">1.2.5.3.</span> <span class="nav-text">Sliding Window</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.5.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.5.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.5.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.5.7.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-4"><span class="nav-number">1.2.5.8.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP--UDP-"><span class="nav-number">1.2.6.</span> <span class="nav-text">TCP  UDP </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#UDP-"><span class="nav-number">1.2.6.1.</span> <span class="nav-text">UDP </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UDP-"><span class="nav-number">1.2.6.2.</span> <span class="nav-text">UDP </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UDP--TCP"><span class="nav-number">1.2.6.3.</span> <span class="nav-text">UDP  TCP</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-5"><span class="nav-number">1.2.6.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP--UDP--1"><span class="nav-number">1.2.6.5.</span> <span class="nav-text">TCP  UDP </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tips"><span class="nav-number">1.2.7.</span> <span class="nav-text">Tips</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.7.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.7.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Moba--TCP--UDP"><span class="nav-number">1.2.7.3.</span> <span class="nav-text">Moba  TCP  UDP</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.2.8.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#-IP-"><span class="nav-number">1.2.8.1.</span> <span class="nav-text"> IP </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP-"><span class="nav-number">1.2.9.</span> <span class="nav-text">IP </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Fragmentation"><span class="nav-number">1.2.9.1.</span> <span class="nav-text">Fragmentation</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IP-Header"><span class="nav-number">1.2.9.2.</span> <span class="nav-text">IP Header</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.9.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Addressing"><span class="nav-number">1.2.9.4.</span> <span class="nav-text">Addressing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Routing"><span class="nav-number">1.2.9.5.</span> <span class="nav-text">Routing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-6"><span class="nav-number">1.2.9.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-1"><span class="nav-number">1.2.9.7.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tunnel-"><span class="nav-number">1.2.10.</span> <span class="nav-text">Tunnel </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#IPv4--IPv6-"><span class="nav-number">1.2.10.1.</span> <span class="nav-text">IPv4  IPv6 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IPv6-"><span class="nav-number">1.2.10.2.</span> <span class="nav-text">IPv6 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IPv6-"><span class="nav-number">1.2.10.3.</span> <span class="nav-text">IPv6 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.10.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.10.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.10.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Anycast"><span class="nav-number">1.2.10.7.</span> <span class="nav-text">Anycast</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IPv6--IPv4-"><span class="nav-number">1.2.10.8.</span> <span class="nav-text">IPv6  IPv4 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-7"><span class="nav-number">1.2.10.9.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NAT-"><span class="nav-number">1.2.11.</span> <span class="nav-text">NAT </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.11.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MAC-"><span class="nav-number">1.2.11.2.</span> <span class="nav-text">MAC </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ARP"><span class="nav-number">1.2.11.3.</span> <span class="nav-text">ARP</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.11.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NAT"><span class="nav-number">1.2.11.5.</span> <span class="nav-text">NAT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-8"><span class="nav-number">1.2.11.6.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-TCP-"><span class="nav-number">1.2.12.</span> <span class="nav-text"> TCP </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.12.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.12.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-TCP-"><span class="nav-number">1.2.12.3.</span> <span class="nav-text"> TCP </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.12.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-HTTP-"><span class="nav-number">1.2.12.5.</span> <span class="nav-text"> HTTP </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.12.6.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.2.13.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#-127-0-0-1-localhost-0-0-0-0-"><span class="nav-number">1.2.13.1.</span> <span class="nav-text"> 127.0.0.1, localhost, 0.0.0.0 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IPv6--IPv4-"><span class="nav-number">1.2.13.2.</span> <span class="nav-text">IPv6  IPv4 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IPv6--NAT-"><span class="nav-number">1.2.13.3.</span> <span class="nav-text">IPv6  NAT </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-UDP--Wireshark-"><span class="nav-number">1.2.13.4.</span> <span class="nav-text"> UDP  Wireshark </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Socket-epoll-"><span class="nav-number">1.2.14.</span> <span class="nav-text">Socket epoll </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#-Socket-"><span class="nav-number">1.2.14.1.</span> <span class="nav-text"> Socket </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.14.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Reactive"><span class="nav-number">1.2.14.3.</span> <span class="nav-text">Reactive</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.14.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-9"><span class="nav-number">1.2.14.5.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#epoll-"><span class="nav-number">1.2.14.6.</span> <span class="nav-text">epoll </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-flip-"><span class="nav-number">1.2.15.</span> <span class="nav-text"> flip </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.15.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.15.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.15.3.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#-I-O-BIONIO--AIO-"><span class="nav-number">1.2.16.</span> <span class="nav-text"> I/O BIONIO  AIO </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#I-O-"><span class="nav-number">1.2.16.1.</span> <span class="nav-text">I/O </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.16.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.16.3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-1"><span class="nav-number">1.2.16.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#I-O-"><span class="nav-number">1.2.16.5.</span> <span class="nav-text">I/O </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-10"><span class="nav-number">1.2.16.6.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-number">1.2.17.</span> <span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.17.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">1.2.17.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux-I-O-"><span class="nav-number">1.2.17.3.</span> <span class="nav-text">Linux I/O </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux-IO-"><span class="nav-number">1.2.17.4.</span> <span class="nav-text">Linux IO </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-IO-"><span class="nav-number">1.2.17.5.</span> <span class="nav-text"> IO </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#-11"><span class="nav-number">1.2.17.6.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Java"><span class="nav-number">1.2.17.7.</span> <span class="nav-text">Java</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Fly Hugh"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Fly Hugh</p>
  <div class="site-description" itemprop="description">WE CHOOSE TO  GO TO THE MARS</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">73</span>
          <span class="site-state-item-name"></span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name"></span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">62</span>
        <span class="site-state-item-name"></span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/FlyMeToTheMars" title="GitHub  https://github.com/FlyMeToTheMars" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/flyhobo@live.com" title="E-Mail  flyhobo@live.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/3200892914" title="Weibo  https://weibo.com/u/3200892914" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/Fly__HoBo" title="Twitter  https://twitter.com/Fly__HoBo" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Fly Hugh</span>
</div>
  <div class="powered-by"> <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  















  

  

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>

</body>
</html>

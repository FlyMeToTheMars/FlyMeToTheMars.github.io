<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="细节补充">
<meta name="keywords" content="PICKS">
<meta property="og:type" content="article">
<meta property="og:title" content="朝花夕拾（二）">
<meta property="og:url" content="http://yoursite.com/2022/07/17/就是说我为什么这么和你对话呢/index.html">
<meta property="og:site_name" content="Mars">
<meta property="og:description" content="细节补充">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207282238360.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272251191.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272255356.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272257907.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272258043.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272304641.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272315756.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272318518.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272318059.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160538009.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160538657.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160539058.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160539164.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208161155310.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208161156642.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160424300.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160428119.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160429727.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160431060.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208170956321.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208181015479.png">
<meta property="og:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208191115526.png">
<meta property="og:updated_time" content="2025-07-30T07:21:06.823Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="朝花夕拾（二）">
<meta name="twitter:description" content="细节补充">
<meta name="twitter:image" content="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207282238360.png">

<link rel="canonical" href="http://yoursite.com/2022/07/17/就是说我为什么这么和你对话呢/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>朝花夕拾（二） | Mars</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Mars" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Mars</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/07/17/就是说我为什么这么和你对话呢/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fly Hugh">
      <meta itemprop="description" content="WE CHOOSE TO  GO TO THE MARS">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mars">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          朝花夕拾（二）
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-07-17 14:00:46" itemprop="dateCreated datePublished" datetime="2022-07-17T14:00:46+08:00">2022-07-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-07-30 15:21:06" itemprop="dateModified" datetime="2025-07-30T15:21:06+08:00">2025-07-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Interview/" itemprop="url" rel="index"><span itemprop="name">Interview</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>细节补充</p>
</blockquote>
<a id="more"></a> 

<h1 id="Anaconda-Navigator-amp-Pyhton-amp-脚本语言-amp-Others"><a href="#Anaconda-Navigator-amp-Pyhton-amp-脚本语言-amp-Others" class="headerlink" title="Anaconda Navigator &amp; Pyhton &amp; 脚本语言 &amp; Others"></a>Anaconda Navigator &amp; Pyhton &amp; 脚本语言 &amp; Others</h1><h2 id="Anaconda-Navigator-介绍-背景"><a href="#Anaconda-Navigator-介绍-背景" class="headerlink" title="Anaconda Navigator 介绍 / 背景"></a>Anaconda Navigator 介绍 / 背景</h2><h3 id="conda-anaconda-anaconda-navigator-pip-virtualenv区别"><a href="#conda-anaconda-anaconda-navigator-pip-virtualenv区别" class="headerlink" title="conda anaconda anaconda-navigator pip virtualenv区别"></a>conda anaconda anaconda-navigator pip virtualenv区别</h3><ul>
<li><p>Anaconda是一个包含180+的科学包及其依赖项的发行版本。其包含的科学包包括：conda, numpy, scipy, ipython notebook等。</p>
</li>
<li><p>conda是包及其依赖项和环境的管理工具。</p>
</li>
<li><p>pip是用于安装和管理软件包的包管理器。</p>
</li>
<li><p>virtualenv：用于创建一个<strong>独立的</strong>Python环境的工具。</p>
</li>
<li><p>“Anaconda-Navigator”中已经包含“Jupyter Notebook”、“Jupyterlab”、“Qtconsole”和“Spyder”。</p>
</li>
</ul>
<h3 id="conda基础操作"><a href="#conda基础操作" class="headerlink" title="conda基础操作"></a>conda基础操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">创建环境 conda create -n envname python=xxx</span><br><span class="line"></span><br><span class="line">删除环境 conda remove -n envname --all</span><br><span class="line"></span><br><span class="line">进入环境 conda activate envname (old version: source activate xxx)</span><br><span class="line"></span><br><span class="line">离开环境 conda deactivate (old version: source deactivate)</span><br><span class="line"></span><br><span class="line">列出所有环境 conda info -e #这里列出环境的同时会列出该环境的绝对路径</span><br></pre></td></tr></table></figure>

<h4 id="conda参数"><a href="#conda参数" class="headerlink" title="conda参数"></a>conda参数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">conda install -y 覆盖提示，默认yes</span><br><span class="line"></span><br><span class="line">The following NEW packages will be INSTALLED:</span><br><span class="line"></span><br><span class="line">    libgfortran:     1.0-0             </span><br><span class="line">    numpy:           1.10.2-py27_0     </span><br><span class="line">    openblas:        0.2.14-3          </span><br><span class="line">    pandas:          0.17.1-np110py27_0</span><br><span class="line">    python-dateutil: 2.4.2-py27_0      </span><br><span class="line">    pytz:            2015.7-py27_0     </span><br><span class="line">    six:             1.10.0-py27_0     </span><br><span class="line"></span><br><span class="line">Proceed ([y]/n)? y</span><br><span class="line">等于提前输入了这个y</span><br><span class="line"></span><br><span class="line">-------------------</span><br><span class="line"></span><br><span class="line">conda install -c 这个c的意思是channel，也就是指定了下载通道，在出现某些网络问题的情况下可以换一个下载源就这个意思</span><br><span class="line"></span><br><span class="line">-------------------</span><br></pre></td></tr></table></figure>

<h4 id="conda-install-和-pip-install-的区别"><a href="#conda-install-和-pip-install-的区别" class="headerlink" title="conda install 和 pip install 的区别"></a>conda install 和 pip install 的区别</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip只能安装python包，而conda可以安装由任何语言编写的包</span><br><span class="line">pip不能创建虚拟环境，需要借助另外的包，例如virtualenv,而conda可以创建虚拟环境。</span><br><span class="line">pip是按照python时自带的，而conda需要安装anaconda才能用。</span><br></pre></td></tr></table></figure>

<p>具体区别可以在找个官网上找到 <a href="https://www.anaconda.com/blog/understanding-conda-and-pip" target="_blank" rel="noopener">https://www.anaconda.com/blog/understanding-conda-and-pip</a></p>
<h4 id="conda更新"><a href="#conda更新" class="headerlink" title="conda更新"></a>conda更新</h4><p>很多时候打不开可能也是因为要更新了</p>
<p>管理员运行            <code>conda prompt</code><br>然后                        <code>conda update anaconda-navigator</code></p>
<p>第三步                    <code>anaconda-navigator --reset</code></p>
<p>第四步                    <code>conda update anaconda-client</code></p>
<p>第五步                    <code>conda update -f anaconda-client</code></p>
<h2 id="Jupyter-Book"><a href="#Jupyter-Book" class="headerlink" title="Jupyter Book"></a>Jupyter Book</h2><h3 id="使用技巧"><a href="#使用技巧" class="headerlink" title="使用技巧"></a>使用技巧</h3><p>端口 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">默认8888 值得一提的是如果同时开启jupyter book和jupyterlab需要小心端口冲突</span><br></pre></td></tr></table></figure>

<p>快捷键</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">快捷键这里不过多介绍，因为我本身就是远程到windows机器上 `等待补充`</span><br></pre></td></tr></table></figure>

<p>显示多行输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Jupyter Book默认只显示一行输出，要想显示多行输出,需要添加如下代码</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> IPython.core.interactiveshell <span class="keyword">import</span> InteractiveShell</span><br><span class="line">InteractiveShell.ast_node_interactivity = <span class="string">'all'</span></span><br></pre></td></tr></table></figure>

<p>简易命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">不必离开Jupyter笔记本来执行Shell命令，而是可以在命令开头使用感叹号(!)。例如，您可以安装软件包。</span><br><span class="line">!pip install matplotlib</span><br></pre></td></tr></table></figure>

<p>大量魔术命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">魔术命令（magic commands）是有助于提高生产率的特殊命令。您可能最熟悉下面的魔术命令，该命令让Notebook渲染Python Matplotlib创建的图表。</span><br><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">％pwd ＃打印当前工作目录</span><br><span class="line">％cd ＃更改工作目录</span><br><span class="line">％ls ＃显示当前目录中的内容</span><br><span class="line">％load [在此处插入Python文件名] ＃将代码加载到Jupyter Notebook</span><br><span class="line">％store [在此处插入变量]  ＃这使您可以传递Jupyter Notebooks之间的变量</span><br><span class="line">％who  ＃使用它列出所有变量</span><br><span class="line">%lsmagic # 查看完整的魔术命令列表</span><br></pre></td></tr></table></figure>

<p>记录单元格运行时间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br></pre></td></tr></table></figure>

<p>显示函数文档</p>
<p><code>shift + tab</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 在Jupyter Book里面查看这个Book后面的Python版本的命令</span><br><span class="line">import sys</span><br><span class="line">sys.version</span><br></pre></td></tr></table></figure>

<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><h3 id="python基础"><a href="#python基础" class="headerlink" title="python基础"></a>python基础</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 照例来个 Hello World 先</span></span><br><span class="line">print(<span class="string">"Hello, Jupyter Book"</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打印 Python 中的所有关键字</span></span><br><span class="line"><span class="keyword">import</span> keyword</span><br><span class="line">print(keyword.kwlist)</span><br></pre></td></tr></table></figure>

<p>[‘False’, ‘None’, ‘True’, ‘and’, ‘as’, ‘assert’, ‘async’, ‘await’, ‘break’, ‘class’, ‘continue’, ‘def’, ‘del’, ‘elif’, ‘else’, ‘except’, ‘finally’, ‘for’, ‘from’, ‘global’, ‘if’, ‘import’, ‘in’, ‘is’, ‘lambda’, ‘nonlocal’, ‘not’, ‘or’, ‘pass’, ‘raise’, ‘return’, ‘try’, ‘while’, ‘with’, ‘yield’]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 幂运算</span></span><br><span class="line"><span class="number">1.01</span> ** <span class="number">365</span></span><br><span class="line"><span class="comment"># 乘法运算符和字符串的混合使用</span></span><br><span class="line">print(<span class="string">'-------'</span> * <span class="number">10</span>)</span><br><span class="line"><span class="comment"># 除法运算</span></span><br><span class="line"><span class="number">10</span> / <span class="number">20</span></span><br><span class="line"><span class="comment"># 取整运算</span></span><br><span class="line"><span class="number">9</span> // <span class="number">2</span> <span class="comment"># 取整</span></span><br></pre></td></tr></table></figure>

<p>37.78343433288728</p>
<p><code>----------------------------------------------------------------------</code></p>
<p>0.5</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">多行注释</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">print(<span class="string">"多行注释"</span>)</span><br></pre></td></tr></table></figure>

<p><code>&#39;\n多行注释\n&#39;</code></p>
<p><code>多行注释</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按照是否是数字型类可以把python里面的类型分为两类，数字型和非数字型。</span></span><br><span class="line"><span class="comment"># 数字类型分为 int float bool complex(复数型)，非数字型分为 字符串、列表、元组、字典。（这四种非数字型类型其实都可以看为容器或者序列）</span></span><br><span class="line"><span class="comment"># 判定类型 python 3 取消了python 2里面的长整形的概念</span></span><br><span class="line">account = <span class="number">1101</span></span><br><span class="line">print(type(account))</span><br></pre></td></tr></table></figure>

<p><code>&lt;class &#39;int&#39;&gt;</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Bool 类型 参与计算 True 是 1， false 是 0</span></span><br><span class="line"><span class="comment"># input() 输入的总是String类型</span></span><br><span class="line">inputStr = input(<span class="string">"记录输入"</span>)</span><br></pre></td></tr></table></figure>

<p>记录输入 （内容 ）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python类型强制转换 强制把123字符串转换成了int</span></span><br><span class="line">type(int(<span class="string">"123"</span>))</span><br></pre></td></tr></table></figure>

<p>int</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式化字符串</span></span><br><span class="line"><span class="comment"># %s 字符串</span></span><br><span class="line">name = <span class="string">"demo"</span></span><br><span class="line">print(<span class="string">"我的名字叫 %s"</span> % name)</span><br><span class="line"><span class="comment"># %d 有符号十进制整数 %09d 的意思是如果没有get到9位的话，就用0补全，如果get到了 不进行别的多余操作</span></span><br><span class="line">num = <span class="number">1</span></span><br><span class="line">print(<span class="string">"学号是 %09d"</span> % num)</span><br><span class="line"><span class="comment"># %f 取舍同上 %.2f 的意思是取小数点后两位，没有的话0补全</span></span><br><span class="line">price = <span class="number">8.5</span></span><br><span class="line">weight = <span class="number">7.5</span></span><br><span class="line">money = price * weight</span><br><span class="line">print(<span class="string">"苹果单价 %.2f元/斤 ,购买了 %.3f斤，需要支付%.4f元"</span> % (price,weight,money))</span><br><span class="line">scale = <span class="number">0.8</span></span><br><span class="line">print(<span class="string">"数据比例是 %.2f%%"</span> % (scale * <span class="number">100</span>)) <span class="comment"># 此处内部的括号如果省略的话，是另一种效果 --&gt; 字符串 * 100</span></span><br></pre></td></tr></table></figure>

<p>我的名字叫 demo<br>学号是 000000001<br>苹果单价 8.50元/斤 ,购买了 7.500斤，需要支付63.7500元<br>数据比例是 80.00%</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断条件 没有括号 使用 and 和 or 作为逻辑判断连接符号 而不像Java里面的 &amp; 和 | 。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if not </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># elif =&gt; else if in Java</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多行if条件：</span></span><br><span class="line"><span class="comment"># if ((player == 1 and b == 2))</span></span><br><span class="line"><span class="comment">#      or (...)</span></span><br><span class="line"><span class="comment">#      or (...)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># break 和 continue</span></span><br><span class="line"><span class="comment"># break: 某一天剑满足时，退出循环，不再执行后续重复的代码</span></span><br><span class="line"><span class="comment"># continue: 某一条件满足时，不执行后续重复的代码</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 随机</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.randint(<span class="number">10</span>,<span class="number">20</span>) <span class="comment"># 10 &lt;= n &lt;= 20</span></span><br></pre></td></tr></table></figure>

<p>16</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 赋值运算符</span></span><br><span class="line"><span class="comment"># =     +=    -=    *=    /=    //=    %=    **=</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在控制台输出</span></span><br><span class="line"><span class="comment"># 1. 定义一个计数器变量，从数字1开始，循环会比较方便</span></span><br><span class="line">row = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.开始循环</span></span><br><span class="line"><span class="keyword">while</span> row &lt;= <span class="number">5</span>:</span><br><span class="line">    print(<span class="string">"*"</span> * row)</span><br><span class="line">    row += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print 详解</span></span><br><span class="line">print() <span class="comment"># &lt;=&gt; print("内容",end="换行符")</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*</span><br><span class="line">**</span><br><span class="line">***</span><br><span class="line">****</span><br><span class="line">*****</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 经典 99 乘法表</span></span><br><span class="line">row = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> row &lt;= <span class="number">9</span>:</span><br><span class="line">    col = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> col &lt;= row:</span><br><span class="line">        print(<span class="string">"%d * %d = %d"</span> % (col, row, col * row ), end = <span class="string">"\t"</span>)</span><br><span class="line">        col += <span class="number">1</span></span><br><span class="line">    row += <span class="number">1</span></span><br><span class="line">    print(<span class="string">""</span>)</span><br></pre></td></tr></table></figure>

<p>1 * 1 = 1<br>1 * 2 = 2    2 * 2 = 4<br>1 * 3 = 3    2 * 3 = 6    3 * 3 = 9<br>1 * 4 = 4    2 * 4 = 8    3 * 4 = 12    4 * 4 = 16<br>1 * 5 = 5    2 * 5 = 10    3 * 5 = 15    4 * 5 = 20    5 * 5 = 25<br>1 * 6 = 6    2 * 6 = 12    3 * 6 = 18    4 * 6 = 24    5 * 6 = 30    6 * 6 = 36<br>1 * 7 = 7    2 * 7 = 14    3 * 7 = 21    4 * 7 = 28    5 * 7 = 35    6 * 7 = 42    7 * 7 = 49<br>1 * 8 = 8    2 * 8 = 16    3 * 8 = 24    4 * 8 = 32    5 * 8 = 40    6 * 8 = 48    7 * 8 = 56    8 * 8 = 64<br>1 * 9 = 9    2 * 9 = 18    3 * 9 = 27    4 * 9 = 36    5 * 9 = 45    6 * 9 = 54    7 * 9 = 63    8 * 9 = 72    9 * 9 = 81    </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multiple_table</span><span class="params">()</span>:</span></span><br><span class="line">    row = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> row &lt;= <span class="number">9</span>:</span><br><span class="line">        col = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> col &lt;= row:</span><br><span class="line">            print(<span class="string">"%d * %d = %d"</span> % (col, row, col * row ), end = <span class="string">"\t"</span>)</span><br><span class="line">            col += <span class="number">1</span></span><br><span class="line">        row += <span class="number">1</span></span><br><span class="line">        print(<span class="string">""</span>)</span><br><span class="line">        </span><br><span class="line">multiple_table()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 函数注释的说明</span></span><br><span class="line"><span class="comment"># 1. 注释写在方法名下面  2. 方法的第一排要和上面最后一行有两行空白的距离 3.pycharm中，鼠标放在方法名上，Ctrl+Q就可以调出注释。</span></span><br></pre></td></tr></table></figure>

<p>1 * 1 = 1<br>1 * 2 = 2    2 * 2 = 4<br>1 * 3 = 3    2 * 3 = 6    3 * 3 = 9<br>1 * 4 = 4    2 * 4 = 8    3 * 4 = 12    4 * 4 = 16<br>1 * 5 = 5    2 * 5 = 10    3 * 5 = 15    4 * 5 = 20    5 * 5 = 25<br>1 * 6 = 6    2 * 6 = 12    3 * 6 = 18    4 * 6 = 24    5 * 6 = 30    6 * 6 = 36<br>1 * 7 = 7    2 * 7 = 14    3 * 7 = 21    4 * 7 = 28    5 * 7 = 35    6 * 7 = 42    7 * 7 = 49<br>1 * 8 = 8    2 * 8 = 16    3 * 8 = 24    4 * 8 = 32    5 * 8 = 40    6 * 8 = 48    7 * 8 = 56    8 * 8 = 64<br>1 * 9 = 9    2 * 9 = 18    3 * 9 = 27    4 * 9 = 36    5 * 9 = 45    6 * 9 = 54    7 * 9 = 63    8 * 9 = 72    9 * 9 = 81    </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 函数参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_2_num</span><span class="params">(num1,num2)</span>:</span></span><br><span class="line">    result = num1 + num2</span><br><span class="line">    print(<span class="string">"%d + %d = %d"</span> % (num1,num2,result))</span><br><span class="line"></span><br><span class="line">sum_2_num(<span class="number">50</span>,<span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<p>50 + 20 = 70</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pyc文件：python的编译后文件，浏览程序目录里面会有一个 __pycache__ 的目录，里面会有pyc为后缀的文件，就是编译后文件。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># List 是使用最频繁的数据类型，对应别的语言中的数组。</span></span><br><span class="line"><span class="comment"># 专门用于存储一串信息</span></span><br><span class="line"><span class="comment"># 列表用 [] 定义，数据之间使用 , 分隔</span></span><br><span class="line"><span class="comment"># 列表的索引从 0 开始  --&gt; index</span></span><br><span class="line"></span><br><span class="line">lname_list = []</span><br><span class="line"><span class="comment"># 增加</span></span><br><span class="line"><span class="comment"># 列表自带了很多的方法，</span></span><br><span class="line"><span class="comment"># 列表.insert(索引) 在指定位置插入数据</span></span><br><span class="line"><span class="comment"># 列表.append(数据) 在末尾追加数据</span></span><br><span class="line"><span class="comment"># 列表.extend(列表2) 将列表2 的数据追加到列岛</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改</span></span><br><span class="line"><span class="comment"># 列表[索引] = 数据 修改指定索引的数据</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除</span></span><br><span class="line"><span class="comment"># del 列表[索引] 删除指定索引的数据</span></span><br><span class="line"><span class="comment"># 列表.remove[数据] 删除第一个出现的指定数据</span></span><br><span class="line"><span class="comment"># 列表.pop 删除末尾数据</span></span><br><span class="line"><span class="comment"># 列表.pop(索引) 删除指定索引数据</span></span><br><span class="line"><span class="comment"># 列表.clear 清空列表</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计</span></span><br><span class="line"><span class="comment"># len(列表) 列表长度</span></span><br><span class="line"><span class="comment"># 列表.count(数据) 数据在列表中出现的次数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 排序</span></span><br><span class="line"><span class="comment"># 列表.sort() 生序排序</span></span><br><span class="line"><span class="comment"># 列表.sort(reverse=True) 降序排序</span></span><br><span class="line"><span class="comment"># 列表.reverse() 逆序、反转</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># List之遍历</span></span><br><span class="line"><span class="comment"># 类比 Java 里面的 foreach </span></span><br><span class="line"><span class="comment"># 语法形式：</span></span><br><span class="line"><span class="comment"># for 别名 in List:</span></span><br><span class="line"><span class="comment"># 理论上List是可以存储不同类型的数据的, 习惯上 使用元组保存不同类型的数据，使用List保存相同类型的数据</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 元组 Tuple</span></span><br><span class="line"><span class="comment"># 元组的元素不能修改</span></span><br><span class="line"><span class="comment"># 使用（）定义，索引从0开始</span></span><br><span class="line">info_tuple = (<span class="string">"zhangsan"</span>,<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 混淆点 定义只有一个变量的元组 需要加上一个逗号</span></span><br><span class="line">single_tuple = (<span class="number">5</span>)</span><br><span class="line">type(single_tuple)  <span class="comment">#int</span></span><br><span class="line">single_tuple = (<span class="number">5</span>,)</span><br><span class="line">type(single_tuple) <span class="comment"># tuple</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 但是如果是定义一个空的元祖的话，我们只需要定义一个括号即可</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式化字符串 % 后面的本质上就是一个元组， 使用元组来拼接一个新的字符串效果相同</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># List 和 Tuple 的转换 List(元组) 可以把元组转换成List，使用tuple(列表)可以把列表转换成元组</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字典 dictionary 使用 &#123;&#125; 定义，类似于 Map</span></span><br><span class="line"><span class="comment"># 字典无序 List有序    字典的key必须是不可变类型</span></span><br><span class="line"><span class="comment"># 值可以是任何数据类型，键只能使用字符串、数字或者元组</span></span><br><span class="line">xiaoming = &#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"小明"</span>,</span><br><span class="line">    <span class="string">"age"</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="string">"gender"</span>: <span class="literal">True</span>,</span><br><span class="line">    <span class="string">"height"</span>: <span class="number">1.75</span>,</span><br><span class="line">    <span class="string">"weight"</span>: <span class="number">75.6</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(xiaoming)</span><br><span class="line">print(xiaoming[<span class="string">"name"</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 增加 / 修改</span></span><br><span class="line">xiaoming[<span class="string">"age"</span>] = <span class="number">10</span>  <span class="comment"># 如果这个值得没有的话，就会新建</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除 pop</span></span><br><span class="line">xiaoming.pop(<span class="string">"age"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 合并字典 update</span></span><br><span class="line">zidian = &#123;<span class="string">"key"</span>: <span class="string">"value"</span>&#125;</span><br><span class="line">zidian.update(xiaoming)</span><br><span class="line">print(zidian)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清空 clear</span></span><br><span class="line">zidian.clear()</span><br><span class="line">print(zidian)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> xiaoming:</span><br><span class="line">    print(<span class="string">"%s - %s"</span> % (k, xiaoming[k]))</span><br></pre></td></tr></table></figure>

<p>{‘name’: ‘小明’, ‘age’: 18, ‘gender’: True, ‘height’: 1.75, ‘weight’: 75.6}<br>小明</p>
<p>10</p>
<p>{‘key’: ‘value’, ‘name’: ‘小明’, ‘gender’: True, ‘height’: 1.75, ‘weight’: 75.6}<br>{}<br>name - 小明<br>gender - True<br>height - 1.75<br>weight - 75.6</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串</span></span><br><span class="line"><span class="comment"># 单引号和双引号都能定义字符串 但是单引号不推荐</span></span><br><span class="line">str1 = <span class="string">"hello python"</span></span><br><span class="line">print(str1[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> str1:</span><br><span class="line">    print(k)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 统计长度</span></span><br><span class="line">print(len(str1))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计出现次数</span></span><br><span class="line">print(str1.count(<span class="string">"o"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 某个字符串出现的位置 (第一个字母出现的index)</span></span><br><span class="line">print(str1.index(<span class="string">"o"</span>))</span><br></pre></td></tr></table></figure>

<p>h<br>h<br>e<br>l<br>l<br>o</p>
<p>p<br>y<br>t<br>h<br>o<br>n<br>12<br>2<br>4</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串切片 List和tuple也能切片 字典不能切片</span></span><br><span class="line">num_str = <span class="string">"0123456789"</span></span><br><span class="line"></span><br><span class="line">num_str[<span class="number">2</span>:<span class="number">6</span>] <span class="comment"># index 2 - 5 含头不含尾 				   	'2345'</span></span><br><span class="line"></span><br><span class="line">num_str[<span class="number">2</span>:] <span class="comment"># index 2 到末尾								'23456789'</span></span><br><span class="line"></span><br><span class="line">num_str[:<span class="number">6</span>] <span class="comment"># 开始 -&gt; index 6 之前的所有char, 前6位			'012345'</span></span><br><span class="line"></span><br><span class="line">num_str[:] <span class="comment"># 全部		'0123456789'</span></span><br><span class="line"></span><br><span class="line">num_str[::<span class="number">2</span>] <span class="comment"># 从头开始 步长为1取值			'02468'</span></span><br><span class="line"></span><br><span class="line">num_str[<span class="number">1</span>::<span class="number">2</span>] <span class="comment"># 从index = 1 开始 步长为1取值			'13579'</span></span><br><span class="line"></span><br><span class="line">num_str[<span class="number">2</span>:<span class="number">-1</span>] <span class="comment"># 负数代表从后面往前			'2345678'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串逆序 *</span></span><br><span class="line">num_str[<span class="number">-1</span>::<span class="number">-1</span>]			<span class="comment"># '9876543210'</span></span><br><span class="line">num_str[::<span class="number">-1</span>]			<span class="comment"># '9876543210'</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 公共方法 </span></span><br><span class="line"><span class="comment"># len() # 容器内元素个数</span></span><br><span class="line"><span class="comment"># del() # del 有两种方式 还有一种是作为关键字</span></span><br><span class="line"><span class="comment"># max() # 返回容器中元素的最大值</span></span><br><span class="line"><span class="comment"># min() # 返回容器中元素的最小值</span></span><br><span class="line"><span class="comment"># cmp() # python 3 中取消了这个函数</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运算符在高级类型中的作用</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># + 合并 ： 字符串 列表 元组</span></span><br><span class="line"><span class="comment"># * 重复 ： 字符串 列表 元组</span></span><br><span class="line"><span class="comment"># in 判断是否存在: 字符串 列表 元组 字典</span></span><br><span class="line"><span class="comment"># not in 和上面对应</span></span><br><span class="line"><span class="comment"># &gt; &gt;= == &lt; &lt;= 元素比较 ：字符串 列表 元组</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 完整 for 循环</span></span><br><span class="line"><span class="comment"># 也就是 for 下面 跟了 一个 else ， 如果for循环没有被break打断就会执行else里面的内容，如果被break打断了 ，就不会执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用场景： 迭代遍历 所需要的数据类型，查找某个元素，如果存在，整体退出循环，如果不存在，在整体循环结束后，进行统一的操作。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python 查看内存地址</span></span><br><span class="line"><span class="comment"># id()</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可变和不可变类型</span></span><br><span class="line"><span class="comment"># 区分标准是 内存中的数据能否修改</span></span><br><span class="line"><span class="comment"># 可变类型只有两个就是 列表和字典 ，可变类型的数据变化是通过方法来实现的</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可变类型 被函数里面修改的时候（并不是创建新的内存使用，而是修改内存里面的数据），虽然是通过参数传入的，但是原值还是会被修改，不可变类型并不会</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 因为Python是解释型语言 所以在Python中原则上不允许直接修改全局变量的值，如果在函数中对全局变量进行复制操作的话，Python会自己创造一个局部变量</span></span><br><span class="line"><span class="comment"># 所以在这个地方对全局变量进行的修改操作时无效操作。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 但是，凡事无绝对，如果一定想要在函数里面修改全局变量的话，我们会在变量前面加上一个Global，这样就不会在函数中重新创建这个局部变量了。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 为了避免全局变量和局部变量在明明的时候出现混淆，一般来说习惯上会在全局变量命名的时候前缀加上一个g_或者gl_</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果函数返回的类型是元组，我们的小括号可以省略</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># return (temp, wetness)</span></span><br><span class="line"><span class="comment"># return temp, wetness  # 小括号可以省略</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python中特有的交换两个值的方式</span></span><br><span class="line">a = <span class="number">6</span></span><br><span class="line">b = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">a,b = (b,a)</span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 缺省参数 具有默认值的参数就叫做缺省参数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在函数里面定义形参的时候直接写 gender = True ，默认就是True的意思</span></span><br><span class="line">num_list = [<span class="number">7</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">9</span>]</span><br><span class="line"><span class="comment"># 默认就是升序排序，因为这种需求更多</span></span><br><span class="line">num_list.sort()</span><br><span class="line">print(num_list)  <span class="comment"># 4,5,7,9</span></span><br><span class="line"><span class="comment"># 只有当降序排序时，才需要传递reverse参数</span></span><br><span class="line">num_list.sort(reverse=<span class="literal">True</span>)</span><br><span class="line">print(num_list)  <span class="comment"># 9,7,5,4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 缺省参数后面不能再跟参数</span></span><br></pre></td></tr></table></figure>

<p>case：</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207282238360.png" alt="image-20220728223807310"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多值参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo</span><span class="params">(num, *nums, **numss)</span>:</span></span><br><span class="line">    print(num)</span><br><span class="line">    print(nums)</span><br><span class="line">    print(numss)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 习惯上 多值参数里面，我们使用*args表示元组，使用*kwargs表示键值对参数</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">demo(1,2,3,4, age=18)</span><br></pre></td></tr></table></figure>

<p>1<br>(2, 3, 4)<br>{‘age’: 18}</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拆包 字典和元组作为参数传进参数的时候会变成一个整体传入，我们为了拆解这个参数，在传入参数的时候，根据他们的类型在前面 添加一个 * 或者两个 *</span></span><br><span class="line"></span><br><span class="line">run(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(a,*args)</span>:</span></span><br><span class="line">    <span class="comment">#第一个参数传给了a</span></span><br><span class="line">    print(a) <span class="comment"># 1</span></span><br><span class="line">    <span class="comment"># args是一个元组，里面是2和3两个参数</span></span><br><span class="line">    print(args) <span class="comment"># (2,3)</span></span><br><span class="line">    <span class="comment"># *args是将这个元组中的元素依次取出来</span></span><br><span class="line">    print(<span class="string">"对args拆包"</span>)</span><br><span class="line">    print(*args) <span class="comment"># *args 相当于 a,b = args 结果是 2 3</span></span><br><span class="line">    print(<span class="string">"将未拆包的数据传给run1"</span>)</span><br><span class="line">    run1(args) <span class="comment"># 输出元组 ((2,3),) 对元组进行拆包 (2,3)</span></span><br><span class="line">    print(<span class="string">"将拆包后的数据传给run1"</span>)</span><br><span class="line">    run1(*args) <span class="comment"># 输出元组 (2,3) 对元组进行拆包  2 3</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run1</span><span class="params">(*args)</span>:</span></span><br><span class="line">    print(<span class="string">"输出元组"</span>)</span><br><span class="line">    print(args)</span><br><span class="line">    print(<span class="string">"对元组进行拆包"</span>)</span><br><span class="line">    print(*args)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 我对装包，拆包的理解是 参数中的*/**是装包，在函数内部使用这个*的意思就是拆包</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(**kwargs)</span>:</span><span class="comment">#传来的 key = value 类型的实参会映射成kwargs里面的键和值</span></span><br><span class="line">       <span class="comment"># kwargs是一个字典，将未命名参数以键值对的形式</span></span><br><span class="line">       print(kwargs)</span><br><span class="line">       print(<span class="string">"对kwargs拆包"</span>)</span><br><span class="line">       <span class="comment">#  此处可以把**kwargs理解成对字典进行了拆包，&#123;"a":1,"b":2&#125;的kwargs字典又</span></span><br><span class="line">       <span class="comment"># 被拆成了a=1,b=2传递给run1,但是**kwargs是不能像之前*args那样被打印出来看的</span></span><br><span class="line">       run1(**kwargs)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run1</span><span class="params">(a,b)</span>:</span> <span class="comment">#此处的参数名一定要和字典的键的名称一致</span></span><br><span class="line">      print(a,b)</span><br><span class="line"> </span><br><span class="line">run(a=<span class="number">1</span>,b=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>{‘a’: 1, ‘b’: 2}<br>对kwargs拆包<br>1 2</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># OOP 面向对象</span></span><br><span class="line"><span class="comment"># 通用方法：dir(对象) 能够把对象里面所有能调用的方法都调用出来</span></span><br><span class="line"><span class="comment"># 添加属性 Python特有的方法，先把对象创建出来，然后直接使用 .属性名 就可以为这个对象添加新的属性，这种方式虽然简单，但是是不推荐的。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对象初始化</span></span><br><span class="line"><span class="comment"># 当使用类名创建对象时，会自动执行以下操作</span></span><br><span class="line"><span class="comment"># 1. 为对象在内存中分配空间 -- 创建对象</span></span><br><span class="line"><span class="comment"># 2.为对象的属性设置初始值 -- 初始化方法 int</span></span><br><span class="line"><span class="comment"># 这个初始化方法就是 __intit__方法 ，是对象的内置方法</span></span><br><span class="line"><span class="comment"># __init__方法是专门用来定义一个类有哪些属性的方法</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">__init__方法是专门用来定义一个类具有哪些属性的</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 设置默认值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, new_name)</span>:</span></span><br><span class="line">        print(<span class="string">"初始化"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 属性</span></span><br><span class="line">        self.name = new_name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"%s 爱吃鱼"</span> % self.name)</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># __del__</span></span><br><span class="line">    <span class="comment"># 对象被销毁前执行的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"%s 我去了"</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 必须返回字符串 类似于Java的toString方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># print("我是小猫 %s" % self.name) 错误示例</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"我是小猫 %s"</span> % self.name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用类名()创建对象的时候，会自动调用初始化方法__init__</span></span><br><span class="line">tom = Cat(<span class="string">"TomDemo"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以用__init__方法内部使用self.属性名 = 属性的初始化值 就可以定义属性</span></span><br><span class="line"><span class="comment"># 定义属性之后，再使用Cat类创建的对象，都会拥有该属性</span></span><br><span class="line">print(tom.name)</span><br><span class="line">tom.eat()</span><br><span class="line"></span><br><span class="line"><span class="comment"># del 销毁是在一个python文件即将运行到结尾的时候</span></span><br><span class="line">print(tom)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Python 能够自动的将一堆括号内部的代码链接在一起</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行结果里面的del方法的位置我完全没有看懂，这个坑以后再填，花了点时间没有整明白</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">身份运算符</span></span><br><span class="line"><span class="string">is      is是判断两个标示符是不是引用同一个对象</span></span><br><span class="line"><span class="string">is not  is not 是判断两个表示服是不是引用不用对象</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">is 与 == 的区别</span></span><br><span class="line"><span class="string">is用于判断两个变量引用对象是否为同一个</span></span><br><span class="line"><span class="string">==用于判断引用变量的值是否相等</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<p>初始化<br>TomDemo 我去了<br>TomDemo<br>TomDemo 爱吃鱼<br>我是小猫 TomDemo</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 封装 继承 多态</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 继承</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"吃"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drink</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"喝"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"跑"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"睡"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wangcai = Animal()</span><br><span class="line"></span><br><span class="line">wangcai.eat() <span class="comment">#吃</span></span><br><span class="line">wangcai.drink() <span class="comment">#喝</span></span><br><span class="line">wangcai.run() <span class="comment">#跑</span></span><br><span class="line">wangcai.sleep() <span class="comment">#睡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 子类拥有父类的所有方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(Animal)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bark</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"汪汪叫"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wangwang = Dog()</span><br><span class="line"></span><br><span class="line">wangwang.eat() <span class="comment">#吃</span></span><br><span class="line">wangwang.drink() <span class="comment">#喝</span></span><br><span class="line">wangwang.run() <span class="comment">#跑</span></span><br><span class="line">wangwang.sleep() <span class="comment">#睡</span></span><br><span class="line">wangwang.bark() <span class="comment">#汪汪叫</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XiaoTianQuan</span><span class="params">(Dog)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fly</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"我会飞"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bark</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">        print(<span class="string">"我是啸天犬"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 调用父类的bark方法</span></span><br><span class="line">        super().bark()</span><br><span class="line">        <span class="comment"># Python2.0 如果要实现上面的功能，有点复杂 代码如下</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Dog.bark(self)</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        print(<span class="string">"aafsdwaerwgybds"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 有没有括号 对Python来说 说法很大</span></span><br><span class="line">xtq = XiaoTianQuan()</span><br><span class="line">xtq.bark() <span class="comment">#我是哮天犬 汪汪叫</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="comment"># 属性在init方法中定义 使用__(两个下划线)定义的属性是私有属性，无法被子类访问</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.num1 = <span class="number">100</span></span><br><span class="line">        self.__num2 = <span class="number">200</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__test</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"私有方法 %d %d"</span> % (self.num1, self.__num2))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span><span class="params">(A)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">demo</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 在子类的对象方法中不能访问父类的私有属性和方法</span></span><br><span class="line">        <span class="comment"># 但是可以通过调用父类的共有方法间接调用父类的公有属性和方法</span></span><br><span class="line">        print(<span class="string">"访问父类的私有属性 %d"</span> % self.__num2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">b = B() <span class="comment"># &lt;__main__.B object at 0x0000020EA7593BE0&gt;</span></span><br><span class="line">print(b)</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">在外界不能直接访问对象的私有属性，调用方法</span></span><br><span class="line"><span class="string">print(b.__num2)</span></span><br><span class="line"><span class="string">b.__test()</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">print(b.num1) <span class="comment">#100</span></span><br><span class="line">b.demo() <span class="comment"># 'B' object has no attribute '_B__num2'</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多继承</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"test 方法"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">demo</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"demo 方法"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多继承</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">E</span><span class="params">(C, D)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建子类对象</span></span><br><span class="line">e = E()</span><br><span class="line">e.test() </span><br><span class="line">e.demo()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 应该避免两个父类汇总存在同名的属性和方法</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">python中多继承两个父类出现相同的方法 属性名的时候</span></span><br><span class="line"><span class="string">使用MRO选择执行顺序的</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">print(E.__mro__) </span><br><span class="line"><span class="comment"># (&lt;class '__main__.E'&gt;, &lt;class '__main__.C'&gt;, &lt;class '__main__.D'&gt;, &lt;class 'object'&gt;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">新式类 以Object为基类的对象</span></span><br><span class="line"><span class="string">旧式类 不以Object为基类的对象</span></span><br><span class="line"><span class="string">两者在多继承时 会影响到方法的搜索顺序</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<p>test 方法<br>demo 方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 私有属性 / 方法</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Woman</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.__age = <span class="number">18</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">secret</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"%s 的年龄是 %d"</span> %</span><br><span class="line">              (self.name,</span><br><span class="line">               self.__age))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">xiaofang = Woman(<span class="string">"小芳"</span>)</span><br><span class="line"><span class="comment"># 私有属性不能直接调用 但是Python中没有真正的私有属性和方法 可以使用下面第二行的代码调用</span></span><br><span class="line">print(xiaofang.__age) <span class="comment"># 报错，因为不能直接调用</span></span><br><span class="line">print(xiaofang._Woman__age) <span class="comment"># 18</span></span><br><span class="line">xiaofang.secret() <span class="comment"># 小芳 的年龄是 18</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多态</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 类的结构</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">__init__ 为对象初始化</span></span><br><span class="line"><span class="string">实例方法(self)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">类对象     模版 只有一个</span></span><br><span class="line"><span class="string">实例对象    可以有很多个</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 类方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tool</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">        Tool.count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_tool_count</span><span class="params">(cls)</span>:</span></span><br><span class="line"></span><br><span class="line">        print(<span class="string">"工具对象的数量 %d"</span> % cls.count)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建工具对象</span></span><br><span class="line">tool1 = Tool(<span class="string">"斧头"</span>)</span><br><span class="line">tool2 = Tool(<span class="string">"榔头"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用类方法</span></span><br><span class="line">Tool.show_tool_count() <span class="comment"># 工具对象的数量 2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单例</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">python 中的self和cls一句话描述：self是类（Class）实例化对象，cls就是类（或子类）本身，取决于调用的是那个类。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">__new__</span></span><br><span class="line"><span class="string">为对象分配空间</span></span><br><span class="line"><span class="string">返回对象的引用</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">python获得了对象的引用后，将引用作为第一个参数，传递给__init__方法</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">重写__new__方法的代码非常固定 如下</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MusicPlayer</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span><span class="params">(cls, *args, **kwargs)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建对象时，new方法会被自动调用</span></span><br><span class="line">        print(<span class="string">"创建对象，分配空间"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 为对象分配空间</span></span><br><span class="line">        instance = super().__new__(cls)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 返回对象的引用</span></span><br><span class="line">        <span class="keyword">return</span> instance</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"播放器初始化"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">player = MusicPlayer()</span><br><span class="line">print(player) <span class="comment"># 每次都指向内存中不同的位置</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">    单例：让类创建的对象，在系统中只哦与唯一的一个实例</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">print(<span class="string">"--------完整单例-------"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingleMusicPlayer</span><span class="params">(object)</span>:</span></span><br><span class="line">    instance = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    init_flag = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span><span class="params">(cls, *args, **kwargs)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 1 判断类属性是否是空对象</span></span><br><span class="line">        <span class="keyword">if</span> cls.instance <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="comment"># 2 调用父类方法，为第一个对象分配空间</span></span><br><span class="line">            cls.instance = super().__new__(cls)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 返回类属性保存的对象引用</span></span><br><span class="line">        <span class="keyword">return</span> cls.instance</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 1 判断是否执行过初始化动作</span></span><br><span class="line">        <span class="keyword">if</span> SingleMusicPlayer.init_flag:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 如果没有初始化过</span></span><br><span class="line">        print(<span class="string">"初始化播放器"</span>)</span><br><span class="line"></span><br><span class="line">        SingleMusicPlayer.init_flag = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">player1 = SingleMusicPlayer()</span><br><span class="line">print(player1)</span><br><span class="line"></span><br><span class="line">player2 = SingleMusicPlayer()</span><br><span class="line">print(player2) <span class="comment"># 和上面相同的地址</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 异常</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">try:</span></span><br><span class="line"><span class="string">    尝试执行的代码</span></span><br><span class="line"><span class="string">except:</span></span><br><span class="line"><span class="string">    出现错误的处理</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    num = int(input(<span class="string">"请输入一个整数："</span>))</span><br><span class="line"></span><br><span class="line">    result = <span class="number">8</span> / num</span><br><span class="line"></span><br><span class="line">    print(result)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">    <span class="comment"># 错误的处理代码</span></span><br><span class="line">    print(<span class="string">"请输入正确的整数"</span>)</span><br><span class="line"><span class="keyword">except</span> ValueError:</span><br><span class="line">    print(<span class="string">"请输入正确的整数"</span>)</span><br><span class="line"><span class="comment">#     捕获未知错误</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> result:</span><br><span class="line">    print(<span class="string">"未知错误 %s"</span> % result)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># 没有异常的时候才会执行的,这个else出现的位置和Java并不是一脉相承的，他这个else针对的是except</span></span><br><span class="line">    print(<span class="string">"尝试成功"</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="comment"># 总是会执行的代码</span></span><br><span class="line">    print(<span class="string">"总是会执行"</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"-"</span> * <span class="number">50</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">异常的传递</span></span><br><span class="line"><span class="string">python 会把异常一直向上传递</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> int(input(<span class="string">"输入整数："</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo2</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> demo1()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(demo2())</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">ValueError                                Traceback (most recent call last)</span></span><br><span class="line"><span class="string">Input In [2], in &lt;cell line: 47&gt;()</span></span><br><span class="line"><span class="string">     43 def demo2():</span></span><br><span class="line"><span class="string">     44     return demo1()</span></span><br><span class="line"><span class="string">---&gt; 47 print(demo2())</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Input In [2], in demo2()</span></span><br><span class="line"><span class="string">     43 def demo2():</span></span><br><span class="line"><span class="string">---&gt; 44     return demo1()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Input In [2], in demo1()</span></span><br><span class="line"><span class="string">     39 def demo1():</span></span><br><span class="line"><span class="string">---&gt; 40     return int(input("输入整数："))</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ValueError: invalid literal for int() with base 10: 'dsf'</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">from package import sth</span></span><br><span class="line"><span class="string">from package import *</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 所有倒入的模块 没有缩进的部分都会被执行一次</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">__name__的用法</span></span><br><span class="line"><span class="string">如果需要测试模块 就增加一个条件判断</span></span><br><span class="line"><span class="string">这样增加了判断之后，在作为被包倒入的时候 下面的代码不会执行</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">模版</span></span><br><span class="line"><span class="string"># 导入模块</span></span><br><span class="line"><span class="string"># 定义全局变量</span></span><br><span class="line"><span class="string"># 定义类</span></span><br><span class="line"><span class="string"># 定义函数</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">def main():</span></span><br><span class="line"><span class="string">    # ...</span></span><br><span class="line"><span class="string">    pass</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string"># 根据__name__判断是否执行下方代码</span></span><br><span class="line"><span class="string">if __name__ == "__main__"</span></span><br><span class="line"><span class="string">    main()</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Package</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">包是一个包含多个模块的特殊目录</span></span><br><span class="line"><span class="string">目录下有一个特殊的文件 __init__.py</span></span><br><span class="line"><span class="string">包名的命名方式和变量名一直，小写字母+_</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">好处</span></span><br><span class="line"><span class="string">使用import 包名 可以一次性倒入包中所有的模块</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">在__init__.py文件中用</span></span><br><span class="line"><span class="string">from . import 模块名</span></span><br><span class="line"><span class="string">制定外部文件需要倒入的模块</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 发布</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">发布模块</span></span><br><span class="line"><span class="string">三步</span></span><br><span class="line"><span class="string">1. 创建setup.py</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">发布</span></span><br><span class="line"><span class="string">固定模版：</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">from distutils.core import setup</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 多值的字典参数，setup是一个函数</span></span><br><span class="line"><span class="string">setup(name="Hello",  # 包名</span></span><br><span class="line"><span class="string">      version="1.0",  # 版本</span></span><br><span class="line"><span class="string">      description="a simple example",  # 描述信息</span></span><br><span class="line"><span class="string">      long_description="简单的模块发布例子",  # 完整描述信息</span></span><br><span class="line"><span class="string">      author="FlyHugh",  # 作者</span></span><br><span class="line"><span class="string">      author_email="flyhobo@live.com",  # 作者邮箱</span></span><br><span class="line"><span class="string">      url="flymetothemars.github.io",  # 主页</span></span><br><span class="line"><span class="string">      py_modules=["hello.request",</span></span><br><span class="line"><span class="string">                  "hello.response"])  # 记录包中包中包含的所有模块</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">第二步</span></span><br><span class="line"><span class="string">构建</span></span><br><span class="line"><span class="string">python3 setup.py build</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">第三步</span></span><br><span class="line"><span class="string">python3 setup.py sdist</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">安装</span></span><br><span class="line"><span class="string">tar zxvf 解压</span></span><br><span class="line"><span class="string">sudo python3 setup.py install</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">然后打开python3运行即可</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># File</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python 文件指针</span></span><br><span class="line"><span class="comment"># 文件指针标记从哪个位置开始读取数据，第一次打开文件时，通常文件指针会指向文件的开始位置</span></span><br><span class="line"><span class="comment"># 当执行了 read 方法后，文件指针对移动到 读取内容的末尾</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 也就是说 </span></span><br><span class="line"><span class="comment"># 第一次读取了之后，文件指针移动到了文件末尾，再次调用不会读取到任何内容</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># f = open("文件名","访问方式")</span></span><br><span class="line"><span class="comment"># r w a r+ w+ a+ 具体见百度</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">python操作文件</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">open 打开文件 返回文件对象</span></span><br><span class="line"><span class="string">read 文件内容读取到内存</span></span><br><span class="line"><span class="string">write 将内容写入文件</span></span><br><span class="line"><span class="string">close 关闭文件</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">文件指针</span></span><br><span class="line"><span class="string">open()方法有两个参数 第二个参数制定的是打开的方式</span></span><br><span class="line"><span class="string">存在r w a r+ w+ a+这些方式 用str格式传入</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">readline 按行读取</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">小文件复制</span></span><br><span class="line"><span class="string">file_read = open("README")</span></span><br><span class="line"><span class="string">file_write = open("README[复件]","w")</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">text = file_read.read()</span></span><br><span class="line"><span class="string">file_write.write(text)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">file_read.close()</span></span><br><span class="line"><span class="string">file_write.close()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">复制大文件 用readline</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">倒入 import os</span></span><br><span class="line"><span class="string">rename 重命名</span></span><br><span class="line"><span class="string">remove 删除</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">listdir 目录列表</span></span><br><span class="line"><span class="string">mkdir 创建目录</span></span><br><span class="line"><span class="string">rmdir 删除目录</span></span><br><span class="line"><span class="string">getcwd 获取当前目录</span></span><br><span class="line"><span class="string">chdir 修改工作目录</span></span><br><span class="line"><span class="string">path.isdir 判断是否是文件</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">python2.x 默认ASCII编码</span></span><br><span class="line"><span class="string">    python2 使用 </span></span><br><span class="line"><span class="string">    # *-* coding:utf-8 *-*</span></span><br><span class="line"><span class="string">    来指定编码格式</span></span><br><span class="line"><span class="string">python3.x 默认使用UTF-8</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># eval 函数 -- 将字符串当成有效的表达式 来求值 并 返回计算结果</span></span><br></pre></td></tr></table></figure>

<h3 id="python包"><a href="#python包" class="headerlink" title="python包"></a>python包</h3><p>众所周知，pyhton之所以能够流行火爆起来，他的各种开箱即用的工具包是一个很大的原因，我这里会把我能接触到的各种工具包陆陆续续的填上来。</p>
<p><strong>pdf2pptx</strong></p>
<p>用来把pdf转换成pptx的一个工具，会把每次做成一个单独的pptx，我唯一注意到的一个问题是，低一点的python版本可能不支持（大概3.6）3.8是随便能够安装使用的。</p>
<p>使用的时候命令也很简单<code>pdf2pptx demo.pdf</code>即可，文件最后会存放在同目录中。</p>
<h3 id="Python随机随到的一些问题，那你妈逼随机就这么容易随到的啊"><a href="#Python随机随到的一些问题，那你妈逼随机就这么容易随到的啊" class="headerlink" title="Python随机随到的一些问题，那你妈逼随机就这么容易随到的啊"></a>Python随机随到的一些问题，那你妈逼随机就这么容易随到的啊</h3><h4 id="anaconda代理问题"><a href="#anaconda代理问题" class="headerlink" title="anaconda代理问题"></a>anaconda代理问题</h4><p>设置代理的方法：找到位置在path-for-install目录下<code>.condarc</code>文件,添加Http和Https的代理，这里默认本地cfw</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proxy_servers:</span><br><span class="line">  http: http://127.0.0.1:7890</span><br><span class="line">  https: http://127.0.0.1:7890</span><br></pre></td></tr></table></figure>

<p>如果有密码的话</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proxy_servers:</span><br><span class="line">    http: http://user:password@xxxx:8080</span><br><span class="line">    https: https://user:password@xxxx:8080</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anaconda 并不能被Clash4Windows在Tun模式下代理，虽然不知道原因(后续知道了会在这补上)，anaconda只能在配置了proxy之后才能被代理流量</span><br></pre></td></tr></table></figure>

<h4 id="python和Clash4windows的冲突问题"><a href="#python和Clash4windows的冲突问题" class="headerlink" title="python和Clash4windows的冲突问题"></a>python和Clash4windows的冲突问题</h4><p>现象: 和pip有关的几乎一切指令都会报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">WARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by &apos;ProxyError(&apos;Cannot connect to proxy.&apos;, OSError(0, &apos;Error&apos;))&apos;: /simple</span><br><span class="line">/gitpython/</span><br><span class="line">WARNING: Retrying (Retry(total=3, connect=None, read=None, redirect=None, status=None)) after connection broken by &apos;ProxyError(&apos;Cannot connect to proxy.&apos;, OSError(0, &apos;Error&apos;))&apos;: /simple</span><br><span class="line">/gitpython/</span><br></pre></td></tr></table></figure>

<p>ts：</p>
<p>遇到这种问题那肯定是直接debug走起，首先用文本搜索到抛这个错的函数，然后在嫌疑语句上都打上断，我们就能找到罪魁祸首：</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272251191.png" alt="image-20220727225126154"></p>
<p>同时发现windwos中原生的python环境并没有这个问题，于是和venv外没问题的老版pip一比较，很容易就能发现不对劲：选中的那两行在老版是不存在的</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272255356.png" alt="image-20220727225518321"></p>
<p>有了这个额外信息，我们很容易就能找到这个 <a href="https://github.com/pypa/pip/issues/9190" target="_blank" rel="noopener">Support for web proxies is broken in pip 20.3 · Issue #9190 · pypa/pip (github.com)</a> 来说明问题，2016年底，curl加入了这个把https协议前缀另加解释与定义的联盟：<a href="https://daniel.haxx.se/blog/2016/11/26/https-proxy-with-curl/" target="_blank" rel="noopener">HTTPS proxy with curl | daniel.haxx.se</a>，而urllib3显然也跟上了这个脚步：</p>
<p>因为前缀设置了 <code>tls_in_tls_required</code> 之后，urllib3会企图把这个代理服务器看作一个套了tls的http CONNECT代理。<br>但是问题是，我并没有设置 <code>https://</code> 前缀的代理服务器，这个行为是什么神奇的情况呢？<br>继续向下追，找到如何获取代理的：</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272257907.png" alt="image-20220727225732878"></p>
<p>确实，env里面没有proxy，那按照windows的习俗找找注册表也情有可原对吧？<br>这个函数的内部实现是这样：</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272258043.png" alt="image-20220727225820001"></p>
<p>看红框的行为是不是好像很眼熟？IE的代理设置似乎就是这样的？</p>
<p>不，并不是一样的，因为IE的代理设置把HTTPS（在<code>zh-MS</code>方言里叫安全）代理定义为支持 <code>CONNECT</code> 动词的HTTP代理，尽管很久以来人们都是这样用的，但是当它前面出现一个协议前缀的时候就不一样了。</p>
<p>因为clash for windows打开系统代理的代理配置看起来并没有写明了protocol：</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272304641.png" alt="image-20220727230459589"></p>
<p>所以首先，<strong>我们的py会根据IE时代的约定俗成把这样一个没有指明protocol的proxy url自动补全三种协议</strong>，<strong>然后再按照约定俗成的行为为https请求使用https_proxy</strong>，<strong>最后在一个http代理上试图开tls</strong>。</p>
<p>这个配置在IE时代行为会是正常的，在现代的库中行为也是正常的，但是对于这样一个混杂了两种行为的库，模糊不清就成了问题。<br>上面的截图并不是urllib3的，而是 属于py自己的标准库urllib的，也算是urllib3开发人员的思想和urllib的历史遗留实现冲突了吧。</p>
<p>似乎此问题在新版Python中的报错信息会变成 <code>There was a problem confirming the ssl certificate: HTTPSConnection Pool(host=&#39;pypi.org&#39;, port=443): Max retries exceeded with url: /simple/plotly/ (Caused by SSLError(SSLEOFError(8, &#39;EOF  occurred in violation of protocol (_ssl.c:1123)&#39;)))</code> 或者类似的错误。</p>
<p>在后续的版本更新中，CFW解决了Specify Protocol解决了部分此问题，但是解决的并不是很好，启用Specify Protocol会导致只设置http代理，https无代理。</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272315756.png" alt="image-20220727231553719"></p>
<p>可以看到如果只是单纯地把注册表项的内容由 <code>127.0.0.1:7890</code>改为<code>http://127.0.0.1:7890</code>的话，urllib只会返回一个只有一个key也就是<code>http</code>的代理dict。<br>这时候从pip的请求调用链往上找，可以看到负责决定使用这个dict中那个代理的代码是 <code>requests/utils.py</code>的<code>select_proxy</code>函数：</p>
<p>因为红框中的部分的限制，当你请求<code>https://pypi.org</code>的时候，只有key为<code>https</code>/<code>https://pypi.org</code>/<code>all</code>/<code>all://pypi.org</code>的代理会被使用，上面那个<code>http</code>的代理自然也就不会被使用。<br>BTW，因为这个代码是requests库的，这也就意味着在Windows平台上Clash for Windows的系统代理不会影响到大部分py应用的http请求。<br>而正确的做法是什么呢？让我们在IE中设置上代理，然后看一看它给出的行为：</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272318518.png" alt="image-20220727231825488"></p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202207272318059.png" alt="image-20220727231841031"></p>
<p>同时，因为urllib中还存在代理的类型推测代码，所以正确的设置应该是：<br><code>http=http://127.0.0.1:7890;https=http://127.0.0.1:7891</code></p>
<h4 id="python和解释性语言"><a href="#python和解释性语言" class="headerlink" title="python和解释性语言"></a>python和解释性语言</h4><p><a href="https://blog.csdn.net/balabalamerobert/article/details/1649490" target="_blank" rel="noopener">https://blog.csdn.net/balabalamerobert/article/details/1649490</a></p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><p>诞生时间：javascript 诞生于 1995年</p>
<p>诞生目的：处理服务器端语言负责的一些输入验证操作</p>
<p>javascript组成部分：ECMAScript（核心） DOM (文档对象模型) BOM（浏览器对象模型）</p>
<h4 id="简介-amp-基本概念"><a href="#简介-amp-基本概念" class="headerlink" title="简介 &amp; 基本概念"></a>简介 &amp; 基本概念</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;元素</span><br><span class="line">属性(参数)：</span><br><span class="line">async：可选。表示应该立即下载脚本，但不妨碍页面中的其他操作。只对外部文件有效</span><br><span class="line">charset：可选。通过src属性指定代码的字符集。大部分浏览器都会忽略他的值，很少有人用</span><br><span class="line">defer:可选。表示脚本可以延迟到文档完全被解析和显示之后再执行。只对外部脚本有效</span><br><span class="line">language:已废弃。原来用于表示编写代码的脚本语言</span><br><span class="line">src:可选。表示包含要执行的外部文件</span><br><span class="line">type:可选。可以看成是language的替代属性 虽然text/javascript 和 text/ecmascript都不</span><br><span class="line">推荐使用，但大部分开发者依然使用。默认值为text/javascript</span><br><span class="line"></span><br><span class="line">注意事项</span><br><span class="line">在使用&lt;script&gt;嵌入javascript代码时，不要在代码中任何地方出现&lt;/script&gt;字符串</span><br><span class="line">如果要使用要通过转义字符&quot;/&quot; 可以解决</span><br><span class="line"></span><br><span class="line">&lt;noscript&gt;元素</span><br><span class="line">触发条件</span><br><span class="line">浏览器不支持脚本</span><br><span class="line">浏览器支持脚本，但脚本被禁用</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">语法</span><br><span class="line">ECMAScript的语法大量借鉴了C及其他类C语言的语法</span><br><span class="line"></span><br><span class="line">严格区分大小写</span><br><span class="line">标识符</span><br><span class="line">第一个字符必须是一个字母、下划线或一个美元符号</span><br><span class="line">其他字符可以是字母、下划线、美元符号或数字</span><br><span class="line"></span><br><span class="line">数据类型</span><br><span class="line">undefined 只有一个值就是undefined。在使用变量但未对其加以初始化时，</span><br><span class="line">这个变量的值就是undefined</span><br><span class="line"></span><br><span class="line">null 从逻辑角度来看，null值表示一个空对象指针，这也是typeof操作符</span><br><span class="line">检测null时会返回Object的原因，如果定义的变量将用于保存对象，那么最好</span><br><span class="line">将该变量初始化为null而不是其他值</span><br><span class="line"></span><br><span class="line">boolean</span><br><span class="line">number</span><br><span class="line">string</span><br><span class="line">object</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// typeof 操作符</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="string">'bbb'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> func = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>) <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>) <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">true</span>) <span class="comment">// boolean</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="number">0</span>) <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="string">'aaa'</span>) <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> arr) <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj) <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> func) <span class="comment">// function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'____________________________'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 很明显typeof不能判断 null array object</span></span><br><span class="line"><span class="comment">* 常用判断方法 使用下面的判断方法可以详细的判断种类</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">type</span>(<span class="params">any</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(any).slice(<span class="number">8</span>, <span class="number">-1</span>).toLocaleLowerCase()</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(type(<span class="literal">undefined</span>)) <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(type(<span class="literal">null</span>)) <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(type(<span class="literal">true</span>)) <span class="comment">// boolean</span></span><br><span class="line"><span class="built_in">console</span>.log(type(<span class="number">0</span>)) <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(type(<span class="string">'aaa'</span>)) <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(type(arr)) <span class="comment">// array</span></span><br><span class="line"><span class="built_in">console</span>.log(type(obj)) <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(type(func)) <span class="comment">// function</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">* object的通用属性和方法</span><br><span class="line">* construct:保存着用于创建当前对象的函数</span><br><span class="line">* hasOwnProperty(propertyName):用于检查给定属性在当前对象实例中（而不是</span><br><span class="line">* 在实例的原型中）是否存在。其中作为参数的属性名（propertyName）必须以字</span><br><span class="line">* 符串形式指定</span><br><span class="line">* isPrototypeOf(object):用于检查传入的对象是否是传入对象的原型</span><br><span class="line">* propertyIsEnumerable(propertyName):用于检查给定的属性是否能够使用for-in</span><br><span class="line">* 语句来枚举</span><br><span class="line">* toLocaleString(): 返回对象字符串表示，改字符串与执行环境的地区对应</span><br><span class="line">* toString() 返回对象字符串表示</span><br><span class="line">* valueOf():返回对象字符串、数值或布尔表示。通常与toString()方法的返回值相同</span><br><span class="line">* */</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本类型和引用类型的值</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 基本类型值：简单的数据段（undefined null Boolean number String）</span></span><br><span class="line"><span class="comment">* 引用类型值：由多个值构成的对象（object array function）</span></span><br><span class="line"><span class="comment">* 引用类型的值是保存在内存中的对象。与其他语言不同，javascript不容许</span></span><br><span class="line"><span class="comment">* 直接访问内存中的位置，也就是说不能直接操作对象的内存空间。在操作对象</span></span><br><span class="line"><span class="comment">* 时，实际上是在操作对象的引用而不是实际的对象。为此，引用类型的值是</span></span><br><span class="line"><span class="comment">* 按引用访问的。</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 复制变量的值</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 复制基本类型的值是相互独立的互不影响</span></span><br><span class="line"><span class="comment">* 复制引用类型的值实际上是复制一个指针，复制结束后，实际上是引用的</span></span><br><span class="line"><span class="comment">* 同一个对象。因此改变其中一个变量就会影响另一个变量</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递参数</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 所有函数的参数都是按值传递的。也就是说，把函数外部的值复制给函数</span></span><br><span class="line"><span class="comment">* 内部的参数，就和把值从一个变量复制到另一个变量一样。基本类型值的</span></span><br><span class="line"><span class="comment">* 传递如同基本类型变量的复制一样，而引用类型也是一样</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 基本类型的值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addTen</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    num += <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> num</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> count = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">var</span> result = addTen(count);</span><br><span class="line"><span class="comment">// 没有改变外部的count</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(count, result)<span class="comment">//20 30</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 引用类型的值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    obj.name = <span class="string">'testName'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;&#125;</span><br><span class="line">setName(person)</span><br><span class="line"><span class="built_in">console</span>.log(person.name) <span class="comment">// testName</span></span><br><span class="line"><span class="comment">// 修改了外部的person</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 证明为按值传递 整个过程有点子复杂，和我以前使用的java完全不同，person2传入函数setName2之后，obj和person2同时指向同一个堆内存位置--&gt;person2的位置，首先修改了name属性，重新指定obj之后，obj和person2指向的位置不再相同，这个时候修改obj并不会修改person2的属性，所以最终属性定格在了testName，这里面有个思维误区就是obj等于person2，并不相等。</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName2</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    obj.name = <span class="string">'testName'</span></span><br><span class="line">    obj = &#123;&#125;</span><br><span class="line">    obj.name = <span class="string">'changeName'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person2 = &#123;&#125;</span><br><span class="line">setName2(person2)</span><br><span class="line"><span class="built_in">console</span>.log(person2.name) <span class="comment">// testName</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 检测类型</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*基本类型 typeof （undefined string boolean）</span></span><br><span class="line"><span class="comment">*引用类型 可以根据原型链或调用对象的toString()方法来判断</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s = <span class="string">"Nicholas"</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> i = <span class="number">22</span>;</span><br><span class="line"><span class="keyword">var</span> u;</span><br><span class="line"><span class="keyword">var</span> a = [<span class="string">'a'</span>]</span><br><span class="line"><span class="keyword">var</span> n = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// typeof</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> s); <span class="comment">//string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> i); <span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b); <span class="comment">//boolean</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> u); <span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a); <span class="comment">//object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> n); <span class="comment">//object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> o); <span class="comment">//object</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// instanceof</span></span><br><span class="line"><span class="built_in">console</span>.log(a <span class="keyword">instanceof</span> <span class="built_in">Array</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(a <span class="keyword">instanceof</span> <span class="built_in">Object</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="变量-amp-作用-amp-内存问题"><a href="#变量-amp-作用-amp-内存问题" class="headerlink" title="变量 &amp; 作用 &amp; 内存问题"></a>变量 &amp; 作用 &amp; 内存问题</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 执行环境及作用域</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 执行环境（execution context，简称环境）</span></span><br><span class="line"><span class="comment">* 执行环境定义了变量或函数有权访问的其他数据，决定了他们</span></span><br><span class="line"><span class="comment">* 各自的行为。每个执行环境都有一个与之关联的变量对象，环</span></span><br><span class="line"><span class="comment">* 境中定义的所有变量和函数都保存在这个对象中。但我们不能</span></span><br><span class="line"><span class="comment">* 访问它，解析器会在后台调用它</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 延长作用域链</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*  虽然执行环境的类型只有两种-全局和局部，但还是有其他方法来延长作用域链。</span></span><br><span class="line"><span class="comment">*  这么说是因为有些语句可以在作用域链的前端临时增加一个变量对象，该变量对</span></span><br><span class="line"><span class="comment">*  象会在代码执行后移除。有两种情况下会发生这种现象。</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* try-catch 语句的catch块</span></span><br><span class="line"><span class="comment">* width语句</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 这两个语句都会在作用域链的前端添加一个变量对象。对width语句来说，会将指定</span></span><br><span class="line"><span class="comment">* 的对象添加到作用域链中。对catch语句来说，会创建一个新的变量对象，其中包含</span></span><br><span class="line"><span class="comment">* 的是被抛出的错误对象的声明</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有块级作用域（es6后不是这样了）</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* javascript 没有块级作用域经常会导致理解上的困惑。在其他类C的语言中，由花括</span></span><br><span class="line"><span class="comment">* 号封闭的代码块都有自己的作用域，因而支持根据条件来定义变量</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> color = <span class="string">'blue'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(color) <span class="comment">// blue</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 很明显花括号没有自己的作用域</span></span><br><span class="line"><span class="comment">// es6</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> color2 = <span class="string">'blue'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//console.log(color2) // Error color2 is not define</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'for var'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i) <span class="comment">//for 也没有自己的作用域</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// es6</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; i &lt; <span class="number">10</span>; j++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'for let'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//console.log(j) // Error j is not define</span></span><br><span class="line"><span class="comment">// 用let定义的变量在花括号内有自己的作用域,而var的没有</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明变量</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 用var声明的变量会自动被添加到最近的环境中。在函数内部，最近的</span></span><br><span class="line"><span class="comment">* 环境就是函数的局部环境，如果初始化变量没有使用var声明，该变量</span></span><br><span class="line"><span class="comment">* 会自动被添加到全局环境</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 在编写javaScript代码的过程中，不申明而直接初始化变量是一个常见</span></span><br><span class="line"><span class="comment">* 的错误做法，因为这样可能会导致意外。在严格模式下未经声明的变量</span></span><br><span class="line"><span class="comment">* 会导致错误</span></span><br><span class="line"><span class="comment">* */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 查询标识符</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 在某个环境中为了读取或写入而引用一个标识符时，必须通过搜索来确定该</span></span><br><span class="line"><span class="comment">* 标识符实际代表什么。搜索过程从作用域链的前端开始，向上逐级查询与给</span></span><br><span class="line"><span class="comment">* 定名字匹配的标识符。如果在局部环境中找到了该标识符，搜索过程停止，</span></span><br><span class="line"><span class="comment">* 变量就绪。如果在局部标识符中没有找到该变量名，则继续沿作用域链向上</span></span><br><span class="line"><span class="comment">* 搜索。搜索过程将一直追溯到全局环境的变量对象。如果在全局变量环境中</span></span><br><span class="line"><span class="comment">* 也没有找到这个标识符，则意味着该变量尚未声明。</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> color3 = <span class="string">'blue'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getColor</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> color3</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(getColor()) <span class="comment">//blue</span></span><br><span class="line"><span class="comment">// 局部环境中没有color3 的标识符，则在他的上级环境中寻找（也就是全局环境）</span></span><br><span class="line"><span class="comment">// 返回了全局环境中的color3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> color4 = <span class="string">'blue'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getColor2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> color4 = <span class="string">'red'</span></span><br><span class="line">    <span class="keyword">return</span> color4</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(getColor2()) <span class="comment">// red</span></span><br><span class="line"><span class="comment">// 直接返回了局部环境的color4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*  注意 变量查询也不是没有代价的。很明显，访问局部变量要比访问全局更快，因为</span></span><br><span class="line"><span class="comment">*  不用向上搜索作用域链。</span></span><br><span class="line"><span class="comment">* */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 垃圾收集</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*  标记清除（最常用） （标记变量的不同状态，去除无用变量）</span></span><br><span class="line"><span class="comment">*  引用计数（计算变量引用次数，引用次数为0，清除该变量）</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 管理内存</span></span><br><span class="line"><span class="comment">// 由于安全考虑浏览器可分配内存比桌面应用内存要少，为了性能，执行环境只保存</span></span><br><span class="line"><span class="comment">// 必要数据。一旦数据不在用就将值设为null(一般用于全局环境)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// object 类型</span></span><br><span class="line"><span class="comment">// 第一种创建方式</span></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>()</span><br><span class="line">person.name = <span class="string">'tom'</span></span><br><span class="line">person.age = <span class="number">29</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种</span></span><br><span class="line"><span class="keyword">var</span> person2 = &#123;</span><br><span class="line">    name: <span class="string">'tom'</span>,</span><br><span class="line">    age: <span class="number">29</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取</span></span><br><span class="line"><span class="built_in">console</span>.log(person2[<span class="string">'name'</span>])</span><br><span class="line"><span class="built_in">console</span>.log(person2.name)</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array</span></span><br><span class="line"><span class="comment">// 创建</span></span><br><span class="line"><span class="keyword">var</span> color = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">var</span> color2 = [<span class="string">'red'</span>, <span class="string">'blue'</span>, <span class="string">'green'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 检测数组 instanceof isArray()</span></span><br><span class="line"><span class="built_in">console</span>.log(color <span class="keyword">instanceof</span> <span class="built_in">Array</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(color)) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 转换方法</span></span><br><span class="line"><span class="built_in">console</span>.log(color2.toString()) <span class="comment">// red,blue,green</span></span><br><span class="line"><span class="built_in">console</span>.log(color2.toLocaleString()) <span class="comment">// red,blue,green</span></span><br><span class="line"><span class="built_in">console</span>.log(color2.valueOf()) <span class="comment">//['red','blue','green']</span></span><br><span class="line"><span class="built_in">console</span>.log(color2) <span class="comment">//['red','blue','green']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// toString 和 toLocaleString</span></span><br><span class="line"><span class="keyword">var</span> person3 = &#123;</span><br><span class="line">    toLocaleString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'toLocaleString3'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    toString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'toString3'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person4 = &#123;</span><br><span class="line">    toLocaleString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'toLocaleString4'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    toString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'toString4'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person5 = [person3, person4]</span><br><span class="line"><span class="built_in">console</span>.log(person5)</span><br><span class="line"><span class="built_in">console</span>.log(person5.toString()) <span class="comment">//toString3,toString4</span></span><br><span class="line"><span class="built_in">console</span>.log(person5.toLocaleString()) <span class="comment">//toLocaleString3,toLocaleString4</span></span><br><span class="line"><span class="comment">// 分别调用了数组元素的toString 和toLocaleString</span></span><br></pre></td></tr></table></figure>

<p>toString和toLocalString还有另外一个valueOf的区别有点细，详细参考这个<a href="https://www.cnblogs.com/zhangyinhua/p/9480867.html#:~:text=toString()%EF%BC%9A%E6%8A%8ADate%20%E5%AF%B9%E8%B1%A1,%E6%A0%B9%E6%8D%AE%E6%9C%AC%E5%9C%B0%E8%A7%84%E5%88%99%E6%A0%BC%E5%BC%8F%E5%8C%96%E3%80%82" target="_blank" rel="noopener">网页</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 栈方法（push() 和 pop()）</span></span><br><span class="line"><span class="keyword">var</span> colors = []</span><br><span class="line"><span class="keyword">var</span> count = colors.push(<span class="string">'red'</span>, <span class="string">'green'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(count) <span class="comment">// 2</span></span><br><span class="line">count = colors.push(<span class="string">'black'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> item = colors.pop()</span><br><span class="line"><span class="built_in">console</span>.log(item) <span class="comment">// black</span></span><br><span class="line"><span class="built_in">console</span>.log(colors.length) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 队列方法（push() shift()） shift() 方法用于把数组的第一个元素从其中删除，并返回第一个元素的值。 注意： 此方法改变数组的长度！ 提示: 移除数组末尾的元素可以使用pop() 方法。</span></span><br><span class="line"><span class="keyword">var</span> colors2 = []</span><br><span class="line"><span class="keyword">var</span> count2 = colors2.push(<span class="string">'red'</span>, <span class="string">'green'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(count2) <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">count2 = colors2.push(<span class="string">'black'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(count2) <span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> item2 = colors.shift()</span><br><span class="line"><span class="built_in">console</span>.log(item2) <span class="comment">//red</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 重排序方法</span></span><br><span class="line"><span class="keyword">var</span> values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="built_in">console</span>.log(values.reverse()) <span class="comment">// [ 5, 4, 3, 2, 1 ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> values2 = [<span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line"><span class="built_in">console</span>.log(values2.sort(<span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x - y</span><br><span class="line">&#125;)) <span class="comment">// [ 1, 2, 3, 4, 5, 6 ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// splice (删除 插入 替换)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 位置方法（indexOf()和lastIndexOf()）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//迭代方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* every(): 对数组中的每一项运行给定函数，如果该函数每一项都返回true，则返回true</span></span><br><span class="line"><span class="comment">* filter(): 对数组中的每一项运行给定函数，返回该函数会返回true的项组成的数组</span></span><br><span class="line"><span class="comment">* forEach():对数组中的每一项运行给定函数，这个方法没有返回值</span></span><br><span class="line"><span class="comment">* map():对数组中的每一项运行给定函数，返回每次函数调用的结果组成的数组</span></span><br><span class="line"><span class="comment">* some():对数组中的每一项运行给定函数，如果该函数对任一项返回true，则返回true</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 归并方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* reduce()</span></span><br><span class="line"><span class="comment">* reduceRight()</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">var</span> values3 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> sum = values3.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">prev, cur</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> prev + cur</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(sum) <span class="comment">//10</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Date 类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Date 比较大小</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Data 的 toString() 和 valueOf() 不同浏览器返回不同</span></span><br><span class="line"><span class="comment">* Data类型的valueOf()方法不返回字符串，而是返回日期的毫秒表示，</span></span><br><span class="line"><span class="comment">* 因此，可以方便比较日期值</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> date1 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2018</span>, <span class="number">6</span>, <span class="number">9</span>)</span><br><span class="line"><span class="keyword">var</span> date2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2018</span>, <span class="number">6</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(date1 &gt; date2) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(date1 &lt; date2) <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 这为比较日期提供了极大的方便</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期格式化方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* toDateString() 以特定于实现的格式显示星期几、月、日和年</span></span><br><span class="line"><span class="comment">* toTimeString()                    ...时、分、秒和时区</span></span><br><span class="line"><span class="comment">* toLocaleDateString() 以特定于地区的格式显示星期几、月、日和年</span></span><br><span class="line"><span class="comment">* toLocaleTimeString() 以特定于实现的格式显示时、分、秒</span></span><br><span class="line"><span class="comment">* toUTSString() 以特定实现的格式显示时、分、秒</span></span><br><span class="line"><span class="comment">* toLocaleString()和toString()方法一样不同浏览器显示不同不能使用</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期、时间组件方法</span></span><br><span class="line"><span class="comment">// &#123;Year Month（0-11） Date（1-31） Day(星期) Hours（0-23） Minutes（0-59） Seconds Milliseconds&#125;</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* getTime() 返回日期的毫秒数；与valueOf()方法返回的值相同</span></span><br><span class="line"><span class="comment">* setTime(毫秒) 以毫秒设置日期，会改变整个日期</span></span><br><span class="line"><span class="comment">* getFullYear() 取得4位数的年份（2018而非仅07）</span></span><br><span class="line"><span class="comment">* getUTCFullYear</span></span><br><span class="line"><span class="comment">* ... 其他类似</span></span><br><span class="line"><span class="comment">* */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// RegExp</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 表达式 var expression = / pattern /flags(pattern 模式 正则表达式 flag 标志)</span></span><br><span class="line"><span class="comment">// g：global 全局模式 应用于所有字符串，而非匹配的第一项就停止</span></span><br><span class="line"><span class="comment">// i:表示不区分大小写</span></span><br><span class="line"><span class="comment">// m:表示多行模式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// RegExp 实例属性</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* global： 布尔值，表示是否设置了g标志</span></span><br><span class="line"><span class="comment">* ignoreCase: 布尔值，表示是否设置了i标志</span></span><br><span class="line"><span class="comment">* lastIndex:整数，表示开始搜索下一个匹配项的字符位置，从0算起</span></span><br><span class="line"><span class="comment">* multiline：布尔值，表示是否设置了m标志</span></span><br><span class="line"><span class="comment">* source：正则表达式的字符串表示</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//RegExp 实例方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* exec() 返回第一个匹配项的数组</span></span><br><span class="line"><span class="comment">* text() 返回布尔值</span></span><br><span class="line"><span class="comment">* */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Function 类型</span></span><br><span class="line"><span class="comment">// 创建</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*  function sum (num1,num2)&#123; return num1 + num2 &#125; （函数声明式）</span></span><br><span class="line"><span class="comment">*  var sum = function (num1,num2)&#123;return num1 + num2&#125; （函数表达式）</span></span><br><span class="line"><span class="comment">*  var sum = new Function("num1","num2","return num1 + num2")(不推荐)</span></span><br><span class="line"><span class="comment">*  函数是对象，函数名是指针</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum2</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum2(<span class="number">10</span>, <span class="number">10</span>)) <span class="comment">//20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> autoHerSum = sum2</span><br><span class="line"><span class="built_in">console</span>.log(autoHerSum(<span class="number">10</span>, <span class="number">10</span>)) <span class="comment">//20</span></span><br><span class="line"></span><br><span class="line">sum2 = <span class="literal">null</span></span><br><span class="line"><span class="built_in">console</span>.log(autoHerSum(<span class="number">10</span>, <span class="number">10</span>)) <span class="comment">// 20</span></span><br><span class="line"><span class="comment">// 函数名是指针</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 也可以同时使用函数声明和函数表达式 var sum = function sum() &#123;&#125;</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 作为值的函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callSomeFunction</span>(<span class="params">someFunction, someArgument</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> someFunction(someArgument)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add10</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num + <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = callSomeFunction(add10, <span class="number">10</span>)</span><br><span class="line"><span class="built_in">console</span>.log(result) <span class="comment">// 20</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getGreeting</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello,"</span> + name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result2 = callSomeFunction(getGreeting, <span class="string">'Nicholas'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(result2) <span class="comment">// Hello,Nicholas</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从一个函数内返回另一个函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createComparisonFunction</span>(<span class="params">propertyName</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">object1, object2</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> value1 = object1[propertyName]</span><br><span class="line">        <span class="keyword">var</span> value2 = object2[propertyName]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (value1 &lt; value2) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value1 &gt; value2) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CreateObject</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">    <span class="keyword">this</span>.age = age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这里相当于重写了toString方法</span></span><br><span class="line">CreateObject.prototype.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`&#123;name:<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>,age:<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>&#125;`</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> object1 = <span class="keyword">new</span> CreateObject(<span class="string">'Zachary'</span>, <span class="number">28</span>)</span><br><span class="line"><span class="keyword">var</span> object2 = <span class="keyword">new</span> CreateObject(<span class="string">'Nicholas'</span>, <span class="number">29</span>)</span><br><span class="line"><span class="keyword">var</span> data = [object1, object2]</span><br><span class="line"><span class="comment">// 这里引用到了上面的createComparisonFunction，其实很像是把函数式编程分开写了，仅此而已</span></span><br><span class="line">data.sort(createComparisonFunction(<span class="string">'name'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(data.toString())</span><br><span class="line">data.sort(createComparisonFunction(<span class="string">'age'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(data.toString())</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数内部属性</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 函数内部，有两个特殊的对象：arguments 和 this。</span></span><br><span class="line"><span class="comment">* arguments(类数组对象)：保存函数参数</span></span><br><span class="line"><span class="comment">* 该对象还有一个名叫callee的属性，改属性是一个指针，指向拥有这个arguments</span></span><br><span class="line"><span class="comment">* 对象的函数</span></span><br><span class="line"><span class="comment">* this:函数执行的环境对象</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// arguments.callee</span></span><br><span class="line"><span class="comment">// 经典的阶乘函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> num * factorial(num - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(factorial(<span class="number">10</span>)) <span class="comment">// 3628800</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这样写有点不好 就是函数名和函数体耦合在了一起</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial2</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> num * <span class="built_in">arguments</span>.callee(num - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(factorial2(<span class="number">10</span>))</span><br><span class="line"><span class="comment">// 将函数名解耦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// this</span></span><br><span class="line"><span class="keyword">var</span> color5 = <span class="string">'red'</span></span><br><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    color5: <span class="string">'blue'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayColor</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.color5)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayColor() <span class="comment">// red</span></span><br><span class="line">o.sayColor = sayColor</span><br><span class="line">o.sayColor() <span class="comment">// blue</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 注意：函数名仅仅是一个包含指针的变量而已。因此，即使是在不同的</span></span><br><span class="line"><span class="comment">* 环境中执行，全局的sayColor与o.sayColor指向的仍然是同一个函数</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数属性和方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* length:表示函数希望接收的命名参数的个数</span></span><br><span class="line"><span class="comment">* prototype</span></span><br><span class="line"><span class="comment">* prototype上的属性是不可被枚举的（for-in-无法发现）</span></span><br><span class="line"><span class="comment">* */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// call 与 apply</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum4</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// apply</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callSum1</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sum4.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>) <span class="comment">// arguments（类数组）</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callSum2</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sum4.apply(<span class="keyword">this</span>, [num1, num2]) <span class="comment">// 数组</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(callSum1(<span class="number">10</span>, <span class="number">10</span>)) <span class="comment">// 20</span></span><br><span class="line"><span class="built_in">console</span>.log(callSum2(<span class="number">10</span>, <span class="number">10</span>)) <span class="comment">// 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// call</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callSum3</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sum4.call(<span class="keyword">this</span>, num1, num2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(callSum3(<span class="number">10</span>, <span class="number">10</span>)) <span class="comment">// 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// call 和 apply作用一样，只是参数的形式不一样</span></span><br></pre></td></tr></table></figure>

<h5 id="js的连续赋值"><a href="#js的连续赋值" class="headerlink" title="js的连续赋值"></a>js的连续赋值</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;<span class="attr">n</span>: <span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line">a.x = a = &#123;<span class="attr">n</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a.x); <span class="comment">//undefined </span></span><br><span class="line"><span class="built_in">console</span>.log(b.x) <span class="comment">//Object &#123;n: 2&#125;</span></span><br></pre></td></tr></table></figure>

<p>首先是</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;n:1&#125;; </span><br><span class="line">var b = a;</span><br></pre></td></tr></table></figure>

<p>在这里a指向了一个对象{n:1}（我们姑且称它为对象A），</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160538009.png" alt="image-20220816053812942"></p>
<p>b指向了a所指向的对象，也就是说，在这时候a和b都是指向对象A的,</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160538657.png" alt="image-20220816053832601"></p>
<p>接着继续看下一行非常重要的代码：<code>a.x = a = {n: 2}</code>，这句话也是关键所在，根据js引擎语法解析，会先去<strong>从左到右寻找有没有未声明的变量</strong>，如果有就把该变量提升至作用域顶部并声明该变量。那么恭喜js引擎他找到a.x这个属性没有声明，那么他会在{n: 1}这个内存区声明一个x属性等待赋值！</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160539058.png" alt="image-20220816053909000"></p>
<p>接着按照从左到右的寻找变量顺序运行，<code>a = {n: 2};</code>，运行以后a的指向变成了一个新地址。</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160539164.png" alt="image-20220816053942097"></p>
<p>ok，接下来是最关键的一步，解析变量/变量名是从左往右的，但是运行的时候实际顺序是从右往左的，这个时候原先的a.x已经改变了表达方式，如图上的红圈，这个部分是a.x，而不是这个栈内存中的a指针所指向的地方，js里面很多东西讲的都是值本身，而非指针，所以最后的结果也并不难以理解了。</p>
<h4 id="引用类型"><a href="#引用类型" class="headerlink" title="引用类型"></a>引用类型</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本的包装类型，特殊的引用类型（Boolean、Number、String）</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="string">'some text'</span>;</span><br><span class="line"><span class="keyword">var</span> s2 = s1.substring(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s1, s2) <span class="comment">// some text me text</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 想象成</span></span><br><span class="line"><span class="keyword">var</span> s3 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'some text'</span>)</span><br><span class="line"><span class="keyword">var</span> s4 = s1.substring(<span class="number">2</span>)</span><br><span class="line">s3 = <span class="literal">null</span></span><br><span class="line"><span class="built_in">console</span>.log(s3, s4) <span class="comment">// null 'me text' </span></span><br><span class="line"><span class="comment">// 引用类型和基本包装类型的主要区别就是对象的生存期。使用new操作符创建</span></span><br><span class="line"><span class="comment">// 的引用类型的实例，在执行流离开当前作用域之前一直都保存在内存中。而自</span></span><br><span class="line"><span class="comment">// 动创建的基本包装类型的对象，则只存在于一行代码的执行瞬间，然后立即销</span></span><br><span class="line"><span class="comment">// 毁。这意味着我们不能在运行时为基本类型值添加属性和方法 eg</span></span><br><span class="line"><span class="keyword">var</span> s5 = <span class="string">'some text'</span>;</span><br><span class="line">s5.color = <span class="string">'red'</span></span><br><span class="line"><span class="built_in">console</span>.log(s5.color) <span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object 构造函数也会像工厂方法一样，根据传入值的类型放回相应基本包装实例</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>(<span class="string">'some text'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(obj <span class="keyword">instanceof</span> <span class="built_in">String</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Boolean 类型</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Boolean 类型与布尔值对应的引用类型。要创建Boolean对象，就可以像下面这样</span></span><br><span class="line"><span class="comment">* 调用Boolean构造函数并传入true或false</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> BooleanObject = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">var</span> falseObject = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>)</span><br><span class="line"><span class="built_in">console</span>.log(falseObject)<span class="comment">//boolean对象 Boolean &#123;false&#125; 打印出来是[Boolean: false]</span></span><br><span class="line"><span class="keyword">var</span> result = falseObject &amp;&amp; <span class="literal">true</span> <span class="comment">// 对象会转换为true</span></span><br><span class="line"><span class="built_in">console</span>.log(result) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> falseValue = <span class="literal">false</span></span><br><span class="line">result = falseValue &amp;&amp; <span class="literal">true</span></span><br><span class="line"><span class="built_in">console</span>.log(result) <span class="comment">// false</span></span><br><span class="line"><span class="comment">// Boolean对象容易造成误解</span></span><br><span class="line"><span class="comment">// 理解基本类型的布尔值和Boolean对象的区别非常重要，建议永远不要使用Boolean对象</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Number类型</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Number是与数字值对应的引用类型。要创建Number对象，可以在调用Number构造函数时向</span></span><br><span class="line"><span class="comment">* 中传递对应的数值</span></span><br><span class="line"><span class="comment">* 与Boolean类型一样，Number类型也重写了valueOf()、toLocaleString()和toString()</span></span><br><span class="line"><span class="comment">* 重写后的valueOf()方法返回对象表示基本类型的数值，另外两个方法返回字符串形式的</span></span><br><span class="line"><span class="comment">* 数值</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// Number 的方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* toFixed() 指定的小数返回数值的字符串表示</span></span><br><span class="line"><span class="comment">* toExponent() 返回指数表示法（e表示法）</span></span><br><span class="line"><span class="comment">* toPrecision() 参数表示数值的所有数字的位数（不包括指数部分）</span></span><br><span class="line"><span class="comment">* */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// String类型</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* String类型是字符串对象的包装类型</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 字符串方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* charAt() 以单字符字符串的形式放回给定位置的那个字符 可以用str[1]</span></span><br><span class="line"><span class="comment">* 代替</span></span><br><span class="line"><span class="comment">* charCodeAt() 以单字符字符串的形式放回给定位置的那个字符的字符编码</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串操作方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* concat 拼接字符串可用+代替</span></span><br><span class="line"><span class="comment">* slice()</span></span><br><span class="line"><span class="comment">* substr()</span></span><br><span class="line"><span class="comment">* substring()</span></span><br><span class="line"><span class="comment">* 效果类似参数不同</span></span><br><span class="line"><span class="comment">* slice substring 第一第二各参数分别表示起始和结束位置</span></span><br><span class="line"><span class="comment">* substr 第二各参数表示返回的字符个数</span></span><br><span class="line"><span class="comment">* slice substr substring 都不会改变原字符串</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 字符串位置方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* indexOf(从开头向结尾搜索放回-1或字符位置)</span></span><br><span class="line"><span class="comment">* lastIndexOf（从结尾向开头搜索返回-1或字符位置）</span></span><br><span class="line"><span class="comment">* 第二各参数可以表示从哪个位置搜索</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// trim() 创建字符串副本，删除前后所有空格</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 大小写转换</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* toLowerCase() 转小写</span></span><br><span class="line"><span class="comment">* toLocaleLowerCase() 根据本地语言转小写</span></span><br><span class="line"><span class="comment">* toUpperCase() 转大写</span></span><br><span class="line"><span class="comment">* toLocaleUpperCase() 根据本地语言转大写</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串的模式匹配方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* match() 返回数组 与调用RegExp对象的exec()方法并传递本例中的字符串</span></span><br><span class="line"><span class="comment">* 作为参数的到的结果一样</span></span><br><span class="line"><span class="comment">* search() 返回字符串中的第一个匹配项的索引；如果没有找到匹配项则返回</span></span><br><span class="line"><span class="comment">* -1否则返回位置，search方法始终是从字符串的开头向后查找</span></span><br><span class="line"><span class="comment">* replace() 替换 根据正则表达式替换字符串，如果要全局替换要在正则表达式</span></span><br><span class="line"><span class="comment">* 中加入g标志</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* . 在[.]中匹配.字符即\.在此之外匹配所有元素</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 特殊字符序列</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* $$  $</span></span><br><span class="line"><span class="comment">* $&amp;  匹配整个模式的子字符串。与RegExp.lastMatch的值相同</span></span><br><span class="line"><span class="comment">* $'  匹配的子字符串之前的子字符串。与RegExp.leftContext的值相同</span></span><br><span class="line"><span class="comment">* $`  匹配的子字符串之后的子字符串。RegExp.rightContext的值相同</span></span><br><span class="line"><span class="comment">* $n  匹配第n个捕获的子字符串，其中n等于0-9。如果正则表达式中没有</span></span><br><span class="line"><span class="comment">* 定义捕获组，则使用空字符串</span></span><br><span class="line"><span class="comment">* $nn 匹配第nn个捕获的子字符串，其中n等于01-99。</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">'cat,bat,sat,fat'</span></span><br><span class="line">result = text.replace(<span class="regexp">/(.at)/g</span>, <span class="string">'word($`)'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"></span><br><span class="line"><span class="comment">// replace 可以通过第二各参数进行更精细的操作</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">htmlEscape</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> text.replace(<span class="regexp">/[&lt;&gt;"&amp;]/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params">match, pos, originalText</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (match) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"&lt;"</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"&amp;lt"</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">"&gt;"</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"&amp;gt"</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">"&amp;"</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"&amp;amp"</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">"\""</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"&amp;quot"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(htmlEscape(<span class="string">'&lt;p class="greeting"&gt;hello world!&lt;/p&gt;'</span>))</span><br><span class="line"><span class="comment">// &amp;ltp class=&amp;quotgreeting&amp;quot&amp;gthello world!&amp;lt/p&amp;gt</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// split() 基于指定分隔符将一个字符串分割成多个子字符串，并将结果</span></span><br><span class="line"><span class="comment">// 放到一个数组中 ，可接受第二个参数指定数组的大小</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> colorText = <span class="string">"red,blue,green,yellow"</span></span><br><span class="line"><span class="built_in">console</span>.log(colorText.split(<span class="string">','</span>)) <span class="comment">// ["red","blue","green","yellow"]</span></span><br><span class="line"><span class="built_in">console</span>.log(colorText.split(<span class="string">','</span>, <span class="number">2</span>)) <span class="comment">// ["red","blue"]</span></span><br><span class="line"><span class="built_in">console</span>.log(colorText.split(<span class="regexp">/[^\,]+/</span>)) <span class="comment">// ["", ",", ",", ",", ""]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// localeCompare() 方法 比较两个字符串返回下列值中的一个</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 如果子字符串在字母表中应该排在子字符串之前，则返回一个负数（大多数情况</span></span><br><span class="line"><span class="comment">* 是-1，具体值要视情况而定）</span></span><br><span class="line"><span class="comment">* 如果子字符串等于子字符串，则返回0</span></span><br><span class="line"><span class="comment">* 如果字符创在字母表中应该排在子字符串之后，则返回一个正数（大多数情况是</span></span><br><span class="line"><span class="comment">* 1，具体视情况而定）</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">var</span> stringValue = <span class="string">'yellow'</span></span><br><span class="line"><span class="built_in">console</span>.log(stringValue.localeCompare(<span class="string">'brick'</span>)) <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(stringValue.localeCompare(<span class="string">'yellow'</span>)) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(stringValue.localeCompare(<span class="string">'zoo'</span>)) <span class="comment">//-1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// fromCharCode() //接收一或多个字符编码，然后将他们换成一个字符串。从本质</span></span><br><span class="line"><span class="comment">// 上看这个方法与charCodeAt()执行的是相反的操作</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Global对象</span></span><br><span class="line"><span class="comment">// URL编码方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* encodeURL()  主要用于整个url</span></span><br><span class="line"><span class="comment">* encodeURLComponent() 对url中的一部分进行转码</span></span><br><span class="line"><span class="comment">* 将url转换为浏览器可识别的字符串</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 一般来说，我们使用encodeURLComponent()方法要比使用encodeURL要多，因为常见</span></span><br><span class="line"><span class="comment">* 是处理url的一部分</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 相对的</span></span><br><span class="line"><span class="comment">* decodeURL() 和decodeURLComponent() 是对上面的两种方法进行解码</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// eval()</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 能够解释代码字符串的能力非常强大，但也非常危险。因此使用eval()时必须极为谨慎，</span></span><br><span class="line"><span class="comment">* 特别是在用他执行用户输入数据的情况下。否则可能会有恶意用户输入威胁你的站点或</span></span><br><span class="line"><span class="comment">* 应用程序安全的代码（即所谓的代码注入）</span></span><br><span class="line"><span class="comment">* */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Math 对象</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Math.E         自然对数的底数</span></span><br><span class="line"><span class="comment">* Math.LN10      10的自然对数</span></span><br><span class="line"><span class="comment">* Math.LN2       2的自然对数</span></span><br><span class="line"><span class="comment">* Math.LOG2E     以2为底e的对数</span></span><br><span class="line"><span class="comment">* Math.LOG10E    以10为底e的对数</span></span><br><span class="line"><span class="comment">* Math.PI        PI的值</span></span><br><span class="line"><span class="comment">* Math.SQRT1_2   1/2的平方根</span></span><br><span class="line"><span class="comment">* Math.SQRT2     2的平方根</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 最大值与最小值</span></span><br><span class="line"><span class="comment">// min() 和 max() 方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 舍入方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Math.ceil() 向上舍入  25.9 -&gt; 26 25.5-&gt; 26 25.1 -&gt;26</span></span><br><span class="line"><span class="comment">* Math.floor() 向下舍入 25.9 -&gt; 25 25.5 -&gt;25 25.1 -&gt;25</span></span><br><span class="line"><span class="comment">* Math,round() 四舍五入</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// random() 方法 返回[0,1)之间的值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 取[min,max]之间的值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectFrom</span>(<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> choices = max - min + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * choices + min)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(selectFrom(<span class="number">2</span>, <span class="number">10</span>))<span class="comment">// [2,10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 其他方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Math.abs(num)  绝对值</span></span><br><span class="line"><span class="comment">* Math.exp(num)  Math.E的num次幂</span></span><br><span class="line"><span class="comment">* Math.log(num)  num的自然对数</span></span><br><span class="line"><span class="comment">* Math.log(num,power) num 的power次幂</span></span><br><span class="line"><span class="comment">* math.sqrt(num) num的平方根</span></span><br><span class="line"><span class="comment">* Math.acos(x)  x的反余弦值</span></span><br><span class="line"><span class="comment">* Math.asin(x)  x的反正弦</span></span><br><span class="line"><span class="comment">* Math.atan(x)  x的反正切</span></span><br><span class="line"><span class="comment">* Math.atan2(y,x)  y/x的反正切</span></span><br><span class="line"><span class="comment">* Math.cos(x)  x的余弦</span></span><br><span class="line"><span class="comment">* Math.sin(x)  x的正弦</span></span><br><span class="line"><span class="comment">* Math.tan(x)  x的正切</span></span><br><span class="line"><span class="comment">* */</span></span><br></pre></td></tr></table></figure>

<h4 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h4><p>虽然说在JavaScript编程语言中，<strong>函数是第一公民</strong>，但是JavaScript不仅支持函数式编程，也支持面向对象编程。JavaScript对象设计成了一组属性的无序集合，由key和value组成，key为一个标识符名称，而value可以是任意类型的值，当函数作为对象的属性值时，这个函数就可以称之为对象的方法。</p>
<h5 id="1-JavaScript创建对象的方式"><a href="#1-JavaScript创建对象的方式" class="headerlink" title="1.JavaScript创建对象的方式"></a>1.JavaScript创建对象的方式</h5><blockquote>
<p>一般地，常用于创建对象的方式有两种，早期经常使用Object类，通过new关键字来创建一个对象，有点类似于Java中创建对象，后来为了方便就直接使用对象字面量的方式来创建对象了，用法更为简洁。</p>
</blockquote>
<ul>
<li><p>使用<code>Object</code>类创建对象；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>() <span class="comment">// 创建一个空对象</span></span><br><span class="line"><span class="comment">// 往对象中添加属性</span></span><br><span class="line">obj.name = <span class="string">'curry'</span></span><br><span class="line">obj.age = <span class="number">30</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用对象字面量创建对象；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 直接往&#123;&#125;添加键值对</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'curry'</span>,</span><br><span class="line">  age: <span class="number">30</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="2-对象属性操作的控制"><a href="#2-对象属性操作的控制" class="headerlink" title="2.对象属性操作的控制"></a>2.对象属性操作的控制</h5><blockquote>
<p>对象创建出来后，如何对该对象进行操作控制呢？这里涉及到一个很重要的方法：Object.defineProperty()。</p>
</blockquote>
<h6 id="2-1-Object-defineProperty"><a href="#2-1-Object-defineProperty" class="headerlink" title="2.1.Object.defineProperty()"></a>2.1.Object.defineProperty()</h6><blockquote>
<p>该方法可以在对象上定义一个新的属性，也可修 改对象现有属性，并将该对象返回。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object.defineProperty(obj, prop, descriptor)</span><br></pre></td></tr></table></figure>

<p>接收三个参数：</p>
<ul>
<li>obj：指定操作的对象；</li>
<li>prop：指定需要定义或修改的属性名称；</li>
<li>description：定义或修改的属性描述符；</li>
</ul>
<h6 id="2-2-属性描述符的分类"><a href="#2-2-属性描述符的分类" class="headerlink" title="2.2.属性描述符的分类"></a>2.2.属性描述符的分类</h6><blockquote>
<p>什么是属性描述符？顾名思义就是对对象中的属性进行描述，简单来说就是给对象某个属性指定一些规则。属性描述符主要分为<strong>数据属性描述符</strong>和<strong>存取属性描述符</strong>两种类型。</p>
</blockquote>
<p>对于属性描述符中的属性是否两者都可以设置呢？其实数据和存取属性描述符两者是有区别，下面的表格统计了两者可用和不可用的属性：</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">configurable</th>
<th align="left">enumerable</th>
<th align="left">value</th>
<th align="left">writable</th>
<th align="left">get</th>
<th align="left">set</th>
</tr>
</thead>
<tbody><tr>
<td align="left">数据属性描述符</td>
<td align="left">可以</td>
<td align="left">可以</td>
<td align="left">可以</td>
<td align="left">可以</td>
<td align="left">不可以</td>
<td align="left">不可以</td>
</tr>
<tr>
<td align="left">存取属性描述符</td>
<td align="left">可以</td>
<td align="left">可以</td>
<td align="left">不可以</td>
<td align="left">不可以</td>
<td align="left">可以</td>
<td align="left">可以</td>
</tr>
</tbody></table>
<p>那么为什么有些属性可以用，有些属性又不能用呢？因为数据属性描述符和存取属性描述符所担任的角色不一样，下面就来详细介绍一下，它们两者的区别。</p>
<h6 id="2-3-数据属性描述符"><a href="#2-3-数据属性描述符" class="headerlink" title="2.3.数据属性描述符"></a>2.3.数据属性描述符</h6><blockquote>
<p>从上面的表格可以知道，数据属性描述符可以使用configurable、enumerable、value、writable。而这就是数据属性描述符的四个特性。</p>
</blockquote>
<ul>
<li><strong>Configurable</strong>：表示是否可以通过delete删除对象属性，是否可以修改它的特性，或者是否可以将它修改为存取属性描述符。当通过<code>new Object()</code>或者字面量的方式创建对象时，其中的属性的<code>configurable</code>默认为<code>true</code>，当通过属性描述符定义一个属性时，其属性的<code>configurable</code>默认为<code>false</code>。</li>
<li><strong>Enumerable</strong>：表示是否可以通过for-in或者Object.keys()返回该属性。当通过<code>new Object()</code>或者字面量的方式创建对象时，其中的属性的<code>enumerable</code>默认为<code>true</code>，当通过属性描述符定义一个属性时，其属性的<code>enumerable</code>默认为<code>false</code>。</li>
<li><strong>Writable</strong>：表示是否可以修改属性的值。当通过<code>new Object()</code>或者字面量的方式创建对象时，其中的属性的<code>writable</code>性描述符定义一个属性时，其属性的<code>writable</code>默认为<code>false</code>。</li>
<li><strong>Value</strong>：属性的value值，读取属性时会返回该值，修改属性时会对其进行修改。（默认：undefined）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'curry'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'age'</span>, &#123;</span><br><span class="line">  configurable: <span class="literal">false</span>, <span class="comment">// age属性是否可以删除，默认false</span></span><br><span class="line">  enumerable: <span class="literal">false</span>, <span class="comment">// age属性是否可以枚举，默认false</span></span><br><span class="line">  writable: <span class="literal">false</span>, <span class="comment">// age属性是否可以写入（修改），默认false</span></span><br><span class="line">  value: <span class="number">30</span> <span class="comment">// age属性的值，默认undefined</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当configurable为false，age属性是不可被删除的</span></span><br><span class="line"><span class="keyword">delete</span> obj.age</span><br><span class="line"><span class="built_in">console</span>.log(obj) <span class="comment">// &#123; name: 'curry', age: 30 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当writable为false，age属性的值是不可被修改的</span></span><br><span class="line">obj.age = <span class="number">18</span></span><br><span class="line"><span class="built_in">console</span>.log(obj) <span class="comment">// &#123; name: 'curry', age: 30 &#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果将enumerable修改为false，age属性是不可以被遍历出来的</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key) <span class="comment">// name</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2-4-存取属性描述符"><a href="#2-4-存取属性描述符" class="headerlink" title="2.4.存取属性描述符"></a>2.4.存取属性描述符</h6><blockquote>
<p>存取属性描述符可以使用configurable、enumerable、get、set。在获取对象某个属性值时，可以通过get来拦截，在设置对象某个属性值时，可以通过set来拦截。configurable和enumerable的用法和特性跟数据属性描述符一样。</p>
</blockquote>
<ul>
<li><strong>Get</strong>：获取属性时会执行的函数。（默认undefined）</li>
<li><strong>Set</strong>：设置属性时会执行的函数。（默认undefined）</li>
</ul>
<p>get和set的使用场景：</p>
<ul>
<li><p>隐藏某一个私有属性，不希望直接被外界使用和赋值。如下代码<code>_age</code>表示不想直接被外界使用，外界就可以通过使用<code>age</code>的set和get来访问设置<code>_age</code>了。</p>
</li>
<li><p>如果希望截获某一个属性它访问和设置值的过程。（Vue2的响应式原理就在这）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'curry'</span>,</span><br><span class="line">  _age: <span class="number">30</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意：这里的this是指向obj对象的</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'age'</span>, &#123;</span><br><span class="line">  configurable: <span class="literal">true</span>,</span><br><span class="line">  enumerable: <span class="literal">true</span>,</span><br><span class="line">  <span class="keyword">get</span>: function() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'age属性被访问了'</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._age</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span>: function(newValue) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'age属性被设置了'</span>)</span><br><span class="line">    <span class="keyword">this</span>._age = newValue</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">obj.age <span class="comment">// age属性被访问了</span></span><br><span class="line">obj.age = <span class="number">18</span> <span class="comment">// age属性被设置了</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="2-5-同时给多个属性定义属性描述符"><a href="#2-5-同时给多个属性定义属性描述符" class="headerlink" title="2.5.同时给多个属性定义属性描述符"></a>2.5.同时给多个属性定义属性描述符</h6><blockquote>
<p>上面使用<code>Object.defineProperty()</code>方法都是给单个属性进行定义描述符，想要一次性定义多个属性，那么就可以使用<code>Object.defineProperties()</code>方法了。写法如下：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperties(obj, &#123;</span><br><span class="line">  name: &#123;</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">    value: <span class="string">'curry'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  age: &#123;</span><br><span class="line">    configurable: <span class="literal">false</span>,</span><br><span class="line">    enumerable: <span class="literal">false</span>,</span><br><span class="line">    <span class="keyword">get</span>: function() &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>._age</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>: function(newValue) &#123;</span><br><span class="line">      <span class="keyword">this</span>._age = newValue</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="3-Object中常用的方法"><a href="#3-Object中常用的方法" class="headerlink" title="3.Object中常用的方法"></a>3.Object中常用的方法</h5><blockquote>
<p>上面介绍了Object中<code>defineProperty</code>和<code>defineProperties</code>两个方法。其实Object中还有很多方法，下面介绍一些常用的。</p>
</blockquote>
<ul>
<li><p>获取对象的属性描述符：</p>
<ul>
<li>获取单个属性：<code>Object.getOwnPropertyDescriptor</code>；</li>
<li>获取所有属性：<code>Object.getOwnPropertyDescriptors</code>；</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'curry'</span>,</span><br><span class="line">  age: <span class="number">30</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, <span class="string">'age'</span>)) <span class="comment">// &#123; value: 30, writable: true, enumerable: true, configurable: true &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptors(obj))</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  &#123;</span></span><br><span class="line"><span class="comment">    name: &#123;</span></span><br><span class="line"><span class="comment">      value: 'curry',</span></span><br><span class="line"><span class="comment">      writable: true,</span></span><br><span class="line"><span class="comment">      enumerable: true,</span></span><br><span class="line"><span class="comment">      configurable: true</span></span><br><span class="line"><span class="comment">    &#125;,</span></span><br><span class="line"><span class="comment">    age: &#123; value: 30, writable: true, enumerable: true, configurable: true &#125;</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Object.preventExtensions()</code>：禁止对象扩展新属性，给一个对象添加新的属性会失败（在严格模式下会报错）。</p>
</li>
<li><p><code>Object.seal()</code>：将对象密封起来，不允许配置和删除属性。（实际还是调用<code>preventExtensions</code>，并且将现有属性的<code>configurable</code>设置为<code>false</code>）</p>
</li>
<li><p><code>Object.freeze()</code>：将对象冻结起来，不允许修改对象现有属性。（实际上是调用seal，并且将现有属性的<code>writable</code>设置为<code>false</code>）</p>
</li>
</ul>
<h5 id="4-JavaScript创建多个对象"><a href="#4-JavaScript创建多个对象" class="headerlink" title="4.JavaScript创建多个对象"></a>4.JavaScript创建多个对象</h5><blockquote>
<p>上面提到的创建对象的方式仅适用于创建单个对象适用，如果有多个对象比较类似，那么一个个创建必然是很麻烦的，如何批量创建对象呢？JavaScript也给我们提供了一些方案。</p>
</blockquote>
<h6 id="4-1-方案一：工厂函数"><a href="#4-1-方案一：工厂函数" class="headerlink" title="4.1.方案一：工厂函数"></a>4.1.方案一：工厂函数</h6><blockquote>
<p>如果我们不想在创建对象时做重复的工作，那么就可以定义一个函数为我们去做这些重复性的工作，我们只需要将属性对应的值传入函数即可。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createObj</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 创建一个空对象</span></span><br><span class="line">  <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 设置对应属性值</span></span><br><span class="line">  obj.name = name</span><br><span class="line">  obj.age = age</span><br><span class="line">  <span class="comment">// 公共方法共用</span></span><br><span class="line">  obj.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`My name is <span class="subst">$&#123;<span class="keyword">this</span>.namename&#125;</span>, I'm <span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span> years old.`</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 将对象返回</span></span><br><span class="line">  <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj1 = createObj(<span class="string">'curry'</span>, <span class="number">30</span>)</span><br><span class="line"><span class="keyword">const</span> obj2 = createObj(<span class="string">'kobe'</span>, <span class="number">24</span>)</span><br><span class="line"><span class="built_in">console</span>.log(obj1) <span class="comment">// &#123; name: 'curry', age: 30, sayHello: [Function (anonymous)] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2) <span class="comment">// &#123; name: 'kobe', age: 24, sayHello: [Function (anonymous)] &#125;</span></span><br><span class="line">obj1.sayHello() <span class="comment">// My name is undefined, I'm 30 years old.</span></span><br><span class="line">obj2.sayHello() <span class="comment">// My name is undefined, I'm 24 years old.</span></span><br></pre></td></tr></table></figure>

<p><strong>缺点</strong>：创建出来的对象全是通过字面量创建的，获取不到对象真实的类型。</p>
<h6 id="4-2-方案二：构造函数"><a href="#4-2-方案二：构造函数" class="headerlink" title="4.2.方案二：构造函数"></a>4.2.方案二：构造函数</h6><p><strong>（1）什么是构造函数？</strong></p>
<ul>
<li>构造函数也称之为构造器（constructor），通常是我们在创建对象时会调用的函数；</li>
<li>在其他面向对象的编程语言里面，构造函数是存在于类中的一个方法，称之为构造方法；</li>
<li>如果一个普通的函数被使用<strong>new操作符来调用</strong>了，那么这个函数就称之为是一个构造函数；</li>
<li>一般规定构造函数的函数名首字母大写；</li>
</ul>
<p><strong>（2）new操作符调用函数的作用</strong></p>
<blockquote>
<p>当一个函数被new操作符调用了，默认会进行如下几部操作：</p>
</blockquote>
<ul>
<li>在内存中创建一个<strong>新的对象</strong>（空对象）；</li>
<li>这个对象内部的**[[prototype]]属性<strong>会被赋值为该</strong>构造函数的prototype属性**；</li>
<li>构造函数内部的this，会<strong>指向创建出来的新对象</strong>；</li>
<li>执行函数的<strong>内部代码</strong>（函数体代码）；</li>
<li>如果构造函数没有返回<strong>对象</strong>，则默认返回创建出来的新对象。</li>
</ul>
<p><strong>（3）构造函数创建对象的过程</strong></p>
<ul>
<li>通过构造函数创建的对象就真实的类型了，如下所示的Person类型；</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">  <span class="keyword">this</span>.age = age</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">this</span>.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`My name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>, I'm <span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span> years old.`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person(<span class="string">'curry'</span>, <span class="number">30</span>)</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> Person(<span class="string">'kobe'</span>, <span class="number">24</span>)</span><br><span class="line"><span class="built_in">console</span>.log(p1) <span class="comment">// Person &#123; name: 'curry', age: 30, sayHello: [Function (anonymous)] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(p2) <span class="comment">// Person &#123; name: 'kobe', age: 24, sayHello: [Function (anonymous)] &#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>缺点</strong>：在每次使用new创建新对象时，会重新给每个对象创建新的属性，包括对象中方法，实际上，对象中的方法是可以共用的，消耗了不必要的内存。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(p1.sayHello === p2.sayHello) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h6 id="4-3-方案三：原型-构造函数"><a href="#4-3-方案三：原型-构造函数" class="headerlink" title="4.3.方案三：原型+构造函数"></a>4.3.方案三：原型+构造函数</h6><blockquote>
<p>在了解该方案之前，需要先简单的认识一下何为原型。</p>
</blockquote>
<p><strong>（1）对象的原型</strong></p>
<blockquote>
<p>JavaScript中每个对象都有一个特殊的内置属性[[prototype]]（我们称之为<strong>隐式原型</strong>），这个特殊的属性指向另外一个对象。那么这个属性有什么用呢?</p>
</blockquote>
<ul>
<li>前面介绍了，当我们通过对象的key来获取对应的value时，会触发对象的get操作；</li>
<li>首先，get操作会先查看该对象自身是否有对应的属性，如果有就找到并返回其值；</li>
<li>如果在对象自身没有找到该属性就会去对象的[[prototype]]这个内置属性中查找；</li>
</ul>
<p>那么对象的[[prototype]]属性怎么获取呢？主要有两种方法：</p>
<ul>
<li>通过对象的<code>__proto__</code>属性访问；</li>
<li>通过<code>Object.getPrototypeOf()</code>方法获取；</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'curry'</span>,</span><br><span class="line">  age: <span class="number">30</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.__proto__)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(obj))</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208161155310.png" alt="img"></p>
<p><strong>（2）函数的原型</strong></p>
<blockquote>
<p>所有的函数都有一个prototype属性，并且只有函数才有这个属性。前面提到了new操作符是如何在内存中创建一个对象，并给我们返回创建出来的对象，其中第二步<strong>这个对象内部的[[prototype]]属性会被赋值为该构造函数的prototype属性</strong>。将代码与图结合，来看一下具体的过程。</p>
</blockquote>
<p>示例代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function Person(name, age) &#123;</span><br><span class="line">  this.name = name</span><br><span class="line">  this.age = age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const p1 = new Person(&apos;curry&apos;, 30)</span><br><span class="line">const p2 = new Person(&apos;kobe&apos;, 24)</span><br><span class="line">// 验证：对象(p1\p2)内部的[[prototype]]属性(__proto__)会被赋值为该构造函数(Person)的prototype属性；</span><br><span class="line">console.log(p1.__proto__ === Person.prototype) // true</span><br><span class="line">console.log(p2.__proto__ === Person.prototype) // true</span><br></pre></td></tr></table></figure>

<p>内存表现：</p>
<ul>
<li>p1和p2的原型都指向Person函数的prototype原型；</li>
<li>其中还有一个constructor属性，默认原型上都会有这个属性，并且指向当前的函数对象；</li>
</ul>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208161156642.png" alt="img"></p>
<p><strong>（3）结合对象和函数的原型，创建对象</strong></p>
<blockquote>
<p>先简单的总结一下：</p>
</blockquote>
<ul>
<li>前面使用构造函数创建对象的缺点是对象中的方法不能共用；</li>
<li>对象的属性可以通过[[prototype]]隐式原型进行查找；</li>
<li>构造函数创建出来的对象[[prototype]]与构造函数prototype指向同一个对象（同一个地址空间）；</li>
<li>那么我们可以将普通的属性放在构造函数的内部，将方法放在构造函数的原型上，当查找方法时，就都会去到构造函数的原型上，从而实现方法共用；</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">  <span class="keyword">this</span>.age = age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`My name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>, I'm <span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span> years old.`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person(<span class="string">'curry'</span>, <span class="number">30</span>)</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> Person(<span class="string">'kobe'</span>, <span class="number">24</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p1.sayHello === p2.sayHello) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h6 id="4-4-其他"><a href="#4-4-其他" class="headerlink" title="4.4.其他"></a>4.4.其他</h6><p>创建对象的模式还有许许多多，包括不限于<code>动态原型模式</code>、<code>寄生构造函数模式</code>、<code>稳妥构造函数模式</code>、``</p>
<h4 id="原型模式"><a href="#原型模式" class="headerlink" title="原型模式"></a>原型模式</h4><p>原型模式是一种设计模式，那么为什么要在JavaScript这章里面单独拿出来讲呢，因为js可以归纳为是一门基于原型的面向对象语言。基于原型这个概念是深入进js的基因的，所以在这里单独开一章。</p>
<p>简单地说，<em>JavaScript 是基于原型的语言</em>。当我们调用一个对象的属性时，如果对象没有该属性，JavaScript 解释器就会从对象的原型对象上去找该属性，如果原型上也没有该属性，那就去找原型的原型，直到最后返回null为止，null没有原型。这种属性查找的方式被称为原型链（prototype chain）。</p>
<h5 id="JavaScript原型-amp-原型链"><a href="#JavaScript原型-amp-原型链" class="headerlink" title="JavaScript原型 &amp; 原型链"></a>JavaScript原型 &amp; 原型链</h5><p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160424300.png" alt="preview"></p>
<p>首先来一个总纲，总纲里面包括了原型/原型链的所有内容，然后我们把图拆解。</p>
<ul>
<li>想要弄清楚原型和原型链，这几个属性必须要搞清楚，<code>__proto__</code>、<code>prototype</code>、 <code>constructor</code>。</li>
<li>其次你要知道js中对象和函数的关系，函数其实是对象的一种。</li>
<li>最后你要知道函数、构造函数的区别，任何函数都可以作为构造函数，但是并不能将任意函数叫做构造函数，只有当一个函数通过new关键字调用的时候才可以成为构造函数。如：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Parent = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义一个函数，那它只是一个普通的函数，下面我们让这个函数变得不普通</span></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Parent();</span><br><span class="line"><span class="comment">//这时这个Parent就不是普通的函数了，它现在是一个构造函数。因为通过new关键字调用了它</span></span><br><span class="line"><span class="comment">//创建了一个Parent构造函数的实例 p1</span></span><br></pre></td></tr></table></figure>

<p>我们再引出一个概念，开始说过了要想清楚原型就要先搞清楚这三个属性，<code>__proto__</code>、<code>prototype</code>、 <code>constructor</code>。</p>
<ul>
<li>我们记住两点</li>
</ul>
<p>1.<code>__proto__</code>、 <code>constructor</code>属性是对象所独有的；<br>2.<code>prototype</code>属性是函数独有的；<br>3.上面说过js中函数也是对象的一种，那么函数同样也有属性<code>__proto__</code>、 <code>constructor</code>；</p>
<p>下面开始进入正题，我将上面的一张图拆分成3张图，分别讲解对应的3个属性。</p>
<h6 id="1-prototype属性"><a href="#1-prototype属性" class="headerlink" title="1.prototype属性"></a>1.prototype属性</h6><p>为了方便举例，我们在这模拟一个场景，父类比作师父，子类比作徒弟。师父收徒弟，<br>徒弟还可以收徒弟。徒弟可以得到师父传授的武功，然后徒弟再传给自己的徒弟。<br>师父想要传授给徒弟们的武功就放到“prototype”这个琅琊福地中。徒弟徒孙们就去这里学习武功。</p>
<p>prototype属性可以看成是一块特殊的存储空间，存储了供“徒弟”、“徒孙”们使用的方法和属性。</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160428119.png" alt="preview"></p>
<p>它是函数独有的属性，从图中可以看到它从一个函数指向另一个对象，代表这个对象是这个函数的原型对象，这个对象也是当前函数所创建的实例的原型对象。<br><code>prototype</code>设计之初就是为了实现继承，让由特定函数创建的所有实例共享属性和方法，也可以说是让某一个构造函数实例化的所有对象可以找到公共的方法和属性。有了<code>prototype</code>我们不需要为每一个实例创建重复的属性方法，而是将属性方法创建在构造函数的原型对象上（prototype）。那些不需要共享的才创建在构造函数中。<br>继续引用上面的代码，当我们想为通过Parent实例化的所有实例添加一个共享的属性时，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Parent.prototype.name = <span class="string">"我是原型属性，所有实例都可以读取到我"</span>;</span><br></pre></td></tr></table></figure>

<p>这就是原型属性，当然你也可以添加原型方法。那问题来了，<code>p1</code>怎么知道他的原型对象上有这个方法呢，往下看↓↓↓</p>
<h6 id="2-proto属性"><a href="#2-proto属性" class="headerlink" title="2.proto属性"></a>2.proto属性</h6><p>__proto__属性相当于通往prototype（“琅琊福地”）唯一的路（指针）<br>让“徒弟”、“徒孙” 们找到自己“师父”、“师父的师父” 提供给自己的方法和属性</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160429727.png" alt="preview"></p>
<p><code>__proto__</code>属性是对象（包括函数）独有的。从图中可以看到<code>__proto__</code>属性是从一个对象指向另一个对象，即从一个对象指向该对象的原型对象（也可以理解为父对象）。显然它的含义就是告诉我们一个对象的原型对象是谁。<br>prototype篇章我们说到，<code>Parent.prototype</code>上添加的属性和方法叫做原型属性和原型方法，该构造函数的实例都可以访问调用。那这个构造函数的原型对象上的属性和方法，怎么能和构造函数的实例联系在一起呢，就是通过<code>__proto__</code>属性。每个对象都有<code>__proto__</code>属性，该属性指向的就是该对象的原型对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p1.__proto__ === Parent.prototype; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p><code>__proto__</code>通常称为隐式原型，<code>prototype</code>通常称为显式原型，那我们可以说一个对象的隐式原型指向了该对象的构造函数的显式原型。那么我们在显式原型上定义的属性方法，通过隐式原型传递给了构造函数的实例。这样一来实例就能很容易的访问到构造函数原型上的方法和属性了。<br>我们之前也说过<code>__proto__</code>属性是对象（包括函数）独有的，那么<code>Parent.prototype</code>也是对象，那它有隐式原型么？又指向谁？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Parent.prototype.__proto__ === <span class="built_in">Object</span>.prototype; <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>可以看到，构造函数的原型对象上的隐式原型对象指向了Object的原型对象。那么Parent的原型对象就继承了Object的原型对象。由此我们可以验证一个结论，万物继承自Object.prototype。这也就是为什么我们可以实例化一个对象，并且可以调用该对象上没有的属性和方法了。如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//我们并没有在Parent中定义任何方法属性，但是我们可以调用</span></span><br><span class="line">p1.toString();<span class="comment">//hasOwnProperty 等等的一些方法</span></span><br></pre></td></tr></table></figure>

<p>我们可以调用很多我们没有定义的方法，这些方法是哪来的呢？现在引出原型链的概念，当我们调用<code>p1.toString()</code>的时候，先在<code>p1</code>对象本身寻找，没有找到则通过<code>p1.__proto__</code>找到了原型对象<code>Parent.prototype</code>，也没有找到，又通过<code>Parent.prototype.__proto__</code>找到了上一层原型对象Object.prototype。在这一层找到了toString方法。返回该方法供<code>p1</code>使用。<br>当然如果找到Object.prototype上也没找到，就在<code>Object.prototype.__proto__</code>中寻找，但是<code>Object.prototype.__proto__ === null</code>所以就返回undefined。这就是为什么当访问对象中一个不存在的属性时，返回undefined了。</p>
<h6 id="3-constructor属性"><a href="#3-constructor属性" class="headerlink" title="3.constructor属性"></a>3.constructor属性</h6><p>constructor属性是让“徒弟”、“徒孙” 们知道是谁创造了自己，这里可不是“师父”啊<br>而是自己的父母，父母创造了自己，父母又是由上一辈人创造的，……追溯到头就是Function() 【女娲】。</p>
<hr>
<p>补丁：上面的说法严格来讲并不正确，明显在逻辑上有一些不通顺的地方，那是因为：constructor属性本质上只有prototype对象才有，也就是说<code>构造函数.prototype.contructor === 该构造函数</code>，实例对象之所以会有是只是通过<code>_proto</code>继承来自其构造函数的原型对象。</p>
<p>所以p1 =&gt; Parent() =&gt; Function()这里的contructor属性应该用虚线表示，注明来自继承得来。</p>
<p>可以通过</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p1.hasOwnProperty(<span class="string">'constructor'</span>) <span class="comment">// false</span></span><br><span class="line">Parent.prototype.hasOwnProperty(<span class="string">'constructor'</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>得到验证。</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208160431060.png" alt="preview"></p>
<p>constructor是对象才有的属性，从图中看到它是从一个对象指向一个函数的。指向的函数就是该对象的构造函数。每个对象都有构造函数，好比我们上面的代码<code>p1</code>就是一个对象，那<code>p1</code>的构造函数是谁呢？我们打印一下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(p1.constructor); <span class="comment">// ƒ Parent()&#123;&#125;</span></span><br></pre></td></tr></table></figure>

<p>通过输出结果看到，很显然是Parent函数。我们有说过函数也是对象，那Parent函数是不是也有构造函数呢？显然是有的。再次打印下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(Parent.constructor); <span class="comment">// ƒ Function() &#123; [native code] &#125;</span></span><br></pre></td></tr></table></figure>

<p>通过输出看到Parent函数的构造函数是Function()，这点也不奇怪，因为我们每次定义函数其实都是调用了new Function()，下面两种效果是一样的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn1 = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'msg'</span>,<span class="string">'alert(msg)'</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">msg</span>)</span>&#123;</span><br><span class="line">    alert(msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>那么我们再回来看下，再次打印Function.constructor</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.constructor); <span class="comment">// ƒ Function() &#123; [native code] &#125;</span></span><br></pre></td></tr></table></figure>

<p>可以看到Function函数的构造函数就是本身了，那我们也就可以说Function是所有函数的根构造函数。<br>到这里我们已经对constructor属性有了一个初步的认识，它的作用是从一个对象指向一个函数，这个函数就是该对象的构造函数。通过栗子我们可以看到，<code>p1</code>的<code>constructor</code>属性指向了<code>Parent</code>，那么<code>Parent</code>就是<code>p1</code>的构造函数。同样<code>Parent</code>的<code>constructor</code>属性指向了<code>Function</code>，那么<code>Function</code>就是<code>Parent</code>的构造函数，然后又验证了<code>Function</code>就是根构造函数。</p>
<p>脑筋急转弯之 存在没有原型的对象吗？使用<code>Objetct.create(null)</code>可以创建出没有原型的对象。</p>
<h6 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a>4.总结</h6><p>ok，上面的比喻是为了初学者能够方便的理解原型和原型链，下面梳理一下流程。</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208170956321.png" alt="img"></p>
<p>在这个过程里面，关于prototype我觉得有两个理解含义，在箭头上面的<code>prototype</code>有点类似于<code>.prototype指针</code>的意思，而<code>Person.prototype</code>毫无疑问就是常规意义上的原型对象。</p>
<h6 id="5-使用习惯"><a href="#5-使用习惯" class="headerlink" title="5.使用习惯"></a>5.使用习惯</h6><p>关于构造函数，咱们引入一些使用习惯：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">funcion A(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name; <span class="comment">// 实例基本属性 (该属性，强调私有，不共享)</span></span><br><span class="line">    <span class="keyword">this</span>.arr = [<span class="number">1</span>]; <span class="comment">// 实例引用属性 (该属性，强调私用，不共享)</span></span><br><span class="line">    <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// 实例引用属性 (该属性，强调复用，需要共享)</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//注意：数组和方法都属于‘实例引用属性’，但是数组强调私有、不共享的。方法需要复用、共享。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//注意：在构造函数中，一般很少有数组形式的引用属性，大部分情况都是：基本属性 + 方法。</span></span><br></pre></td></tr></table></figure>

<p>原型对象的使用习惯</p>
<blockquote>
<p>原型对象的用途是为每个实例对象存储共享的方法和属性，它仅仅是一个普通对象而已。并且所有的实例是共享同一个原型对象，因此有别于实例方法或属性，原型对象仅有一份。而实例有很多份，且实例属性和方法是独立的。</p>
<p>在构造函数中：为了属性(实例基本属性)的私有性、以及方法(实例引用属性)的复用、共享。我们提倡：</p>
</blockquote>
<ul>
<li>将属性封装在构造函数中</li>
<li>将方法定义在原型对象上</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">funcion A(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name; <span class="comment">// (该属性，强调私有，不共享)</span></span><br><span class="line">&#125;</span><br><span class="line">A.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// 定义在原型对象上的方法 (强调复用，需要共享)</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐的写法</span></span><br><span class="line">A.prototype = &#123;</span><br><span class="line">    say: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐的原因：（原因和上面连续赋值的例子很像）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'John'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">Person.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Hello,'</span> + <span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 此时可以正常调用</span></span><br><span class="line">person.say();<span class="comment">//Hello,John</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果换成另一种表达方式</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = <span class="string">'John'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">    Person.prototype = &#123;</span><br><span class="line">        say: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'Hello,'</span> + <span class="keyword">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">	<span class="comment">// 此时无法正常调用 原因很简单，在给Person.prototype重新赋值的时候，person的_proto_并不会跟着Person.prototype一起指向新值，所以在下面调用say，是访问不到的，同样属于是原型里面的知识点。</span></span><br><span class="line">    person.say();<span class="comment">//person.say is not a function</span></span><br></pre></td></tr></table></figure>

<h5 id="JS继承"><a href="#JS继承" class="headerlink" title="JS继承"></a>JS继承</h5><blockquote>
<p>js中的继承有多种方式，大体上就是两种，一种是基于原型链覆盖的形式、一种是对象冒充也就是通过改变this指向。支持多继承，通过原型链可以一直往上找。</p>
</blockquote>
<h6 id="1-原型链继承"><a href="#1-原型链继承" class="headerlink" title="1.原型链继承"></a>1.原型链继承</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.x = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.getX = <span class="function"><span class="keyword">function</span> <span class="title">getX</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.y = <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//原型继承 Child通过原型链可以找到Parent中的私有属性和Parent.prototype中的公有属性</span></span><br><span class="line">Child.prototype = <span class="keyword">new</span> Parent;</span><br><span class="line">Child.prototype.getY = <span class="function"><span class="keyword">function</span> <span class="title">getY</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child;</span><br></pre></td></tr></table></figure>

<p>优点：父类方法可以复用</p>
<p>缺点：</p>
<p>1.父类所有的引用类型数据（对象，数组）会被子类共享，更改一个子类的数据，其他数据会受到影响，一直变化。</p>
<p>2.子类实例不能给父类构造函数传参</p>
<h6 id="2-构造函数继承"><a href="#2-构造函数继承" class="headerlink" title="2.构造函数继承"></a>2.构造函数继承</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'小明'</span></span><br><span class="line">    <span class="keyword">this</span>.eats = [<span class="string">'苹果'</span>]</span><br><span class="line">    <span class="keyword">this</span>.getName = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">Person.prototype.get = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Person.prototype上的方法"</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Person.call(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> stu1 = <span class="keyword">new</span> Student;</span><br><span class="line"><span class="built_in">console</span>.log(stu1.name);</span><br><span class="line"><span class="built_in">console</span>.log(stu1.eats);</span><br><span class="line">stu1.getName();</span><br><span class="line">stu1.get(); <span class="comment">// 报错 提示没有这种方法</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(stu1)</span><br></pre></td></tr></table></figure>

<p>这种情况下，在Child的构造函数中，使用<code>Parent.call(this)</code>直接调用了Parent的“构造函数”，这里是要突出这个引号，原因是其实只调用了这个函数，严格意义上并不能称之为构造函数，在JS中只有创建了实例的函数才能叫构造函数，但是在此例中并没有构造实例，也就造成了一个问题——因为并没有构造实例，并不会触发<code>Parent.prototype</code>,所以是没法调用到上面的<code>getX</code>的。</p>
<p>这种方式的优点是 父类的引用类型不会被子类共享，不会互相影响。</p>
<p>缺点是不能访问父类的原型属性（因为父类的原型属性根本没被创造出来）</p>
<h6 id="3-组合继承"><a href="#3-组合继承" class="headerlink" title="3.组合继承"></a>3.组合继承</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'小明'</span></span><br><span class="line">    <span class="keyword">this</span>.eats = [<span class="string">'苹果'</span>]</span><br><span class="line">    <span class="keyword">this</span>.getName = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">Person.prototype.get = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Person.prototype上的方法"</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Person.call(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line">Student.prototype = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> stu1 = <span class="keyword">new</span> Student;</span><br><span class="line"><span class="built_in">console</span>.log(stu1.name);</span><br><span class="line"><span class="built_in">console</span>.log(stu1.eats);</span><br><span class="line">stu1.getName();</span><br><span class="line">stu1.get();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(stu1)</span><br></pre></td></tr></table></figure>

<p>这种方式相当于是上面两种的合体，这种方式在第二种的前提上，真正的把父类的对象创建了，所以自然也就会调用到父类的原型对象。也能用到里面的方法。</p>
<p>但是这个里面也会有一个缺点。</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208181015479.png" alt="image-20220818101558357"></p>
<p>可以看到，只需要一份的数据，在这种继承模式下，会分别在父类和子类里面都有一份，虽然能满足需求但是性能会比较差一点。</p>
<h6 id="4-寄生组合继承"><a href="#4-寄生组合继承" class="headerlink" title="4.寄生组合继承"></a>4.寄生组合继承</h6><p>细推上面那种方式，想知道父类里面的重复数据是哪里来的，其实就是父类在创建对象的过程中，<code>Student.prototype = new Person();</code>这里把Person对象创建出来重新加载了一次。如果这个Person构造函数中没有属性的话（只有父类的原型对象有），其实是满足我们要求的。</p>
<p>考虑到这，那么有没有办法能够忽略到父类构造函数中属性的方法呢？</p>
<p>有的，使用解几何题中常见的手段——辅助线（中间函数）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'小明'</span></span><br><span class="line">    <span class="keyword">this</span>.eats = [<span class="string">'苹果'</span>]</span><br><span class="line">    <span class="keyword">this</span>.getName = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">Person.prototype.get = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Person.prototype上的方法"</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Person.call(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Student.prototype = new Person();</span></span><br><span class="line"><span class="keyword">const</span> Fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">Fn.prototype = Person.prototype</span><br><span class="line"></span><br><span class="line">Student.prototype = <span class="keyword">new</span> Fn()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> stu1 = <span class="keyword">new</span> Student;</span><br><span class="line"><span class="built_in">console</span>.log(stu1.name);</span><br><span class="line"><span class="built_in">console</span>.log(stu1.eats);</span><br><span class="line">stu1.getName();</span><br><span class="line">stu1.get();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(stu1)</span><br></pre></td></tr></table></figure>

<p>使用Fn指向Person的原型对象，然后新建一个Fn，这样就相当于构建了一个没有属性的父类，等效的。</p>
<p>理论上是比较优秀的方案。</p>
<h6 id="5-ES6自带继承"><a href="#5-ES6自带继承" class="headerlink" title="5.ES6自带继承"></a>5.ES6自带继承</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span></span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span>()&#123;</span><br><span class="line">		<span class="keyword">this</span>.x=<span class="number">100</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	getX()&#123;</span><br><span class="line">		retrun <span class="keyword">this</span>.x;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Parent</span></span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span>()&#123;</span><br><span class="line">		<span class="keyword">super</span>();<span class="comment">//类似于call继承super(100,200) 相当于把Parent中的constructor执行，传递了100和200</span></span><br><span class="line">		<span class="keyword">this</span>.y=<span class="number">200</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	getY()&#123;</span><br><span class="line">		retrun <span class="keyword">this</span>.y;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>是更新之后，语言自己给出的解决方案。添加了一些class extend等新概念。</p>
<h4 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">functionName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 函数体</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> functionName2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 函数体</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数表达式: JavaScript 函数可以通过一个表达式定义,函数表达式可以存储在变量中：</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;<span class="keyword">return</span> a * b&#125;;</span><br><span class="line"><span class="comment">// 在函数表达式存储在变量后，变量也可作为一个函数使用：</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;<span class="keyword">return</span> a * b&#125;;</span><br><span class="line"><span class="keyword">var</span> z = x(<span class="number">4</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在函数表达式存储在变量后，变量也可作为一个函数使用：</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;<span class="keyword">return</span> a * b&#125;;</span><br><span class="line"><span class="keyword">var</span> z = x(<span class="number">4</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数同样可以通过内置的 JavaScript 函数构造器（Function()）定义。</span></span><br><span class="line"><span class="keyword">var</span> myFunction = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"return a * b"</span>);</span><br><span class="line"><span class="keyword">var</span> x = myFunction(<span class="number">4</span>, <span class="number">3</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 函数提升（Hoisting） 函数可以在声明之前调用 使用表达式定义函数时无法提升。</span></span><br><span class="line">myFunction(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> y * y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 自调用函数</span></span><br><span class="line"><span class="comment">函数表达式可以 "自调用"。</span></span><br><span class="line"><span class="comment">自调用表达式会自动调用。</span></span><br><span class="line"><span class="comment">如果表达式后面紧跟 () ，则会自动调用。</span></span><br><span class="line"><span class="comment">不能自调用声明的函数。</span></span><br><span class="line"><span class="comment">通过添加括号，来说明它是一个函数表达式：*/</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="string">"Hello!!"</span>;      <span class="comment">// 我将调用自己</span></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 箭头函数</span></span><br><span class="line"><span class="comment">/*(参数1, 参数2, …, 参数N) =&gt; &#123; 函数声明 &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">(参数1, 参数2, …, 参数N) =&gt; 表达式(单一)</span></span><br><span class="line"><span class="comment">相当于：(参数1, 参数2, …, 参数N) =&gt;&#123; return 表达式; &#125; */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 递归</span></span><br><span class="line"><span class="comment">// arguments.callee 指向正在执行的函数的指针</span></span><br><span class="line"><span class="comment">// 求阶乘</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> num * <span class="built_in">arguments</span>.callee(num - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 严格模式下不能访问arguments.callee 从而出错</span></span><br><span class="line"><span class="keyword">var</span> factorial2 = (<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> num * f(num - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 闭包</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 有权访问另一个函数作用域中的变量函数</span></span><br><span class="line"><span class="comment">* 由于闭包会携带包含它的函数的作用域，因此会比其他函数占用更多的内存。</span></span><br><span class="line"><span class="comment">* 过度使用闭包会导致内存占用过多</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数可以访问由函数内部定义的变量，如：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">return</span> a * a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数也可以访问函数外部定义的变量，如：</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">4</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a * a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 后面一个实例中， a 是一个 全局 变量。</span></span><br><span class="line"><span class="comment">在web页面中全局变量属于 window 对象</span></span><br><span class="line"><span class="comment">全局变量可应用于页面上的所有脚本。</span></span><br><span class="line"><span class="comment">在第一个实例中， a 是一个 局部 变量。</span></span><br><span class="line"><span class="comment">局部变量只能用于定义它函数内部。对于其他的函数或脚本代码是不可用的。</span></span><br><span class="line"><span class="comment">全局和局部变量即便名称相同，它们也是两个不同的变量。修改其中一个，不会影响另一个的值。 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 计数器困境</span></span><br><span class="line"><span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> counter += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">add();</span><br><span class="line">add();</span><br><span class="line">add();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 计数器现在为 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*计数器数值在执行 add() 函数时发生变化。</span></span><br><span class="line"><span class="comment">但问题来了，页面上的任何脚本都能改变计数器，即便没有调用 add() 函数。</span></span><br><span class="line"><span class="comment">如果我在函数内声明计数器，如果没有调用函数将无法修改计数器的值：*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> counter += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">add();</span><br><span class="line">add();</span><br><span class="line">add();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 本意是想输出 3, 但事与愿违，输出的都是 1 !</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//JavaScript 内嵌函数可以解决该问题。</span></span><br><span class="line"><span class="comment">/*所有函数都能访问全局变量。  </span></span><br><span class="line"><span class="comment">实际上，在 JavaScript 中，所有函数都能访问它们上一层的作用域。</span></span><br><span class="line"><span class="comment">JavaScript 支持嵌套函数。嵌套函数可以访问上一层的函数变量。</span></span><br><span class="line"><span class="comment">该实例中，内嵌函数 plus() 可以访问父函数的 counter 变量：*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">plus</span>(<span class="params"></span>) </span>&#123;counter += <span class="number">1</span>;&#125;</span><br><span class="line">    plus();    </span><br><span class="line">    <span class="keyword">return</span> counter; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*如果我们能在外部访问 plus() 函数，这样就能解决计数器的困境。</span></span><br><span class="line"><span class="comment">我们同样需要确保 counter = 0 只执行一次。</span></span><br><span class="line"><span class="comment">我们需要闭包。(closures)*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> add = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="keyword">return</span> counter += <span class="number">1</span>;&#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">add();</span><br><span class="line">add();</span><br><span class="line">add();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 计数器为 3, 变量 add 指定了函数自我调用的返回字值。自我调用函数只执行一次。设置计数器为 0。并返回函数表达式。add变量可以作为一个函数使用。非常棒的部分是它可以访问函数上一层作用域的计数器。这个叫作 JavaScript 闭包。它使得函数拥有私有变量变成可能。计数器受匿名函数的作用域保护，只能通过 add 方法修改。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 关于this对象</span></span><br><span class="line"><span class="comment">// 在闭包中使用this对象也可能会导致一些问题。this对象是在运行时基于函数的执行</span></span><br><span class="line"><span class="comment">// 环境绑定的：在全局函数中，this等于window，而当函数被作为某个对象的方法调用</span></span><br><span class="line"><span class="comment">// 时，this等于那个对象。不过匿名函数的执行环境具有全局性，因此其this对象通常</span></span><br><span class="line"><span class="comment">// 指向window</span></span><br></pre></td></tr></table></figure>

<p>…</p>
<h4 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h4><p> Browser Object Model</p>
<p>BOM的解释是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">BOM即浏览器对象模型。</span><br><span class="line">BOM提供了独立于内容 而与浏览器窗口进行交互的对象；</span><br><span class="line">由于BOM主要用于管理窗口与窗口之间的通讯，因此其核心对象是window；</span><br><span class="line">BOM由一系列相关的对象构成，并且每个对象都提供了很多方法与属性；</span><br><span class="line">BOM缺乏标准，JavaScript语法的标准化组织是ECMA，DOM的标准化组织是W3C，BOM最初是Netscape浏览器标准的一部分。</span><br></pre></td></tr></table></figure>

<p>使用BOM，开发者可以操控浏览器显示页面之外的部分。而它最独特的地方，就是问题最多的地方，激素它唯一一个没有相关标注的javascript实现。总体来说，BOM主要针对的是浏览器窗口和子窗口，但是通常会把任何特定于浏览器的扩展都归于在BOM的范畴内。下面是一些拓展：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">弹出新浏览器窗口的能力。</span><br><span class="line">移动、缩放和关闭浏览器窗口的详近信息。</span><br><span class="line">navigator对象，提供关于浏览器的详尽信息。</span><br><span class="line">location对象，提供浏览器加载页面的详尽信息。</span><br><span class="line">screen对象，提供关于用户屏幕分辨率的详尽信息。</span><br><span class="line">performance对象，提供浏览器内存占用、导航行为和时间统计的详尽信息。</span><br><span class="line">对cookie的支持。</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 如果页面中包含框架（frame），则每个框架都拥有自己的window对象，并且保存在frames集合中</span></span><br><span class="line"><span class="comment">* 在frames集合中，可以通过数值索引（从0开开始，从左到右，从上到下）或者框架名来访问相应</span></span><br><span class="line"><span class="comment">* 的window对象。每个window对象都有一个name属性，其中包含框架名称。</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 窗口位置（screenLeft，screenTop）</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* moveTo()接收新位置</span></span><br><span class="line"><span class="comment">* moveBy()接收的是水平和垂直方向上移动的像素数</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 窗口大小</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 不同浏览器之间的差异性</span></span><br><span class="line"><span class="comment">* IE9+，Safari和Firefox中，outerWidth，outHeight，返回浏览器窗口本身的尺寸。Opera中，这</span></span><br><span class="line"><span class="comment">* 两个属性的值表示视图容器（Opera中单个标签页对应的浏览器窗口）的大小。innerWidth和</span></span><br><span class="line"><span class="comment">* innerHeight则表示该容器中页面视图区的大小（减去边框宽度）。在Chrome中，outerWidth、</span></span><br><span class="line"><span class="comment">* outerHeight与innerWidth、innerHeight返回相同的值，即视口大小（viewport）大小而非浏览</span></span><br><span class="line"><span class="comment">* 器窗口大小</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* IE、Firefox,Safari,Opera,和Chrome中document.documentElement.clientWidth 和 document.</span></span><br><span class="line"><span class="comment">* documentElement.clientHeight中保存了页面视口信息。在ie6中，这些属性必须在标准模式下才</span></span><br><span class="line"><span class="comment">* 有效。如果是混杂模式，就必须通过document.body.clientWidth和document.body.clientHeight</span></span><br><span class="line"><span class="comment">* 取得相同信息。而对于混杂模式下的Chrome，则无论通过document.documentElement还是document。</span></span><br><span class="line"><span class="comment">* body中的clientWidth和clientHeight属性都可以获取视口的大小</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 获取页面视口大小</span></span><br><span class="line"><span class="keyword">var</span> pageWidth = <span class="built_in">window</span>.innerWidth,</span><br><span class="line">    pageHeight = <span class="built_in">window</span>.innerHeight;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> pageWidth !== <span class="string">"number"</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.compatMode === <span class="string">"CSS1Compat"</span>) &#123;<span class="comment">//是否处于标准模式</span></span><br><span class="line">        pageWidth = <span class="built_in">document</span>.documentElement.clientWidth;</span><br><span class="line">        pageHeight = <span class="built_in">document</span>.documentElement.clientHeight;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        pageWidth = <span class="built_in">document</span>.body.clientWidth;</span><br><span class="line">        pageHeight = <span class="built_in">document</span>.body.clientHeight;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 在移动端：视口信息保存在document.body.clientWidth和document.body.clientHeight中</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 调整浏览器窗口大小</span></span><br><span class="line"><span class="comment">* resizeTo() 接收浏览器窗口的新宽度和新高度</span></span><br><span class="line"><span class="comment">* resizeBy() 接收新窗口与原窗口的宽高差值</span></span><br><span class="line"><span class="comment">* moveTo() 移动位置</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 导航和打开窗口</span></span><br><span class="line"><span class="comment">// 弹出窗口 window.open()（大多数浏览器会屏蔽窗口弹框）</span></span><br><span class="line"><span class="comment">// 安全限制</span></span><br><span class="line"><span class="comment">// 弹出窗口屏蔽程序</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 间歇调用和超时调用</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 间歇调用：setInterval(function()&#123;&#125;,time)</span></span><br><span class="line"><span class="comment">* 超时调用：setTimeout(function()&#123;&#125;,time)</span></span><br><span class="line"><span class="comment">* 清除：clearInterval(intervalId) clearTimeout(timer)</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 间歇和超时调用的代码都是在全局作用域中执行的，因此函数中的this的值在非严格</span></span><br><span class="line"><span class="comment">* 模式下指向window对象，在严格模式下是undefined</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 系统对话框</span></span><br><span class="line"><span class="comment">// alert()(提示文本、确认) confirm()（提示文本、取消、确定） prompt(文本、输</span></span><br><span class="line"><span class="comment">// 入框、取消、确认)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// location 对象</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* location对象的所有属性</span></span><br><span class="line"><span class="comment">* hash  '#contents' 返回URL中的hash（#号后跟零或多个字符），如果URL中不包含散列，</span></span><br><span class="line"><span class="comment">* 则返回空字符串</span></span><br><span class="line"><span class="comment">* host  'www.wrox.com:80' 返回服务器名称和端口号（如果有）</span></span><br><span class="line"><span class="comment">* hostname  'www.wrox.com' 返回不带端口号的服务名称</span></span><br><span class="line"><span class="comment">* href  'http:/www.wrox.com' 返回当前加载页面的完整URL。而location对象的toString（）</span></span><br><span class="line"><span class="comment">* 方法也返回这个值</span></span><br><span class="line"><span class="comment">* pathname '/WileyCDA/'  返回URL中的目录和（或）文件名</span></span><br><span class="line"><span class="comment">* port  '8080'  返回URL中指定的端口号。如果URL中不包含端口号，则这个属性返回空字符串</span></span><br><span class="line"><span class="comment">* protocol  'http'  返回页面使用的协议。通常是http：或https:</span></span><br><span class="line"><span class="comment">* search  '?q=javascript'  返回URL的查询字符串。这个字符串以问号开头</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 查询字符串参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getQueryStringArgs</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//查询字符串并去掉开头的问号</span></span><br><span class="line">    <span class="keyword">var</span> qs = (location.search.length &gt; <span class="number">0</span> ? location.search.substring(<span class="number">1</span>) : <span class="string">""</span>),</span><br><span class="line">        <span class="comment">// 保存数据的对象</span></span><br><span class="line">        args = &#123;&#125;,</span><br><span class="line">        <span class="comment">//取得每一项</span></span><br><span class="line">        items = qs.length ? qs.split(<span class="string">"&amp;"</span>) : [],</span><br><span class="line">        item = <span class="literal">null</span>,</span><br><span class="line">        name = <span class="literal">null</span>,</span><br><span class="line">        value = <span class="literal">null</span>,</span><br><span class="line">        <span class="comment">//在for循环中使用</span></span><br><span class="line">        i = <span class="number">0</span>,</span><br><span class="line">        len = items.length;</span><br><span class="line">    <span class="comment">//逐个将每一项添加到args对象中</span></span><br><span class="line">    <span class="keyword">for</span> (; i &lt; len; i++) &#123;</span><br><span class="line">        item = items[i].split(<span class="string">"="</span>);</span><br><span class="line">        name = <span class="built_in">decodeURIComponent</span>(item[<span class="number">0</span>]);</span><br><span class="line">        value = <span class="built_in">decodeURIComponent</span>(item[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (name.length) &#123;</span><br><span class="line">            args[name] = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> args;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 位置操作</span></span><br><span class="line"><span class="comment">// location.assign()</span></span><br><span class="line"><span class="comment">// location.href</span></span><br><span class="line"><span class="comment">// window.location</span></span><br><span class="line"><span class="comment">// location.replace() 浏览器位置改变，但不会在历史记录中生成新记录。所以跳转后不能后退</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// navigator 用于检测浏览器类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 检测插件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// screen 对象表明客户端的能力</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// history 对象</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*history.go()可以在历史记录中任意跳转</span></span><br><span class="line"><span class="comment">*history.back() 后退</span></span><br><span class="line"><span class="comment">* history.forward() 前进</span></span><br><span class="line"><span class="comment">* history.length 历史记录的数量</span></span><br><span class="line"><span class="comment">* */</span></span><br></pre></td></tr></table></figure>

<h4 id="客户端检测"><a href="#客户端检测" class="headerlink" title="客户端检测"></a>客户端检测</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 能力检测</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 在实际开发中，应该讲能力检测作为确定下一步解决方案的依据，而不是用它来判断浏览器</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 怪癖检测</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用户代理检测</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用户代理字符串检测技术（navigator.userAgent）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> browser=&#123;</span><br><span class="line">    versions:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> u = navigator.userAgent, app = navigator.appVersion;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            trident: u.indexOf(<span class="string">'Trident'</span>) &gt; <span class="number">-1</span>, <span class="comment">//IE内核</span></span><br><span class="line">            presto: u.indexOf(<span class="string">'Presto'</span>) &gt; <span class="number">-1</span>, <span class="comment">//opera内核</span></span><br><span class="line">            webKit: u.indexOf(<span class="string">'AppleWebKit'</span>) &gt; <span class="number">-1</span>, <span class="comment">//苹果、谷歌内核</span></span><br><span class="line">            gecko: u.indexOf(<span class="string">'Gecko'</span>) &gt; <span class="number">-1</span> &amp;&amp; u.indexOf(<span class="string">'KHTML'</span>) == <span class="number">-1</span>,<span class="comment">//火狐内核</span></span><br><span class="line">            mobile: !!u.match(<span class="regexp">/AppleWebKit.*Mobile.*/</span>), <span class="comment">//是否为移动终端</span></span><br><span class="line">            ios: !!u.match(<span class="regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>), <span class="comment">//ios终端</span></span><br><span class="line">            android: u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Linux'</span>) &gt; <span class="number">-1</span>, <span class="comment">//android终端或者uc浏览器</span></span><br><span class="line">            iPhone: u.indexOf(<span class="string">'iPhone'</span>) &gt; <span class="number">-1</span> , <span class="comment">//是否为iPhone或者QQHD浏览器</span></span><br><span class="line">            iPad: u.indexOf(<span class="string">'iPad'</span>) &gt; <span class="number">-1</span>, <span class="comment">//是否iPad</span></span><br><span class="line">            webApp: u.indexOf(<span class="string">'Safari'</span>) == <span class="number">-1</span>, <span class="comment">//是否web应该程序，没有头部与底部</span></span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;(),</span><br><span class="line">    language:(navigator.browserLanguage || navigator.language).toLowerCase()</span><br><span class="line">&#125;</span><br><span class="line">alert(<span class="built_in">JSON</span>.stringify(browser));</span><br><span class="line"><span class="keyword">if</span> (browser.versions.mobile) &#123;<span class="comment">//判断是否是移动设备打开。browser代码在下面</span></span><br><span class="line">    <span class="keyword">var</span> ua = navigator.userAgent.toLowerCase();<span class="comment">//获取判断用的对象</span></span><br><span class="line">    <span class="keyword">if</span> (ua.match(<span class="regexp">/MicroMessenger/i</span>) === <span class="string">"micromessenger"</span>) &#123;</span><br><span class="line">        <span class="comment">//在微信中打开</span></span><br><span class="line">        alert(<span class="string">"微信"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(ua.match(<span class="regexp">/QQ/i</span>) === <span class="string">"qq"</span>)&#123;</span><br><span class="line">        alert(<span class="string">"qq"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (ua.match(<span class="regexp">/WeiBo/i</span>) === <span class="string">"weibo"</span>) &#123;</span><br><span class="line">        <span class="comment">//在新浪微博客户端打开</span></span><br><span class="line">        alert(<span class="string">"新浪微博客户端"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (browser.versions.ios) &#123;</span><br><span class="line">        <span class="comment">//是否在IOS浏览器打开</span></span><br><span class="line">        alert(<span class="string">"ios"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(browser.versions.android)&#123;</span><br><span class="line">        <span class="comment">//是否在安卓浏览器打开</span></span><br><span class="line">        alert(<span class="string">"安卓浏览器"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//否则就是PC浏览器打开</span></span><br><span class="line">    alert(<span class="string">"pc"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h4><p>当网页被加载时，浏览器会创建页面的文档对象模型（Document Object Model）。</p>
<p><strong>HTML DOM</strong> 模型被构造为<strong>对象</strong>的树：</p>
<p><img src="https://raw.githubusercontent.com/FlyMeToTheMars/PictureRepo/main/img/202208191115526.png" alt="image-20220819111052132"></p>
<p>通过可编程的对象模型，JavaScript 获得了足够的能力来创建动态的 HTML。</p>
<ul>
<li>JavaScript 能够改变页面中的所有 HTML 元素</li>
<li>JavaScript 能够改变页面中的所有 HTML 属性</li>
<li>JavaScript 能够改变页面中的所有 CSS 样式</li>
<li>JavaScript 能够对页面中的所有事件做出反应</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// DOM（文档对象模型）</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 是针对HTML和XML文档的一个API（应用程序编程接口）。dom描绘了一个层次化的节点树，允许开发人员</span></span><br><span class="line"><span class="comment">* 添加、移除和修改页面的某一部分。dom脱胎于DHTML（动态HTML）。</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// node类型</span></span><br><span class="line"><span class="comment">// nodeType</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Node.ELEMENT_NODE (1)</span></span><br><span class="line"><span class="comment">Node.ATTRIBUTE_NODE (2)</span></span><br><span class="line"><span class="comment">Node.TEXT_NODE (3)</span></span><br><span class="line"><span class="comment">Node.CDATA_SECTION_NODE (4)</span></span><br><span class="line"><span class="comment">Node.ENTITY_REFERENCE_NODE (5)</span></span><br><span class="line"><span class="comment">Node.ENTITY_NODE (6)</span></span><br><span class="line"><span class="comment">Node.PROCESSING_INSTRUCTION_NODE (7)</span></span><br><span class="line"><span class="comment">Node.COMMENT_NODE (8)</span></span><br><span class="line"><span class="comment">Node.DOCUMENT_NODE (9)</span></span><br><span class="line"><span class="comment">Node.DOCUMENT_TYPE_NODE (10)</span></span><br><span class="line"><span class="comment">Node.DOCUMENT_FRAGMENT_NODE (11)</span></span><br><span class="line"><span class="comment">Node.NOTATION_NODE (12)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// nodeName(标签名) nodeValue（null）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// node 节点之间的关系</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* parentNode 父节点</span></span><br><span class="line"><span class="comment">* childNodes 子节点</span></span><br><span class="line"><span class="comment">* firstChild 第一个子节点</span></span><br><span class="line"><span class="comment">* lastChild  最后一个子节点</span></span><br><span class="line"><span class="comment">* nextSibling 下一个子节点</span></span><br><span class="line"><span class="comment">* previousSibling 上一个子节点</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* hasChildNodes()</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作节点</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* appendChild() 向childNodes列表的末尾添加一个节点</span></span><br><span class="line"><span class="comment">* insertBefore() 要插入的节点和作为参照的节点如果参照节点为null则和appendChild()一样</span></span><br><span class="line"><span class="comment">* replaceChild() 替换节点</span></span><br><span class="line"><span class="comment">* removeChild() 移除节点</span></span><br><span class="line"><span class="comment">* cloneNode() 复制节点</span></span><br><span class="line"><span class="comment">* normalize() 处理文档树中的文本节点</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Document</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* nodeType 9</span></span><br><span class="line"><span class="comment">* nodeName #document</span></span><br><span class="line"><span class="comment">* nodeValue null</span></span><br><span class="line"><span class="comment">* parentNode null</span></span><br><span class="line"><span class="comment">* ownerDocument null</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 文档信息</span></span><br><span class="line"><span class="comment">// 查找元素</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* document.getElementById() 通过ID</span></span><br><span class="line"><span class="comment">* document.getElementsByTagName() 通过标签名</span></span><br><span class="line"><span class="comment">* document.getElementByName() 通过name属性值</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// DOM一致性检测</span></span><br><span class="line"><span class="comment">// 文档写入</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* write()</span></span><br><span class="line"><span class="comment">* writeln()</span></span><br><span class="line"><span class="comment">* open()</span></span><br><span class="line"><span class="comment">* close()</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Element</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* nodeType:1</span></span><br><span class="line"><span class="comment">* nodeName的值为元素的标签名</span></span><br><span class="line"><span class="comment">* nodeValue null</span></span><br><span class="line"><span class="comment">* parentNode Document 或 Element</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">//  html 元素</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* id,元素文档中的唯一标识符</span></span><br><span class="line"><span class="comment">* title,有关元素的附加说明信息</span></span><br><span class="line"><span class="comment">* lang,元素内容的语言代码，很少使用</span></span><br><span class="line"><span class="comment">* dir,语言的方向，很少使用</span></span><br><span class="line"><span class="comment">* className,与元素的class特性对应，即为元素指定Css类</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 取得特性</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*getAttribute()</span></span><br><span class="line"><span class="comment">*setAttribute()</span></span><br><span class="line"><span class="comment">*removeAttribute()</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建元素</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* document.createElement()</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素的子节点（childNodes）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// text类型</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* nodeType 3</span></span><br><span class="line"><span class="comment">* nodeName #text</span></span><br><span class="line"><span class="comment">* nodeValue 节点所包含的文本</span></span><br><span class="line"><span class="comment">* parentNode Element</span></span><br><span class="line"><span class="comment">* appendData(text) 将text添加到节点末尾</span></span><br><span class="line"><span class="comment">* deleteData（offset，count）从offset指定位置删除count个字符</span></span><br><span class="line"><span class="comment">* insertData（offset,text）在offset指定的位置插入text</span></span><br><span class="line"><span class="comment">* replaceData（offset，count，text）用text替换从offset指定位置到offset+count为止处的文本</span></span><br><span class="line"><span class="comment">* splitText(offset) 从offset指定位置将当前文本节点分成两个文本节点</span></span><br><span class="line"><span class="comment">* substringData(offset,count) 提取从offset指定位置开始到offset+count为止处的字符串</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 创建文本节点</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* document.createTextNode()</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 规范化文本节点（normalize()）</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 将所有文本节点合并成一个节点，结果节点的nodeValue等于合并前每个文本节点的nodeValue值拼</span></span><br><span class="line"><span class="comment">* 起来的值</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 分割文本节点 （splitText()） 与 normalize()相反</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Comment 类型</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* nodeType 8</span></span><br><span class="line"><span class="comment">* nodeName #comment</span></span><br><span class="line"><span class="comment">* nodeValue 注释的内容</span></span><br><span class="line"><span class="comment">* parentNode Document或Element</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 创建 document.createComment()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// CDATASection 类型</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* nodeType 4</span></span><br><span class="line"><span class="comment">* nodeName #cdata-section</span></span><br><span class="line"><span class="comment">* nodeValue CDATA 区域的内容</span></span><br><span class="line"><span class="comment">* parentNode 可能是Document 或 Element</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// DocumentType类型</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* nodeType 10</span></span><br><span class="line"><span class="comment">* nodeName doctype的名称</span></span><br><span class="line"><span class="comment">* nodeValue null</span></span><br><span class="line"><span class="comment">* parentNode Document</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// DocumentFragment 类型</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* nodeType 11</span></span><br><span class="line"><span class="comment">* nodeName #document-fragment</span></span><br><span class="line"><span class="comment">* nodeValue null</span></span><br><span class="line"><span class="comment">* parentNode null</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 document.createDocumentFragment()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Attr类型</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* nodeType 2</span></span><br><span class="line"><span class="comment">* nodeName 特性的名称</span></span><br><span class="line"><span class="comment">* nodeValue 特性的值</span></span><br><span class="line"><span class="comment">* parentNode null</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 创建 document.createAttribute()</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 不建议直接访问特性节点。实际上，使用getAttribute(),setAttribute()和removeAttribute()</span></span><br><span class="line"><span class="comment">* 方法远比操作特性节点方便</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// DOM操作技术</span></span><br><span class="line"><span class="comment">// 动态添加脚本</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">    script.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">    script.src = url;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 动态添加代码</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScriptString</span>(<span class="params">code</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">    script.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        script.appendChild(<span class="built_in">document</span>.createTextNode(code));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ex)&#123;</span><br><span class="line">        script.text = code;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 动态添加样式表</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadStyles</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> link = <span class="built_in">document</span>.createElement(<span class="string">"link"</span>);</span><br><span class="line">    link.rel = <span class="string">"stylesheet"</span>;</span><br><span class="line">    link.type = <span class="string">"text/css"</span>;</span><br><span class="line">    link.href = url;</span><br><span class="line">    <span class="keyword">var</span> head = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"head"</span>)[<span class="number">0</span>];</span><br><span class="line">    head.appendChild(link);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 动态添加css</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadStyleString</span>(<span class="params">css</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> style = <span class="built_in">document</span>.createElement(<span class="string">"style"</span>);</span><br><span class="line">    style.type = <span class="string">"text/css"</span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        style.appendChild(<span class="built_in">document</span>.createTextNode(css));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ex)&#123;</span><br><span class="line">        style.styleSheet.cssText = css;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> head = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"head"</span>)[<span class="number">0</span>];</span><br><span class="line">    head.appendChild(style);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 如果专门针对IE编写代码，务必小心使用styleSheet.cssText属性。在重用同一个&lt;style&gt;元素</span></span><br><span class="line"><span class="comment">* 并再次设置这个属性时，有可能会导致浏览器奔溃。同样，将cssText属性设置为空字符串也可</span></span><br><span class="line"><span class="comment">* 能导致浏览器奔溃</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作表格</span></span><br><span class="line"><span class="comment">// 创建表格</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">html 创建</span></span><br><span class="line"><span class="comment">&lt;table border="1" width="100%"&gt;</span></span><br><span class="line"><span class="comment">    &lt;tbody&gt;</span></span><br><span class="line"><span class="comment">        &lt;tr&gt;</span></span><br><span class="line"><span class="comment">            &lt;td&gt;Cell 1,1&lt;/td&gt;</span></span><br><span class="line"><span class="comment">            &lt;td&gt;Cell 2,1&lt;/td&gt;</span></span><br><span class="line"><span class="comment">        &lt;/tr&gt;</span></span><br><span class="line"><span class="comment">        &lt;tr&gt;</span></span><br><span class="line"><span class="comment">            &lt;td&gt;Cell 1,2&lt;/td&gt;</span></span><br><span class="line"><span class="comment">            &lt;td&gt;Cell 2,2&lt;/td&gt;</span></span><br><span class="line"><span class="comment">        &lt;/tr&gt;</span></span><br><span class="line"><span class="comment">    &lt;/tbody&gt;</span></span><br><span class="line"><span class="comment">&lt;/table&gt;</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 核心dom创建</span></span><br><span class="line"><span class="comment">//创建 table</span></span><br><span class="line"><span class="keyword">var</span> table = <span class="built_in">document</span>.createElement(<span class="string">"table"</span>);</span><br><span class="line">table.border = <span class="string">'1'</span>;</span><br><span class="line">table.width = <span class="string">"100%"</span>;</span><br><span class="line"><span class="comment">//创建 tbody</span></span><br><span class="line"><span class="keyword">var</span> tbody = <span class="built_in">document</span>.createElement(<span class="string">"tbody"</span>);</span><br><span class="line">table.appendChild(tbody);</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建 第一行</span></span><br><span class="line"><span class="keyword">var</span> row1 = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span><br><span class="line">tbody.appendChild(row1);</span><br><span class="line"><span class="keyword">var</span> cell1_1 = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span><br><span class="line">cell1_1.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 1,1"</span>));</span><br><span class="line">row1.appendChild(cell1_1);</span><br><span class="line"><span class="keyword">var</span> cell2_1 = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span><br><span class="line">cell2_1.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 2,1"</span>));</span><br><span class="line">row1.appendChild(cell2_1);</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建 第二行</span></span><br><span class="line"><span class="keyword">var</span> row2 = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span><br><span class="line">tbody.appendChild(row2);</span><br><span class="line"><span class="keyword">var</span> cell1_2 = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span><br><span class="line">cell1_2.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 1,2"</span>));</span><br><span class="line">row2.appendChild(cell1_2);</span><br><span class="line"><span class="keyword">var</span> cell2_2= <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span><br><span class="line">cell2_2.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 2,2"</span>));</span><br><span class="line">row2.appendChild(cell2_2);</span><br><span class="line"></span><br><span class="line"><span class="comment">//将表格添加到文档主体中</span></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(table);</span><br><span class="line"></span><br><span class="line"><span class="comment">// HTMLDOM</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 为table元素添加的属性和方法</span></span><br><span class="line"><span class="comment">* caption &lt;caption&gt;元素的指针</span></span><br><span class="line"><span class="comment">* tBodies 是一个&lt;tbody&gt;元素的HTMLCollection</span></span><br><span class="line"><span class="comment">* tFoot tfoot元素指针</span></span><br><span class="line"><span class="comment">* tHead thead元素指针</span></span><br><span class="line"><span class="comment">* rows 表格中所有行的HTMLCollection</span></span><br><span class="line"><span class="comment">* createThead() 创建thead</span></span><br><span class="line"><span class="comment">* createTFoot() 创建tfoot</span></span><br><span class="line"><span class="comment">* createCaption() 创建caption</span></span><br><span class="line"><span class="comment">* deleteThead() 删除thead</span></span><br><span class="line"><span class="comment">* deleteTFoot() 删除tfood</span></span><br><span class="line"><span class="comment">* deleteRow(pos) 删除指定位置行</span></span><br><span class="line"><span class="comment">* insertRow(pos) 向rows集合中的指定位置插入一行</span></span><br><span class="line"><span class="comment">* 为tbody元素添加的属性和方法</span></span><br><span class="line"><span class="comment">* rows 保存着tbody元素中行的HTMLCollection</span></span><br><span class="line"><span class="comment">* deleteRow(pos) 删除指定行</span></span><br><span class="line"><span class="comment">* insertRow(pos) 向rows集合中的指定位置插入一行，返回对新插入的引用</span></span><br><span class="line"><span class="comment">* 为tr元素添加的属性和方法</span></span><br><span class="line"><span class="comment">* cells 保存这tr元素中单元格的HTMLCollection</span></span><br><span class="line"><span class="comment">* deleteCell(pos) ...</span></span><br><span class="line"><span class="comment">* insertCell(pos) ...</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// HTMLDOM</span></span><br><span class="line"><span class="comment">//创建 table</span></span><br><span class="line"><span class="keyword">var</span> table = <span class="built_in">document</span>.createElement(<span class="string">"table"</span>);</span><br><span class="line">table.border = <span class="number">1</span>;</span><br><span class="line">table.width = <span class="string">"100%"</span>;</span><br><span class="line"><span class="comment">//创建 tbody</span></span><br><span class="line"><span class="keyword">var</span> tbody = <span class="built_in">document</span>.createElement(<span class="string">"tbody"</span>);</span><br><span class="line">table.appendChild(tbody);</span><br><span class="line"><span class="comment">// 创建第一行</span></span><br><span class="line"></span><br><span class="line">tbody.insertRow(<span class="number">0</span>);</span><br><span class="line">tbody.rows[<span class="number">0</span>].insertCell(<span class="number">0</span>);</span><br><span class="line">tbody.rows[<span class="number">0</span>].cells[<span class="number">0</span>].appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 1,1"</span>));</span><br><span class="line">tbody.rows[<span class="number">0</span>].insertCell(<span class="number">1</span>);</span><br><span class="line">tbody.rows[<span class="number">0</span>].cells[<span class="number">1</span>].appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 2,1"</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建第二行</span></span><br><span class="line">tbody.insertRow(<span class="number">1</span>);</span><br><span class="line">tbody.rows[<span class="number">1</span>].insertCell(<span class="number">0</span>);</span><br><span class="line">tbody.rows[<span class="number">1</span>].cells[<span class="number">0</span>].appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 1,2"</span>));</span><br><span class="line">tbody.rows[<span class="number">1</span>].insertCell(<span class="number">1</span>);</span><br><span class="line">tbody.rows[<span class="number">1</span>].cells[<span class="number">1</span>].appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 2,2"</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//将表格添加到文档主体中</span></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(table);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用NodeList</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* NodeList、NameNodeMap、HTMLCollection这3个都是动态的；换句话来说，每当文档结构发生变化</span></span><br><span class="line"><span class="comment">* 时，他们都会得到跟新。因此，他们始终会保存这最新、最准确的信息</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 迭代NodeList</span></span><br><span class="line"><span class="keyword">var</span> divs = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"div"</span>),</span><br><span class="line">    i,</span><br><span class="line">    len,</span><br><span class="line">    div;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>, len=divs.length; i &lt; len; i++)&#123;</span><br><span class="line">    div = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(div);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 选择符API</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> querySelector(selector) 接收一个CSS选择符，返回与该模式匹配的第一个元素，如果没有找到匹</span></span><br><span class="line"><span class="comment"> 配元素，返回null</span></span><br><span class="line"><span class="comment"> querySelectorAll(selector) 接收一个CSS选择符，返回一个NodeList的实例，没有匹配NodeList就</span></span><br><span class="line"><span class="comment"> 是空的</span></span><br><span class="line"><span class="comment"> matchesSelector(selector) 接收一个CSS选择符，如果调用元素与选择符匹配则返回true否则返回</span></span><br><span class="line"><span class="comment"> false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素遍历</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 对于元素间的空格，IE9以及之前版本不会返回文本节点，而其他所有浏览器都会返回文本节点。这</span></span><br><span class="line"><span class="comment">* 样就导致了使用childNodes和firstChild等属性时的行为不一致。</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* childElementCount 返回子元素（不包括文本节点和注释）的个数</span></span><br><span class="line"><span class="comment">* firstElementChild 指向第一个子元素：firstChild 元素版</span></span><br><span class="line"><span class="comment">* lastElementChild 指向最后一个子元素；lastChild 元素版</span></span><br><span class="line"><span class="comment">* previousElementSibling 前一个同辈元素 previousSibling 元素版</span></span><br><span class="line"><span class="comment">* nextElementSibling 后一个同辈元素 nextSibling 元素版</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// HTML5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 与类相关的扩充</span></span><br><span class="line"><span class="comment">// 通过class名获取NodeList</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* getElementsByClassName() 接收一个参数，包含一个或多个类名的字符串，返回带有指定类的所有</span></span><br><span class="line"><span class="comment">* 元素的NodeList。传入多个类名时，类名的先后不重要</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// classList</span></span><br><span class="line"><span class="comment">// 在没有classList之前</span></span><br><span class="line"><span class="comment">//删除"user"</span></span><br><span class="line"><span class="comment">//首先 取得类名字符串并拆分成数组</span></span><br><span class="line"><span class="keyword">var</span> classNames = div.className.split(<span class="regexp">/\s+/</span>);</span><br><span class="line"><span class="comment">//找到要删的类名</span></span><br><span class="line"><span class="keyword">var</span> pos = <span class="number">-1</span>,</span><br><span class="line">    i,</span><br><span class="line">    len;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>, len=classNames.length; i &lt; len; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span> (classNames[i] === <span class="string">"user"</span>)&#123;</span><br><span class="line">        pos = i;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//删除类名</span></span><br><span class="line">classNames.splice(i,<span class="number">1</span>);</span><br><span class="line"><span class="comment">//把剩下的类名拼成字符串并重新设置</span></span><br><span class="line">div.className = classNames.join(<span class="string">" "</span>);</span><br><span class="line"><span class="comment">// 使用classList</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* add(value) 将指定字符串添加到列表中。如果已存在就不添加了</span></span><br><span class="line"><span class="comment">* contains(value) 是否存在给定的值 返回 true或false</span></span><br><span class="line"><span class="comment">* remove(value) 从列表中删除给定的字符串</span></span><br><span class="line"><span class="comment">* toggle(value) 如果列表中已存在给定的值，删除它；不存在添加它</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line">div.classList.remove(<span class="string">"disabled"</span>);</span><br><span class="line">div.classList.add(<span class="string">"current"</span>);</span><br><span class="line">div.classList.toggle(<span class="string">"user"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 焦点管理</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* document.activeElement</span></span><br><span class="line"><span class="comment">* focus()</span></span><br><span class="line"><span class="comment">* document.hsaFocus()</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// HTMLDocument的变化</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* readyState 属性 loading 正在加载文档 complete 已加载完毕文档</span></span><br><span class="line"><span class="comment">* compatMode 兼容模式 CSS1Compat 标准模式 BackCompat 混杂模式</span></span><br><span class="line"><span class="comment">* head 属性</span></span><br><span class="line"><span class="comment">* charset 字符集属性</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义数据属性</span></span><br><span class="line"><span class="comment">// &lt;div id="myDiv" data-appId="12345" data-myname="Nicholas"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>);</span><br><span class="line"><span class="comment">//获取自定义属性的值</span></span><br><span class="line"><span class="keyword">var</span> appId = div.dataset.appId;</span><br><span class="line"><span class="keyword">var</span> myName = div.dataset.myname;</span><br><span class="line"><span class="comment">//设置值</span></span><br><span class="line">div.dataset.appId = <span class="number">23456</span>;</span><br><span class="line">div.dataset.myname = <span class="string">"Michael"</span>;</span><br><span class="line"><span class="comment">//是否存在mynamez值</span></span><br><span class="line"><span class="keyword">if</span> (div.dataset.myname)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Hello, "</span> + div.dataset.myname);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入标记</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* innerHTML</span></span><br><span class="line"><span class="comment">* outerHtml</span></span><br><span class="line"><span class="comment">* insertAdjacentHTML 接收两各参数 插入位置和HTML文本 第一个参数必须是下面参数之一</span></span><br><span class="line"><span class="comment">*   beforebegin 在元素之前插入一个紧邻的同辈元素</span></span><br><span class="line"><span class="comment">*   afterbegin 在当前元素之下插入一个新的子元素或在第一个子元素之前再插入新的子元素</span></span><br><span class="line"><span class="comment">*   beforeend  在当前元素之下插入一个新的子元素或在第一个子元素之后再插入新的子元素</span></span><br><span class="line"><span class="comment">*   afterend 在当前元素之后插入一个紧邻的同辈元素</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// scrollIntoView() true</span></span><br><span class="line"><span class="comment">// document.forms[0].scrollIntoView();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 文档模式</span></span><br><span class="line"><span class="comment">// &lt;meta http-equiv="X-UA-Compatible" content="IE=IEVersion"&gt;</span></span><br><span class="line"><span class="comment">// IEVersion 可以是 任意IE版本浏览器如7,8,9</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 强制IE用某种模式渲染</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// children 属性</span></span><br><span class="line"><span class="comment">// contains() 方法 判断一个节点是否包含另一个节点</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入文本</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* innerText</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* innerText和textContent返回的内容并不完全一样。innerText会忽略行内样式和脚本，</span></span><br><span class="line"><span class="comment">* 而textContent则会像返回其他文本一样返回行内的样式和脚本代码。</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* outerText 属性 作用范围扩大到了调用它的节点，其他和innerText一样</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 滚动</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* scrollIntoViewIfNeeded(alignCenter)  （Safari，chrome）</span></span><br><span class="line"><span class="comment">* scrollByLines(lineCount) （Safari，chrome）</span></span><br><span class="line"><span class="comment">* scrollByPages(pageCount) （Safari，chrome）</span></span><br><span class="line"><span class="comment">* */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dom 变化</span></span><br><span class="line"><span class="comment">// 访问元素的样式</span></span><br><span class="line"><span class="comment">// style</span></span><br><span class="line"><span class="comment">// dom 2 添加的属性和方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* cssText 访问style特性中的css代码</span></span><br><span class="line"><span class="comment">* length css属性个数</span></span><br><span class="line"><span class="comment">* parentRule 表示CSS信息的CSSRule对象</span></span><br><span class="line"><span class="comment">* getPropertyCSSValue(propertyName) 返回包含给定属性的CSSValue对象</span></span><br><span class="line"><span class="comment">* getPropertyPriority(propertyName) 如果给定了！important返回important 否则返回空字符串</span></span><br><span class="line"><span class="comment">* getPropertyValue(propertyName) 给定属性的字符串值</span></span><br><span class="line"><span class="comment">* item(index) 返回给定位置的CSS属性名称</span></span><br><span class="line"><span class="comment">* removeProperty(propertyName) 从样式中删除给定属性</span></span><br><span class="line"><span class="comment">*  setProperty(propertyName,value,priority) 将给定属性设置为相应的值，并加上优先级标志</span></span><br><span class="line"><span class="comment">*  （important 或一个空字符串）</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// getComputedStyle() 获取style和从css中设置的样式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作样式表</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素大小</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 偏移量</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* offsetHeight()(边框、内边距、内容)</span></span><br><span class="line"><span class="comment">* offsetWidth()</span></span><br><span class="line"><span class="comment">* offsetLeft()</span></span><br><span class="line"><span class="comment">* offsetTop()</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 所有这些偏移量属性都是只读的，而且每次访问都要重新计算。因此尽量避免重复访问这些值</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户区大小</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* clientWidth(内容+内边距)</span></span><br><span class="line"><span class="comment">* clientHeight</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getViewport</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.compatMode === <span class="string">"BackCompat"</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            width: <span class="built_in">document</span>.body.clientWidth,</span><br><span class="line">            height: <span class="built_in">document</span>.body.clientHeight</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            width: <span class="built_in">document</span>.documentElement.clientWidth,</span><br><span class="line">            height: <span class="built_in">document</span>.documentElement.clientHeight</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 与偏移量相似，客户区打小也是只读的，每次访问要重新计算</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 滚动大小（包含滚动内容的元素大小）隐藏部分也包含在内</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* scrollHeight()</span></span><br><span class="line"><span class="comment">* scrollWidth()</span></span><br><span class="line"><span class="comment">* scrollLeft() 改变滚动位置</span></span><br><span class="line"><span class="comment">* scrollTop()</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 文档总高度</span></span><br><span class="line"><span class="keyword">var</span> docHeight = <span class="built_in">Math</span>.max(<span class="built_in">document</span>.documentElement.scrollHeight,</span><br><span class="line">    <span class="built_in">document</span>.documentElement.clientHeight);</span><br><span class="line"><span class="keyword">var</span> docWidth = <span class="built_in">Math</span>.max(<span class="built_in">document</span>.documentElement.scrollWidth,</span><br><span class="line">    <span class="built_in">document</span>.documentElement.clientWidth);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取元素大小（跨浏览器）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBoundingClientRect</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> scrollTop = <span class="built_in">document</span>.documentElement.scrollTop;</span><br><span class="line">    <span class="keyword">var</span> scrollLeft = <span class="built_in">document</span>.documentElement.scrollLeft;</span><br><span class="line">    <span class="keyword">if</span> (element.getBoundingClientRect) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">arguments</span>.callee.offset != <span class="string">"number"</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> temp = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">            temp.style.cssText = <span class="string">"position:absolute;left:0;top:0;"</span>;</span><br><span class="line">            <span class="built_in">document</span>.body.appendChild(temp);</span><br><span class="line">            <span class="built_in">arguments</span>.callee.offset = -temp.getBoundingClientRect().top - scrollTop;</span><br><span class="line">            <span class="built_in">document</span>.body.removeChild(temp);</span><br><span class="line">            temp = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> rect = element.getBoundingClientRect();</span><br><span class="line">        <span class="keyword">var</span> offset = <span class="built_in">arguments</span>.callee.offset;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            left: rect.left + offset,</span><br><span class="line">            right: rect.right + offset,</span><br><span class="line">            top: rect.top + offset,</span><br><span class="line">            bottom: rect.bottom + offset</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> actualLeft = getElementLeft(element);</span><br><span class="line">        <span class="keyword">var</span> actualTop = getElementTop(element);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            left: actualLeft - scrollLeft,</span><br><span class="line">            right: actualLeft + element.offsetWidth - scrollLeft,</span><br><span class="line">            top: actualTop - scrollTop,</span><br><span class="line">            bottom: actualTop + element.offsetHeight - scrollTop</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历</span></span><br><span class="line"><span class="comment">// document.createNodeIterator()</span></span><br><span class="line"><span class="comment">// NodeIterator</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* root 想作为搜索起点的树中的节点</span></span><br><span class="line"><span class="comment">* whatToShow:表示要访问哪些节点的数字代码</span></span><br><span class="line"><span class="comment">* filter:是一个NodeFilter对象，或者表示应该接受还是拒绝特定节点的函数</span></span><br><span class="line"><span class="comment">* entityReferenceExpansion：布尔值是否要扩展实体引用</span></span><br><span class="line"><span class="comment">* whatToShow：参数是一个位掩码 常量类容定义在NodeFilter中</span></span><br><span class="line"><span class="comment">*   NodeFilter.SHOW_ALL 所有节点</span></span><br><span class="line"><span class="comment">*   NodeFilter.SHOW_ELEMENT 元素节点</span></span><br><span class="line"><span class="comment">*   NodeFilter.SHOW_ATTRIBUTE 特性节点 dom不能使用</span></span><br><span class="line"><span class="comment">*   NodeFilter.SHOW_TEXT 文本节点</span></span><br><span class="line"><span class="comment">*   NodeFilter.SHOW_COMMENT 注释节点</span></span><br><span class="line"><span class="comment">*   NodeFilter.SHOW_DOCUMENT 文档节点</span></span><br><span class="line"><span class="comment">*   NodeFilter.SHOW_DOCUMENT_TYPE 文档类型节点</span></span><br><span class="line"><span class="comment">*   nextNode()</span></span><br><span class="line"><span class="comment">*   previousNode()</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="comment">// 插入测试dom</span></span><br><span class="line"><span class="keyword">var</span> html = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;div id="div1"&gt;</span></span><br><span class="line"><span class="string">    &lt;p&gt;&lt;b&gt;Hello&lt;/b&gt; world!&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;ul&gt;</span></span><br><span class="line"><span class="string">        &lt;li&gt;List item 1&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;li&gt;List item 2&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;li&gt;List item 3&lt;/li&gt;</span></span><br><span class="line"><span class="string">    &lt;/ul&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="built_in">document</span>.body.innerHTML = html</span><br><span class="line"><span class="comment">/*var root = document</span></span><br><span class="line"><span class="comment">var filter = &#123;</span></span><br><span class="line"><span class="comment">    acceptNode: function(node)&#123;</span></span><br><span class="line"><span class="comment">        return node.tagName.toLowerCase() === "p" ?</span></span><br><span class="line"><span class="comment">            NodeFilter.FILTER_ACCEPT :</span></span><br><span class="line"><span class="comment">                NodeFilter.FILTER_SKIP;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">var iterator = document.createNodeIterator(root, NodeFilter.SHOW_ELEMENT,</span></span><br><span class="line"><span class="comment">    filter, false);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">console.log(iterator.nextNode())</span></span><br><span class="line"><span class="comment">console.log(iterator.previousNode())*/</span></span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>)</span><br><span class="line"><span class="keyword">var</span> iterator = <span class="built_in">document</span>.createNodeIterator(div, NodeFilter.SHOW_ELEMENT, <span class="literal">null</span>, <span class="literal">false</span>)</span><br><span class="line"><span class="keyword">var</span> node = iterator.nextNode()</span><br><span class="line"><span class="keyword">while</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(node.tagName)</span><br><span class="line">    node = iterator.nextNode()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TreeWalker</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* parentNode()</span></span><br><span class="line"><span class="comment">* firstChild()</span></span><br><span class="line"><span class="comment">* lastChild()</span></span><br><span class="line"><span class="comment">* nextSibling()</span></span><br><span class="line"><span class="comment">* previousSibling()</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line"><span class="keyword">var</span> walker = <span class="built_in">document</span>.createTreeWalker(div2, NodeFilter.SHOW_ELEMENT,</span><br><span class="line">    <span class="literal">null</span>, <span class="literal">false</span>);</span><br><span class="line">walker.firstChild(); <span class="comment">// 到p</span></span><br><span class="line">walker.nextSibling(); <span class="comment">// 到ul</span></span><br><span class="line"><span class="keyword">var</span> node2 = walker.firstChild(); <span class="comment">// 第一个li</span></span><br><span class="line"><span class="keyword">while</span> (node2 !== <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(node2.tagName); <span class="comment">//输出标签名</span></span><br><span class="line">    node2 = walker.nextSibling();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// dom中的范围</span></span><br><span class="line"><span class="comment">// 检测 是否支持dom2</span></span><br><span class="line"><span class="keyword">var</span> supportsRange = <span class="built_in">document</span>.implementation.hasFeature(<span class="string">"Range"</span>, <span class="string">"2.0"</span>);</span><br><span class="line"><span class="keyword">var</span> alsoSupportsRange = (<span class="keyword">typeof</span> <span class="built_in">document</span>.createRange === <span class="string">"function"</span>);</span><br><span class="line"><span class="comment">// 创建</span></span><br><span class="line"><span class="comment">// var range = document.createRange();</span></span><br><span class="line"><span class="comment">// 方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* startContainer 包含范围的起点</span></span><br><span class="line"><span class="comment">* startOffset 范围在startContainer中起点的偏移量</span></span><br><span class="line"><span class="comment">* endContainer 包含范围终点的节点</span></span><br><span class="line"><span class="comment">* endOffset 范围在endContainer中终点的偏移量</span></span><br><span class="line"><span class="comment">* commonAncestorContainer startContainer、endContainer共同祖先在文档树中位置最深的那个</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用都没范围实现简单选择</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* selectNode() 整个节点</span></span><br><span class="line"><span class="comment">* selectNodeContents() 节点的子节点</span></span><br><span class="line"><span class="comment">* 接收一个dom节点，用节点中的信息填充范围</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">var</span> range1 = <span class="built_in">document</span>.createRange(),</span><br><span class="line">range2 = <span class="built_in">document</span>.createRange();</span><br><span class="line">range1.selectNode(div2)</span><br><span class="line">range2.selectNodeContents(div2)</span><br><span class="line"><span class="built_in">console</span>.log(range1,range2)</span><br><span class="line"><span class="comment">// 方法</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* setStartBefore(refNode)</span></span><br><span class="line"><span class="comment">* setStartAfter(refNode)</span></span><br><span class="line"><span class="comment">* setEndBefore(refNode)</span></span><br><span class="line"><span class="comment">* setEndAfter(refNode)</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用dom范围实现复杂选择</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*  setStart()</span></span><br><span class="line"><span class="comment">*  setEnd()</span></span><br><span class="line"><span class="comment">*  接收节点和偏移量值，setStart节点变成startContainer 偏移量变成startOffset  setEnd类似</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作DOM范围中的内容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* deleteContents() 删除</span></span><br><span class="line"><span class="comment">* extractContents() 删除并返回删除值</span></span><br><span class="line"><span class="comment">* cloneContents() 创建对象复本</span></span><br><span class="line"><span class="comment">* insertNode() 插入</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 折叠DOM范围</span></span><br><span class="line"><span class="comment">//  collapse()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 比较DOM范围</span></span><br><span class="line"><span class="comment">// compareBoundaryPoints()</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*  Range.START_TO_START(0)</span></span><br><span class="line"><span class="comment">*  Range.START_TO_END(1)</span></span><br><span class="line"><span class="comment">*  Range.END_TO_END(2)</span></span><br><span class="line"><span class="comment">*  Range.END_TO_START(3)</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 复制DOM范围</span></span><br><span class="line"><span class="comment">//  cloneRange()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 清除DOM范围</span></span><br><span class="line"><span class="comment">// detach()</span></span><br></pre></td></tr></table></figure>

<h3 id="javascript-资料"><a href="#javascript-资料" class="headerlink" title="javascript 资料"></a>javascript 资料</h3><p>现代JavaScript教程 <a href="https://zh.javascript.info/" target="_blank" rel="noopener">https://zh.javascript.info/</a></p>
<h2 id="VScode"><a href="#VScode" class="headerlink" title="VScode"></a>VScode</h2><h3 id="javascript"><a href="#javascript" class="headerlink" title="javascript"></a>javascript</h3><p>windows</p>
<p>快捷键：</p>
<p>多行注释/取消：<code>shift + alt + a</code></p>
<p>单行注释/取消：<code>ctrl + /</code></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/PICKS/" rel="tag"># PICKS</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/06/22/Dawn-Dew-light-Collected-at-Dusk-4-Basic-Knowledge/" rel="prev" title="Dawn Dew-light Collected at Dusk 4 Basic Knowledge">
      <i class="fa fa-chevron-left"></i> Dawn Dew-light Collected at Dusk 4 Basic Knowledge
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/08/08/阿米诺斯/" rel="next" title="朝花夕拾（三）">
      朝花夕拾（三） <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Anaconda-Navigator-amp-Pyhton-amp-脚本语言-amp-Others"><span class="nav-number">1.</span> <span class="nav-text">Anaconda Navigator &amp; Pyhton &amp; 脚本语言 &amp; Others</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Anaconda-Navigator-介绍-背景"><span class="nav-number">1.1.</span> <span class="nav-text">Anaconda Navigator 介绍 / 背景</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#conda-anaconda-anaconda-navigator-pip-virtualenv区别"><span class="nav-number">1.1.1.</span> <span class="nav-text">conda anaconda anaconda-navigator pip virtualenv区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#conda基础操作"><span class="nav-number">1.1.2.</span> <span class="nav-text">conda基础操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#conda参数"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">conda参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#conda-install-和-pip-install-的区别"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">conda install 和 pip install 的区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#conda更新"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">conda更新</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Jupyter-Book"><span class="nav-number">1.2.</span> <span class="nav-text">Jupyter Book</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用技巧"><span class="nav-number">1.2.1.</span> <span class="nav-text">使用技巧</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Python"><span class="nav-number">1.3.</span> <span class="nav-text">Python</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#python基础"><span class="nav-number">1.3.1.</span> <span class="nav-text">python基础</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python包"><span class="nav-number">1.3.2.</span> <span class="nav-text">python包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Python随机随到的一些问题，那你妈逼随机就这么容易随到的啊"><span class="nav-number">1.3.3.</span> <span class="nav-text">Python随机随到的一些问题，那你妈逼随机就这么容易随到的啊</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#anaconda代理问题"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">anaconda代理问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python和Clash4windows的冲突问题"><span class="nav-number">1.3.3.2.</span> <span class="nav-text">python和Clash4windows的冲突问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python和解释性语言"><span class="nav-number">1.3.3.3.</span> <span class="nav-text">python和解释性语言</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaScript"><span class="nav-number">1.4.</span> <span class="nav-text">JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基础"><span class="nav-number">1.4.1.</span> <span class="nav-text">基础</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#简介-amp-基本概念"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">简介 &amp; 基本概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#变量-amp-作用-amp-内存问题"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">变量 &amp; 作用 &amp; 内存问题</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#js的连续赋值"><span class="nav-number">1.4.1.2.1.</span> <span class="nav-text">js的连续赋值</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#引用类型"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">引用类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#面向对象"><span class="nav-number">1.4.1.4.</span> <span class="nav-text">面向对象</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-JavaScript创建对象的方式"><span class="nav-number">1.4.1.4.1.</span> <span class="nav-text">1.JavaScript创建对象的方式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-对象属性操作的控制"><span class="nav-number">1.4.1.4.2.</span> <span class="nav-text">2.对象属性操作的控制</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#2-1-Object-defineProperty"><span class="nav-number">1.4.1.4.2.1.</span> <span class="nav-text">2.1.Object.defineProperty()</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-2-属性描述符的分类"><span class="nav-number">1.4.1.4.2.2.</span> <span class="nav-text">2.2.属性描述符的分类</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-3-数据属性描述符"><span class="nav-number">1.4.1.4.2.3.</span> <span class="nav-text">2.3.数据属性描述符</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-4-存取属性描述符"><span class="nav-number">1.4.1.4.2.4.</span> <span class="nav-text">2.4.存取属性描述符</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-5-同时给多个属性定义属性描述符"><span class="nav-number">1.4.1.4.2.5.</span> <span class="nav-text">2.5.同时给多个属性定义属性描述符</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-Object中常用的方法"><span class="nav-number">1.4.1.4.3.</span> <span class="nav-text">3.Object中常用的方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-JavaScript创建多个对象"><span class="nav-number">1.4.1.4.4.</span> <span class="nav-text">4.JavaScript创建多个对象</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#4-1-方案一：工厂函数"><span class="nav-number">1.4.1.4.4.1.</span> <span class="nav-text">4.1.方案一：工厂函数</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-2-方案二：构造函数"><span class="nav-number">1.4.1.4.4.2.</span> <span class="nav-text">4.2.方案二：构造函数</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-3-方案三：原型-构造函数"><span class="nav-number">1.4.1.4.4.3.</span> <span class="nav-text">4.3.方案三：原型+构造函数</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-4-其他"><span class="nav-number">1.4.1.4.4.4.</span> <span class="nav-text">4.4.其他</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#原型模式"><span class="nav-number">1.4.1.5.</span> <span class="nav-text">原型模式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#JavaScript原型-amp-原型链"><span class="nav-number">1.4.1.5.1.</span> <span class="nav-text">JavaScript原型 &amp; 原型链</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-prototype属性"><span class="nav-number">1.4.1.5.1.1.</span> <span class="nav-text">1.prototype属性</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-proto属性"><span class="nav-number">1.4.1.5.1.2.</span> <span class="nav-text">2.proto属性</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-constructor属性"><span class="nav-number">1.4.1.5.1.3.</span> <span class="nav-text">3.constructor属性</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-总结"><span class="nav-number">1.4.1.5.1.4.</span> <span class="nav-text">4.总结</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#5-使用习惯"><span class="nav-number">1.4.1.5.1.5.</span> <span class="nav-text">5.使用习惯</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#JS继承"><span class="nav-number">1.4.1.5.2.</span> <span class="nav-text">JS继承</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-原型链继承"><span class="nav-number">1.4.1.5.2.1.</span> <span class="nav-text">1.原型链继承</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-构造函数继承"><span class="nav-number">1.4.1.5.2.2.</span> <span class="nav-text">2.构造函数继承</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-组合继承"><span class="nav-number">1.4.1.5.2.3.</span> <span class="nav-text">3.组合继承</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-寄生组合继承"><span class="nav-number">1.4.1.5.2.4.</span> <span class="nav-text">4.寄生组合继承</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#5-ES6自带继承"><span class="nav-number">1.4.1.5.2.5.</span> <span class="nav-text">5.ES6自带继承</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#函数表达式"><span class="nav-number">1.4.1.6.</span> <span class="nav-text">函数表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#BOM"><span class="nav-number">1.4.1.7.</span> <span class="nav-text">BOM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#客户端检测"><span class="nav-number">1.4.1.8.</span> <span class="nav-text">客户端检测</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DOM"><span class="nav-number">1.4.1.9.</span> <span class="nav-text">DOM</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#javascript-资料"><span class="nav-number">1.4.2.</span> <span class="nav-text">javascript 资料</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VScode"><span class="nav-number">1.5.</span> <span class="nav-text">VScode</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#javascript"><span class="nav-number">1.5.1.</span> <span class="nav-text">javascript</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Fly Hugh</p>
  <div class="site-description" itemprop="description">WE CHOOSE TO  GO TO THE MARS</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">73</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">61</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Fly Hugh</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  















  

  

</body>
</html>
